<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="vue2和vue3的使用。">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="http://example.com/2023/12/12/Vue/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="vue2和vue3的使用。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/12/12/Vue/MVVM.png">
<meta property="article:published_time" content="2023-12-12T11:23:25.000Z">
<meta property="article:modified_time" content="2023-12-17T01:25:42.987Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/12/12/Vue/MVVM.png">


<link rel="canonical" href="http://example.com/2023/12/12/Vue/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2023/12/12/Vue/","path":"2023/12/12/Vue/","title":"Vue"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Vue | Hexo</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">Vue介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue%E5%9F%BA%E6%9C%AC"><span class="nav-number">2.</span> <span class="nav-text">Vue基本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%86%85%E5%AE%B9"><span class="nav-number">2.1.</span> <span class="nav-text">核心内容</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E8%AF%86Vue"><span class="nav-number">2.1.1.</span> <span class="nav-text">初识Vue</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vue%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="nav-number">2.1.2.</span> <span class="nav-text">Vue模板语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%EF%BC%9A%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">Vue 核心特性：响应式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E2%AD%90"><span class="nav-number">2.3.</span> <span class="nav-text">浏览器插件⭐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-v-bind%E3%80%81v-model"><span class="nav-number">2.4.</span> <span class="nav-text">数据绑定 v-bind、v-model</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#el%E4%B8%8Edata%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%86%99%E6%B3%95"><span class="nav-number">2.5.</span> <span class="nav-text">el与data的两种写法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%9E%8B%E3%80%81%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="nav-number">2.6.</span> <span class="nav-text">MVVM模型、数据代理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MVVM%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.6.1.</span> <span class="nav-text">MVVM模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vue%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="nav-number">2.6.2.</span> <span class="nav-text">Vue中的数据代理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86-v-on"><span class="nav-number">2.7.</span> <span class="nav-text">事件处理 v-on</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-number">2.7.1.</span> <span class="nav-text">事件处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94"><span class="nav-number">2.7.2.</span> <span class="nav-text">事件修饰符—————————-</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E6%8C%87%E4%BB%A4"><span class="nav-number">2.8.</span> <span class="nav-text">Vue指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E6%8C%87%E4%BB%A4%EF%BC%9Av-for"><span class="nav-number">2.9.</span> <span class="nav-text">Vue指令：v-for</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%B0%E4%BA%8B%E6%9C%AC%E6%A1%88%E4%BE%8B"><span class="nav-number">2.10.</span> <span class="nav-text">记事本案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue%E9%AB%98%E7%BA%A7"><span class="nav-number">3.</span> <span class="nav-text">Vue高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">3.1.</span> <span class="nav-text">指令修饰符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#v-bind-%E5%AF%B9%E4%BA%8E%E6%A0%B7%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E5%A2%9E%E5%BC%BA-%E6%93%8D%E4%BD%9Cclass"><span class="nav-number">3.2.</span> <span class="nav-text">v-bind 对于样式控制的增强 - 操作class</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#v-bind-%E5%AF%B9%E4%BA%8E%E6%A0%B7%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E5%A2%9E%E5%BC%BA-%E6%93%8D%E4%BD%9Cstyle"><span class="nav-number">3.3.</span> <span class="nav-text">v-bind 对于样式控制的增强 - 操作style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#v-model-%E5%BA%94%E7%94%A8%E4%BA%8E%E5%85%B6%E4%BB%96%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0"><span class="nav-number">3.4.</span> <span class="nav-text">v-model 应用于其他表单元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%9Acomputed"><span class="nav-number">3.5.</span> <span class="nav-text">计算属性：computed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#computed-VS-methods"><span class="nav-number">3.6.</span> <span class="nav-text">computed VS methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#watch-%E4%BE%A6%E5%90%AC%E5%99%A8%EF%BC%88%E7%9B%91%E8%A7%86%E5%99%A8%EF%BC%89"><span class="nav-number">3.7.</span> <span class="nav-text">watch 侦听器（监视器）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%86%99%E6%B3%95"><span class="nav-number">3.7.1.</span> <span class="nav-text">简单写法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BF%BB%E8%AF%91%E6%A1%88%E4%BE%8B-axios%E2%AD%90"><span class="nav-number">3.7.2.</span> <span class="nav-text">翻译案例 - axios⭐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E5%86%99%E6%B3%95"><span class="nav-number">3.7.3.</span> <span class="nav-text">完整写法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A1%88%E4%BE%8B-axios"><span class="nav-number">3.7.4.</span> <span class="nav-text">购物车案例 -axios</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%96%B9%E6%B3%95"><span class="nav-number">3.8.</span> <span class="nav-text">前端本地存储方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="nav-number"></span> <span class="nav-text">注意：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#http-npm-taobao-org%E5%92%8C-http-registry-npm-taobao-org-%E5%B0%86%E5%9C%A8-2022-06-30-%E5%8F%B7%E6%AD%A3%E5%BC%8F%E4%B8%8B%E7%BA%BF%E5%92%8C%E5%81%9C%E6%AD%A2-DNS-%E8%A7%A3%E6%9E%90%E3%80%82-%E6%89%80%E4%BB%A5%EF%BC%8C%E4%B8%80%E4%BA%9B%E6%97%A7%E7%9A%84%E6%96%87%E6%A1%A3%E5%92%8C%E5%8F%82%E8%80%83%E5%8F%AF%E8%83%BD%E4%BC%9A%E4%BA%8B%E4%B8%8A%E9%9D%A2%E4%B8%A4%E4%B8%AA%E6%BA%90%E5%9C%B0%E5%9D%80"><span class="nav-number"></span> <span class="nav-text">http:&#x2F;&#x2F;npm.taobao.org和 http:&#x2F;&#x2F;registry.npm.taobao.org 将在 2022.06.30 号正式下线和停止 DNS 解析。 所以，一些旧的文档和参考可能会事上面两个源地址</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%B0%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%9A"><span class="nav-number"></span> <span class="nav-text">新的地址：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#http-npm-taobao-org-http-npmmirror-com"><span class="nav-number"></span> <span class="nav-text">http:&#x2F;&#x2F;npm.taobao.org &#x3D;&gt; http:&#x2F;&#x2F;npmmirror.com</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#http-registry-npm-taobao-org-http-registry-npmmirror-com"><span class="nav-number"></span> <span class="nav-text">http:&#x2F;&#x2F;registry.npm.taobao.org &#x3D;&gt; http:&#x2F;&#x2F;registry.npmmirror.com</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E8%84%9A%E6%89%8B%E6%9E%B6-Vue-CLI%E2%AD%90"><span class="nav-number">0.1.</span> <span class="nav-text">工程化开发 &amp; 脚手架 Vue CLI⭐</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E8%84%9A%E6%89%8B%E6%9E%B6vue-cli"><span class="nav-number">0.1.1.</span> <span class="nav-text">安装脚手架vue-cli</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">0.1.2.</span> <span class="nav-text">创建项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE"><span class="nav-number">0.1.3.</span> <span class="nav-text">启动项目</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="nav-number">0.2.</span> <span class="nav-text">脚手架目录文件介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-%E9%85%8D%E7%BD%AE%E2%AD%90"><span class="nav-number">0.3.</span> <span class="nav-text">Vue 配置⭐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">0.4.</span> <span class="nav-text">项目运行流程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#main-js"><span class="nav-number">0.4.1.</span> <span class="nav-text">main.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#App-vue%E3%80%90%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E6%8F%92%E4%BB%B6%EF%BC%9AVetur%E3%80%91%E2%AD%90"><span class="nav-number">0.4.2.</span> <span class="nav-text">App.vue【语法高亮插件：Vetur】⭐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#index-html"><span class="nav-number">0.4.3.</span> <span class="nav-text">index.html</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91-%E6%A0%B9%E7%BB%84%E4%BB%B6-components"><span class="nav-number">0.5.</span> <span class="nav-text">组件化开发 &amp; 根组件 - components</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B3%A8%E5%86%8C%E4%BD%BF%E7%94%A8"><span class="nav-number">0.5.1.</span> <span class="nav-text">普通组件的注册使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E6%B3%A8%E5%86%8C"><span class="nav-number">0.5.2.</span> <span class="nav-text">局部注册</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C"><span class="nav-number">0.5.3.</span> <span class="nav-text">全局注册</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="nav-number">0.6.</span> <span class="nav-text">注意点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%95%B0%E6%8D%AE"><span class="nav-number">1.</span> <span class="nav-text">Vue工程化开发-数据</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/12/Vue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Vue | Hexo">
      <meta itemprop="description" content="vue2和vue3的使用。">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-12 19:23:25" itemprop="dateCreated datePublished" datetime="2023-12-12T19:23:25+08:00">2023-12-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-12-17 09:25:42" itemprop="dateModified" datetime="2023-12-17T09:25:42+08:00">2023-12-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">vue2和vue3的使用。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="Vue介绍"><a href="#Vue介绍" class="headerlink" title="Vue介绍"></a>Vue介绍</h2><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_55593227/article/details/119717498">Vue学习笔记（尚硅谷天禹老师）</a>、<a target="_blank" rel="noopener" href="https://zhoubichuan.github.io/web-vue/">Vue2.x学习笔记</a></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/">Vue2官网</a></p>
<p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">Vue中文官网</a>、<a target="_blank" rel="noopener" href="https://vuejs.org/">Vue英文官网</a></p>
<p>Vue 是一个用于动态构建用户界面的渐进式JavaScript框</p>
<p>Vue的特点</p>
<ul>
<li>遵循MVVM模式</li>
<li>编码简洁，体积小，运行效率高，适合移动&#x2F;PC端开发</li>
<li>它本身只关注UI，可以引入其它第三方库开发项目</li>
</ul>
<p>与其他JS框架的关联</p>
<ul>
<li>借鉴 Angular 的<strong>模板</strong>和<strong>数据绑定</strong>技术</li>
<li>借鉴 React 的<strong>组件化</strong>和<strong>虚拟DOM</strong>技术</li>
</ul>
<p>Vue周边库</p>
<ul>
<li>vue-cli：vue脚手架</li>
<li>vue-resource</li>
<li>axios</li>
<li>vue-router：路由</li>
<li>vuex：状态管理</li>
<li>element-ui：基于vue的UI组件库（PC端）</li>
</ul>
<h2 id="Vue基本"><a href="#Vue基本" class="headerlink" title="Vue基本"></a>Vue基本</h2><p>Vue 的两种使用方式： </p>
<p>① Vue 核心包开发 </p>
<ul>
<li>场景：局部 模块改造</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>② Vue 核心包 &amp; Vue 插件 工程化开发 </p>
<ul>
<li>场景：整站 开发</li>
</ul>
<h3 id="核心内容"><a href="#核心内容" class="headerlink" title="核心内容"></a>核心内容</h3><p>核心步骤：1、准备容器；2、引包 (官网) - 开发版本 &#x2F; 生产版本 ；3、创建 Vue 实例 new Vue() ；4、指定配置项 → 渲染数据 </p>
<h4 id="初识Vue"><a href="#初识Vue" class="headerlink" title="初识Vue"></a>初识Vue</h4><p>插值表达式：Vue的一种模板语法</p>
<p>作用：利用 表达式 进行插值渲染</p>
<p>语法：<code>&#123;&#123; 表达式 &#125;&#125;</code></p>
<p>注意点：</p>
<ul>
<li>1、使用的数据要存在</li>
<li>2、支持的是表达式，不是语句  if  for</li>
<li>3、不能在标签属性中使用 <code>&#123;&#123; &#125;&#125;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 注意：不是Vue管理的范围 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">  box2 -- &#123;&#123; count &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  box -- &#123;&#123; msg &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!-- 注意：Vue所管理的范围 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1. 准备容器 (Vue所管理的范围) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 这里将来会编写一些用于渲染的代码逻辑 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; nickname &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; nickname.toUpperCase() &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; nickname + &#x27;你好&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; age &gt;= 18 ? &#x27;成年&#x27; : &#x27;未成年&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; friend.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; friend.desc &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; hobby &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> 使用的数据不存在</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; if &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>    支持的是表达式，不是语句 if for</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; nickname &#125;&#125;&quot;</span>&gt;</span>我是p标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>不能在标签属性中使用 &#123;&#123; &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="comment">&lt;!-- 2. 引包 (开发版本包 / 生产版本包) 官网。引入的是开发版本包 - 包含完整的注释和警告 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// Vue.config.productionTip = false // 阻止vue在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 一旦引入 VueJS核心包，在全局环境，就有了 Vue 构造函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/*3. 创建实例</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  4. 添加配置项 =&gt; 完成渲染</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    ① el 指定挂载点 </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    ② data 提供数据</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">*/</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 通过 el 配置选择器，当前Vue实例为哪个容器服务，值通常为css选择器字符串</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// data用于存储数据，数据供el所指定的容器去使用</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg</span>: <span class="string">&#x27;Hello 传智播客&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">count</span>: <span class="number">666</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">nickname</span>: <span class="string">&#x27;tony&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">friend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;jepson&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">desc</span>: <span class="string">&#x27;热爱学习 Vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li><p>想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象</p>
</li>
<li><p>root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法</p>
</li>
<li><p>root容器里的代码被称为<strong>Vue模板</strong></p>
</li>
<li><p>Vue实例与容器是<strong>一一对应</strong>的</p>
</li>
<li><p><strong>真实开发中只有一个Vue实例，并且会配合着组件一起使用</strong></p>
</li>
<li><p><code>&#123;&#123;xxx&#125;&#125;</code>中的xxx要写<strong>js表达式</strong>，且xxx可以自动读取到data中的所有属性</p>
</li>
<li><p>一旦data中的数据发生变化，那么模板中用到该数据的地方也会自动更新</p>
</li>
</ul>
<h4 id="Vue模板语法"><a href="#Vue模板语法" class="headerlink" title="Vue模板语法"></a>Vue模板语法</h4><p>Vue模板语法包括两大类：</p>
<ul>
<li>插值语法：<ul>
<li>功能：用于解析标签体内容</li>
<li>写法：<code>&#123;&#123;xxx&#125;&#125;</code>，xxx是js表达式，且可以直接读取到data中的所有区域</li>
</ul>
</li>
<li>指令语法：<ul>
<li>功能：用于解析标签（包括：标签属性、标签体内容、绑定事件…）</li>
<li>举例：<code>&lt;a v-bind:href=&quot;xxx&quot;&gt;</code>或简写为<code>&lt;a :href=&quot;xxx&quot;&gt;</code>，xxx同样要写js表达式，且可以直接读取到data中的所有属性</li>
<li>备注：Vue中有很多的指令，且形式都是v-???，此处我们只是拿v-bind举个例子</li>
</ul>
</li>
</ul>
<h3 id="Vue-核心特性：响应式"><a href="#Vue-核心特性：响应式" class="headerlink" title="Vue 核心特性：响应式"></a>Vue 核心特性：响应式</h3><p>1、什么是响应式呢？</p>
<ul>
<li>数据改变，视图自动更新。使用 Vue 开发 → 专注于业务核心逻辑 即可</li>
</ul>
<p>2、如何访问或修改数据呢？</p>
<ul>
<li>data中的数据, 最终会被添加到实例上</li>
<li>① 访问数据： <code>实例.属性名</code></li>
<li>② 修改数据： <code>实例.属性名 = 值</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; msg &#125;&#125;</span><br><span class="line">  &#123;&#123; count &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 响应式数据 → 数据变化了，视图自动更新</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 可在浏览器的控制台进行测试</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg</span>: <span class="string">&#x27;你好，黑马&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">count</span>: <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="浏览器插件⭐"><a href="#浏览器插件⭐" class="headerlink" title="浏览器插件⭐"></a>浏览器插件⭐</h3><p>安装 Vue 开发者工具：装插件调试 Vue 应用</p>
<p>方式一：通过谷歌应用商店安装 （国外网站），搜索安装扩展 <strong>Vue Devtools</strong></p>
<p>方式二：<a target="_blank" rel="noopener" href="https://chrome.zzzmh.cn/index">极简插件</a> 搜索 <strong>Vue Devtools</strong>  → 推荐下载 → 解压 → 使用开发者模式 → 拖拽安装crx后缀扩展 → 插件详情:允许访问文件</p>
<p>最后打开 Vue 运行的页面，调试工具中 Vue 栏，即可查看修改数据，进行调试。</p>
<h3 id="数据绑定-v-bind、v-model"><a href="#数据绑定-v-bind、v-model" class="headerlink" title="数据绑定 v-bind、v-model"></a>数据绑定 v-bind、v-model</h3><p>Vue中有2种数据绑定的方式：</p>
<p>单向绑定（<strong>v-bind</strong>）：数据只能从data流向页面</p>
<ul>
<li><p>语法：<code>v-bind:属性名=&quot;表达式&quot;</code></p>
</li>
<li><p>注意： 简写形式： <code>:属性名=&quot;表达式&quot;</code></p>
</li>
</ul>
<p>双向绑定（<strong>v-model</strong>）：数据不仅能从data流向页面，还可以从页面流向data</p>
<ul>
<li>语法: <code>v-model = &#39;变量&#39;</code></li>
<li>① 数据变化 → 视图自动更新，② 视图变化 → 数据自动更新</li>
</ul>
<p>备注：</p>
<ul>
<li>双向绑定一般都应用在表单类元素上（如：<code>&lt;input&gt;</code>、<code>&lt;select&gt;</code>、<code>&lt;textarea&gt;</code>等）</li>
<li><code>v-model:value</code> 可以简写为 <code>v-model</code> ，因为 v-model 默认收集的就是 value 值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>数据绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-bind 作用：动态的设置html的标签属性。注意：简写形式 :属性名=&quot;表达式&quot;。 --&gt;</span></span><br><span class="line">        单向数据绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        双向数据绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">v-bind:alt</span>=<span class="string">&quot;alts&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">:alt</span>=<span class="string">&quot;alts&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示 </span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">imgUrl</span>: <span class="string">&#x27;./imgs/10-02.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">msg</span>: <span class="string">&#x27;hello 波仔&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">alts</span>: <span class="string">&#x27;图片无法显示&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="el与data的两种写法"><a href="#el与data的两种写法" class="headerlink" title="el与data的两种写法"></a>el与data的两种写法</h3><blockquote>
<p>由Vue管理的函数，一定不要写箭头函数，否则this就不再是Vue实例了</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello,&#123;&#123;name&#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示 </span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript"><span class="comment">//el的第一种写法：创建Vue实例对象的时候配置el属性</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    ...</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript"><span class="comment">//el的第二种写法：先创建Vue实例，随后再通过vm.$mount(&#x27;#root&#x27;)指定el的值</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    ...</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">vm.$mount(<span class="string">&#x27;#root&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript"><span class="comment">//data的第一种写法：对象式</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript"><span class="comment">//data的第二种写法：函数式。学到组件时，data必须使用函数，否则会报错</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="MVVM模型、数据代理"><a href="#MVVM模型、数据代理" class="headerlink" title="MVVM模型、数据代理"></a>MVVM模型、数据代理</h3><h4 id="MVVM模型"><a href="#MVVM模型" class="headerlink" title="MVVM模型"></a>MVVM模型</h4><p><img src="/2023/12/12/Vue/MVVM.png"></p>
<p>MVVM模型：</p>
<ul>
<li>M：模型（Model），data中的数据</li>
<li>V：视图（View），模板代码</li>
<li>VM：视图模型（ViewModel），Vue实例</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>mvvm<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>名称：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>战队：&#123;&#123;rank&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试：&#123;&#123;$options&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123; </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;uzi&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">rank</span>:<span class="string">&#x27;RNG&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>总结：</strong></p>
<ul>
<li><p>data中所有的属性，最后都出现在了vm身上</p>
</li>
<li><p>vm身上所有的属性 及 Vue原型身上所有的属性，在Vue模板中都可以直接使用</p>
</li>
</ul>
<h4 id="Vue中的数据代理"><a href="#Vue中的数据代理" class="headerlink" title="Vue中的数据代理"></a>Vue中的数据代理</h4><p>总结：</p>
<ul>
<li><p>Vue中的数据代理通过vm对象来代理data对象中属性的操作（读&#x2F;写）</p>
</li>
<li><p>Vue中数据代理的好处：更加方便的操作data中的数据</p>
</li>
</ul>
<p>基本原理：</p>
<ul>
<li>通过object.defineProperty()把data对象中所有属性添加到vm上。</li>
<li>为每一个添加到vm上的属性，都指定一个getter&#x2F;setter。</li>
<li>在getter&#x2F;setter内部去操作（读&#x2F;写）data中对应的属性。</li>
</ul>
<h3 id="事件处理-v-on"><a href="#事件处理-v-on" class="headerlink" title="事件处理 v-on"></a>事件处理 v-on</h3><h4 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h4><p>v-on：语法：</p>
<ul>
<li><code>v-on:事件名 = &quot;内联语句&quot;</code></li>
<li><code>v-on:事件名 = &quot;methods中的函数名&quot;</code></li>
<li><code>v-on:事件名 = &quot;methods中的函数名(参数1, 参数2)&quot;</code></li>
<li>简写：<code>@事件名</code></li>
</ul>
<p>总结：</p>
<ul>
<li><p>使用 <code>v-on:xxx</code> 或 <code>@xxx</code> 绑定事件，其中xxx是事件名</p>
</li>
<li><p>事件的回调需要配置在methods对象中，最终会在vm上</p>
</li>
<li><p>methods中配置的函数，<strong>不要用箭头函数！</strong>否则this就不是vm了</p>
</li>
<li><p>methods中配置的函数，都是被Vue所管理的函数，this的指向是vm或组件实例对象</p>
</li>
<li><p><code>@click=&quot;demo&quot;</code>和<code>@click=&quot;demo($event)&quot;</code>效果一致，但后者可以传参</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>mvvm<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app1&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--v-on 作用：注册事件。简写：@事件名。--&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- v-on:事件名 = &quot;内联语句&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;count++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- v-on:事件名 = &quot;methods中的函数名&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;fn&quot;</span>&gt;</span>切换显示隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>黑马程序员<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- v-on:事件名 = &quot;methods中的函数名(参数1, 参数2)&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>小黑自动售货机：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;buy(5)&quot;</span>&gt;</span>可乐5元<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;buy(10)&quot;</span>&gt;</span>咖啡10元<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;buy(8)&quot;</span>&gt;</span>牛奶8元<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>银行卡余额：&#123;&#123; money &#125;&#125;元<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- v-on:事件名 = &quot;methods中的函数名($event, 参数2)&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>点我提示信息1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo2($event,66)&quot;</span>&gt;</span>点我提示信息2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> app11 = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">el</span>: <span class="string">&#x27;#app1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">count</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">isShow</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">money</span>: <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    fn () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;执行了fn:&#x27;</span>, app11.<span class="property">isShow</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 让提供的所有methods中的函数，this都指向当前实例</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(app11 === <span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">isShow</span> = !<span class="variable language_">this</span>.<span class="property">isShow</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    buy (price) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">money</span> -= price</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showInfo1</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showInfo2</span>(<span class="params">evnet,num</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event,num)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="事件修饰符—————————"><a href="#事件修饰符—————————" class="headerlink" title="事件修饰符—————————-"></a>事件修饰符—————————-</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_55593227/article/details/119717498">https://blog.csdn.net/qq_55593227/article/details/119717498</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>事件修饰符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">			*&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.demo1</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.list</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: peru;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 阻止默认事件 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 阻止事件冒泡 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 事件只触发一次 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 使用事件的捕获模式 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;showMsg(1)&quot;</span>&gt;</span></span><br><span class="line">				div1</span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showMsg(2)&quot;</span>&gt;</span></span><br><span class="line">					div2</span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 只有event.target是当前操作的元素时才触发事件 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span> @<span class="attr">wheel.passive</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">showInfo</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">alert</span>(<span class="string">&#x27;同学你好！&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">showMsg</span>(<span class="params">msg</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;#&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;累坏了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Vue指令"><a href="#Vue指令" class="headerlink" title="Vue指令"></a>Vue指令</h3><p>指令：带有 v- 前缀 的 特殊 标签属性</p>
<ul>
<li>v-html：语法：<code>v-html = &quot;表达式&quot;</code>。</li>
<li>v-show：语法： <code>v-show = &quot;表达式&quot;</code> 。表达式值 true 显示， false 隐藏。场景： 频繁切换显示隐藏的场景 。</li>
<li>v-if：语法： <code>v-if = &quot;表达式&quot;</code> 。表达式值 true 显示， false 隐藏。场景： 要么显示，要么隐藏，不频繁切换的场景。</li>
<li>v-else 、v-else-if：语法： <code>v-else v-else-if = &quot;表达式&quot;</code>。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-html 作用：设置元素的 innerHTML。--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-show 作用：控制元素显示隐藏。          底层原理：切换 css 的 display: none 来控制显示隐藏。--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-if   作用：控制元素显示隐藏（条件渲染）。底层原理：根据 判断条件 控制元素节点的 创建 和 移除（条件渲染）。--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>我是v-show控制的盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>我是v-if控制的盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-else 与 v-else-if 作用： 辅助 v-if 进行判断渲染。注意： 需要紧挨着 v-if 一起使用。--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;gender === 1&quot;</span>&gt;</span>性别：♂ 男<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>性别：♀ 女<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;score &gt;= 90&quot;</span>&gt;</span>成绩评定A：奖励电脑一台<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt;= 70&quot;</span>&gt;</span>成绩评定B：奖励周末郊游<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt;= 60&quot;</span>&gt;</span>成绩评定C：奖励零食礼包<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>成绩评定D：惩罚一周不能玩手机<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">msg</span>: <span class="string">&#x27;&lt;h3&gt;学前端~来黑马！&lt;/h3&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">flag</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">gender</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">score</span>: <span class="number">95</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue指令：v-for"><a href="#Vue指令：v-for" class="headerlink" title="Vue指令：v-for"></a>Vue指令：v-for</h3><ol>
<li>作用： 基于数据循环， 多次渲染整个元素</li>
<li>遍历数组语法：<ul>
<li><strong>v-for &#x3D; “(item, index) in 数组”</strong> </li>
<li>item：每一项， index：下标</li>
<li>省略 index: <strong>v-for &#x3D; “item in 数组”</strong></li>
</ul>
</li>
<li>语法：**:key属性 &#x3D; “唯一标识”**<ul>
<li>作用：给列表项添加的唯一标识。便于Vue进行列表项的正确排序复用。</li>
<li>v-for 的默认行为会尝试 原地修改元素 （就地复用）</li>
<li>注意点： <ol>
<li>key 的值只能是 <strong>字符串</strong> 或 <strong>数字类型</strong></li>
<li>key 的值必须具有 <strong>唯一性</strong></li>
<li>推荐使用 id 作为 key（唯一），不推荐使用 index 作为 key（会变化，不对应）</li>
</ol>
</li>
</ul>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-show</span>=<span class="string">&quot;index &gt; 0&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;index--&quot;</span>&gt;</span>上一页<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;list[index]&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-show</span>=<span class="string">&quot;index &lt; list.length - 1&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;index++&quot;</span>&gt;</span>下一页<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>小黑水果店<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; item &#125;&#125; - &#123;&#123; index &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; item &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>小黑的书架<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in booksList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.author &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 注册点击事件 →  通过 id 进行删除数组中的 对应项 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;del(item.id)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">index</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-00.gif&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-01.gif&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-02.gif&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-03.gif&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-04.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;./imgs/11-05.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app11 = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">list</span>: [<span class="string">&#x27;西瓜&#x27;</span>, <span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;鸭梨&#x27;</span>, <span class="string">&#x27;榴莲&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app22 = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">booksList</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;《红楼梦》&#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;曹雪芹&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;《西游记》&#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;吴承恩&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;《水浒传》&#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;施耐庵&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;《三国演义》&#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;罗贯中&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        del (id) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// console.log(&#x27;删除&#x27;, id)</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 通过 id 进行删除数组中的 对应项 → filter(不会改变原数组)</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// filter: 根据条件，保留满足条件的对应项，得到一个新数组。</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// console.log(this.booksList.filter(item =&gt; item.id !== id))</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">booksList</span> = <span class="variable language_">this</span>.<span class="property">booksList</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> !== id)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="记事本案例"><a href="#记事本案例" class="headerlink" title="记事本案例"></a>记事本案例</h3><p><strong>length</strong>：长度</p>
<p><strong>filter</strong>：根据条件，保留满足条件的对应项，得到一个新数组。覆盖修改原数组。</p>
<p>**trim()**：返回去掉字符串两端的空格</p>
<p>**unshift()**：可向数组的开头添加一个或更多元素，并返回新的长度。</p>
<p>id: +new Date()</p>
<p><strong>reduce</strong>：对数组进行求和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [20, 50, 18, 30]</span><br><span class="line">const res = arr.reduce((sum, item) =&gt; sum + item, 0)</span><br><span class="line">console.log( res )//118</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>记事本<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 主体区域 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 输入框 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>小黑记事本<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;todoName&quot;</span>  <span class="attr">placeholder</span>=<span class="string">&quot;请输入任务&quot;</span> <span class="attr">class</span>=<span class="string">&quot;new-todo&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span> <span class="attr">class</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加任务<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 列表区域 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;todo-list&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; index + 1 &#125;&#125;.<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;del(item.id)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;destroy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 统计和清空 → 如果没有任务了，底部隐藏掉 → v-show --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;list.length &gt; 0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 统计 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;</span>合 计:<span class="tag">&lt;<span class="name">strong</span>&gt;</span> &#123;&#123; list.length &#125;&#125; <span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 清空 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;clear&quot;</span> <span class="attr">class</span>=<span class="string">&quot;clear-completed&quot;</span>&gt;</span></span><br><span class="line">      清空任务</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 底部 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 添加功能</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1. 通过 v-model 绑定 输入框 → 实时获取表单元素的内容</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2. 点击按钮，进行新增，往数组最前面加 unshift</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">todoName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;跑步一公里&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;跳绳200个&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;游泳100米&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      del (id) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(id) =&gt; filter 保留所有不等于该 id 的项</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">list</span> = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> !== id)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      add () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">todoName</span>.<span class="title function_">trim</span>() === <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">alert</span>(<span class="string">&#x27;请输入任务名称&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">unshift</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">id</span>: +<span class="keyword">new</span> <span class="title class_">Date</span>(),</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="variable language_">this</span>.<span class="property">todoName</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">todoName</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      clear () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">list</span> = []</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="Vue高级"><a href="#Vue高级" class="headerlink" title="Vue高级"></a>Vue高级</h2><h3 id="指令修饰符"><a href="#指令修饰符" class="headerlink" title="指令修饰符"></a>指令修饰符</h3><p>通过 “.” 指明一些指令 后缀，不同 后缀 封装了不同的处理操作 → 简化代码</p>
<p>① 按键修饰符</p>
<ul>
<li><strong>@keyup.enter</strong> → 键盘回车监听</li>
</ul>
<p>② v-model修饰符</p>
<ul>
<li><strong>v-model.trim</strong> → 去除首尾空格</li>
<li><strong>v-model.number</strong> → 转数字</li>
</ul>
<p>③ 事件修饰符</p>
<ul>
<li><strong>@事件名.stop</strong> → 阻止冒泡</li>
<li><strong>@事件名.prevent</strong> → 阻止默认行为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>@keyup.enter  →  监听键盘回车事件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;fn&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>v-model修饰符 .trim .number<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;username2&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    年纪：<span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.number</span>=<span class="string">&quot;age&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>@事件名.stop     →  阻止冒泡<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;fatherFn&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100px;height:50px;backgroundColor:aqua;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click.stop</span>=<span class="string">&quot;sonFn&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:25px;backgroundColor:gold;&quot;</span>&gt;</span>儿子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>@事件名.prevent  →  阻止默认行为<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click.prevent</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>阻止默认行为<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">username1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">username2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">age</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      fn (e) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// if (e.key === &#x27;Enter&#x27;) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//   console.log(&#x27;键盘回车的时候触发&#x27;, this.username)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;键盘回车的时候触发&#x27;</span>, <span class="variable language_">this</span>.<span class="property">username1</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      fatherFn () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;老父亲被点击了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      sonFn (e) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// e.stopPropagation()</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;儿子被点击了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="v-bind-对于样式控制的增强-操作class"><a href="#v-bind-对于样式控制的增强-操作class" class="headerlink" title="v-bind 对于样式控制的增强 - 操作class"></a>v-bind 对于样式控制的增强 - 操作class</h3><p>为了方便开发者进行样式控制， Vue 扩展了 v-bind 的语法，可以针对 class 类名 和 style 行内样式 进行控制 。</p>
<p>语法 :<strong>class &#x3D; “对象&#x2F;数组”</strong> </p>
<p>① 对象 → 键就是类名，值是布尔值。如果值为 true，有这个类，否则没有这个类</p>
<ul>
<li><pre><code class="html">&lt;div class=&quot;box&quot; :class=&quot;&#123; 类名1: 布尔值, 类名2: 布尔值 &#125;&quot;&gt;&lt;/div&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 适用场景：一个类名，来回切换</span><br><span class="line"></span><br><span class="line">② 数组 → 数组中所有的类，都会添加到盒子上，本质就是一个 class 列表</span><br><span class="line"></span><br><span class="line">- ```html</span><br><span class="line">  &lt;div class=&quot;box&quot; :class=&quot;[ 类名1, 类名2, 类名3 ]&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<blockquote>
<p>适用场景：批量添加或删除类</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#e01222</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="number">#333333</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#e01222</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;activeIndex = index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: index === activeIndex &#125;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">activeIndex</span>: <span class="number">2</span>, <span class="comment">// 记录高亮</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;京东秒杀&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;每日特价&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;品类秒杀&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-bind-对于样式控制的增强-操作style"><a href="#v-bind-对于样式控制的增强-操作style" class="headerlink" title="v-bind 对于样式控制的增强 - 操作style"></a>v-bind 对于样式控制的增强 - 操作style</h3><p>语法 :<strong>style &#x3D; “样式对象”</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; CSS属性名1: CSS属性值, CSS属性名2: CSS属性值 &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">//如：<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; width: &#x27;400px&#x27;, height: &#x27;400px&#x27;, backgroundColor: &#x27;green&#x27; &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>适用场景：某个具体属性的动态设置</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.progress</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#272425</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#272425</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.inner</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: <span class="number">#409eff</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-size</span>: <span class="number">20px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">transition</span>: all <span class="number">1s</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">right</span>: -<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">bottom</span>: -<span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 外层盒子底色 （黑色） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 内层盒子 - 进度（蓝色） --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; width: percent + &#x27;%&#x27; &#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; percent &#125;&#125;%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;percent = 25&quot;</span>&gt;</span>设置25%<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;percent = 50&quot;</span>&gt;</span>设置50%<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;percent = 75&quot;</span>&gt;</span>设置75%<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;percent = 100&quot;</span>&gt;</span>设置100%<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">percent</span>: <span class="number">30</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-model-应用于其他表单元素"><a href="#v-model-应用于其他表单元素" class="headerlink" title="v-model 应用于其他表单元素"></a>v-model 应用于其他表单元素</h3><p>常见的表单元素都可以用 v-model 绑定关联 → 快速 获取 或 设置 表单元素的值</p>
<p>它会根据 控件类型 自动选取 正确的方法 来更新元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">输入框 input:text			→ value</span><br><span class="line">文本域 textarea			→ value</span><br><span class="line">复选框 input:checkbox		→ checked</span><br><span class="line">单选框 input:radio			→ checked</span><br><span class="line">下拉菜单 select				→ value</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">textarea</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">240px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>小黑学习网<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span>&gt;</span>       <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    是否单身：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isSingle&quot;</span>&gt;</span>       <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">      前置理解：</span></span><br><span class="line"><span class="comment">        1. name:  给单选框加上 name 属性 可以分组 → 同一组互相会互斥</span></span><br><span class="line"><span class="comment">        2. value: 给单选框加上 value 属性，用于提交给后台的数据</span></span><br><span class="line"><span class="comment">      结合 Vue 使用 → v-model</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    性别: </span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>男</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>女</span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">      前置理解：</span></span><br><span class="line"><span class="comment">        1. option 需要设置 value 值，提交给后台</span></span><br><span class="line"><span class="comment">        2. select 的 value 值，关联了选中的 option 的 value 值</span></span><br><span class="line"><span class="comment">      结合 Vue 使用 → v-model</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    所在城市:</span><br><span class="line">      <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityId&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;101&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;102&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;103&quot;</span>&gt;</span>成都<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;104&quot;</span>&gt;</span>南京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    自我描述：<span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model</span>=<span class="string">&quot;desc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>立即注册<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">isSingle</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">gender</span>: <span class="string">&quot;2&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">cityId</span>: <span class="string">&#x27;102&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">desc</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="计算属性：computed"><a href="#计算属性：computed" class="headerlink" title="计算属性：computed"></a>计算属性：computed</h3><p>概念：基于现有的数据，计算出来的新属性。 依赖的数据变化，自动重新计算。 </p>
<p>语法： </p>
<p>① 声明在 computed 配置项中，一个计算属性对应一个函数</p>
<p>② 使用起来和普通属性一样使用 , 计算属性 → 可以将一段 求值的代码 进行封装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; 计算属性名 &#125;&#125;</span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  计算属性名 () &#123;</span><br><span class="line">    基于现有数据，编写求值逻辑 return 结果</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="computed-VS-methods"><a href="#computed-VS-methods" class="headerlink" title="computed VS methods"></a>computed VS methods</h3><p>computed 计算属性。作用：封装了一段对于数据的处理，求得一个结果。</p>
<p>语法： </p>
<ul>
<li>① 写在 <strong>computed</strong> 配置项中</li>
<li>② 作为属性，直接使用 → this.计算属性 <code>&#123;&#123; 计算属性 &#125;&#125;</code></li>
</ul>
<p>methods 方法。作用：给实例提供一个方法，调用以处理业务逻辑。</p>
<p>语法：</p>
<ul>
<li>① 写在 <strong>methods</strong> 配置项中</li>
<li>② 作为方法，需要调用 → <code>this.方法名( )</code> <code>&#123;&#123; 方法名() &#125;&#125;</code> <code>@事件名=&quot;方法名&quot;</code></li>
</ul>
<p>缓存特性（提升性能）： 计算属性会对计算出来的结果缓存，再次使用直接读取缓存， 依赖项变化了，会自动重新计算 → 并再次缓存</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">240px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">th</span>,<span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h3</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>小黑的礼物清单<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>名字<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>加减<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.num &#125;&#125;个<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;item.num--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;item.num++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 目标：统计求和，求得礼物总数 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>礼物总数：&#123;&#123; totalCount &#125;&#125; 个<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> +</span><br><span class="line">  名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> =</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeName&quot;</span>&gt;</span>改名卡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 现有的数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;篮球&#x27;</span>, <span class="attr">num</span>: <span class="number">1</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;玩具&#x27;</span>, <span class="attr">num</span>: <span class="number">2</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;铅笔&#x27;</span>, <span class="attr">num</span>: <span class="number">5</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    ],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">firstName</span>: <span class="string">&#x27;刘&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">lastName</span>: <span class="string">&#x27;备&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    changeName () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">fullName</span> = <span class="string">&#x27;黄忠&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    totalCount () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 基于现有的数据，编写求值逻辑</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 计算属性函数内部，可以直接通过 this 访问到 app 实例</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// console.log(this.list)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 需求：对 this.list 数组里面的 num 进行求和 → reduce</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> total = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> sum + item.<span class="property">num</span>, <span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> total</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/*计算属性默认的简写，只能读取访问，不能 &quot;修改&quot;，没有配置设置的逻辑。 如果要 &quot;修改&quot; → 需要写计算属性的完整写法。</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    fullName () &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">      return this.firstName + this.lastName</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">*/</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/* 完整写法 → 获取 + 设置</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">computed: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  计算属性名: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    一段代码逻辑（计算逻辑）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    return 结果</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  set(修改的值) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    一段代码逻辑（修改逻辑）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">  &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">fullName</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// (1) 当fullName计算属性，被获取求值时，执行get（有缓存，优先读缓存）</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     会将返回值作为，求值的结果</span></span></span><br><span class="line"><span class="language-javascript">      get () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// (2) 当fullName计算属性，被修改赋值时，执行set</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     修改的值，传递给set方法的形参</span></span></span><br><span class="line"><span class="language-javascript">      set (value) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(value.slice(0, 1))          </span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(value.slice(1))         </span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">firstName</span> = value.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">lastName</span> = value.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="watch-侦听器（监视器）"><a href="#watch-侦听器（监视器）" class="headerlink" title="watch 侦听器（监视器）"></a>watch 侦听器（监视器）</h3><p>作用：监视数据变化，执行一些 业务逻辑 或 异步操作。 </p>
<p>语法：</p>
<h4 id="简单写法"><a href="#简单写法" class="headerlink" title="简单写法"></a>简单写法</h4><p>① 简单写法 → 简单类型数据，直接监视</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">data: &#123; </span><br><span class="line">    words: &#x27;苹果&#x27;,</span><br><span class="line">    obj: &#123;</span><br><span class="line">        words: &#x27;苹果&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">    // 该方法会在数据变化时，触发执行</span><br><span class="line">    数据属性名 (newValue, oldValue) &#123;</span><br><span class="line">        一些业务逻辑 或 异步操作。</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x27;对象.属性名&#x27; (newValue, oldValue) &#123;</span><br><span class="line">        一些业务逻辑 或 异步操作。</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 该方法会在数据变化时调用执行</span><br><span class="line">    // newValue新值, oldValue老值（一般不用）</span><br><span class="line">    // words (newValue) &#123;</span><br><span class="line">    //     console.log(&#x27;变化了&#x27;, newValue)</span><br><span class="line">    // &#125;</span><br><span class="line">    // &#x27;obj.words&#x27; (newValue) &#123;</span><br><span class="line">    //     console.log(&#x27;变化了&#x27;, newValue)</span><br><span class="line">    //&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="翻译案例-axios⭐"><a href="#翻译案例-axios⭐" class="headerlink" title="翻译案例 - axios⭐"></a>翻译案例 - axios⭐</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 接口地址：https://applet-base-api-t.itheima.net/api/translate</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 请求方式：get</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 请求参数：</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// （1）words：需要被翻译的文本（必传）</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// （2）lang： 需要被翻译成的语言（可选）默认值-意大利</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// -----------------------------------------------</span></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// words: &#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">obj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">words</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">result</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 翻译结果</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// timer: null // 延时器id</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 具体讲解：(1) watch语法 (2) 具体业务实现</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 该方法会在数据变化时调用执行</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// newValue新值, oldValue老值（一般不用）</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// words (newValue) &#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//   console.log(&#x27;变化了&#x27;, newValue)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="string">&#x27;obj.words&#x27;</span> (newValue) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;变化了&#x27;, newValue)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 防抖: 延迟执行 → 干啥事先等一等，延迟一会，一段时间内没有再次触发，才执行</span></span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="keyword">async</span> () =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">url</span>: <span class="string">&#x27;https://applet-base-api-t.itheima.net/api/translate&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">params</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">words</span>: newValue</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">result</span> = res.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>.<span class="property">data</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="number">300</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="完整写法"><a href="#完整写法" class="headerlink" title="完整写法"></a>完整写法</h4><p>② 完整写法 → 添加额外配置项</p>
<ul>
<li>(1) <strong>deep: true</strong> 对复杂类型深度监视</li>
<li>(2) <strong>immediate: true</strong> 初始化立刻执行一次handler方法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">        words: &#x27;苹果&#x27;,</span><br><span class="line">        lang: &#x27;italy&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;// watch 完整写法</span><br><span class="line">    数据属性名: &#123;</span><br><span class="line">        deep: true, // 深度监视</span><br><span class="line">        immediate: true, // 是否立刻执行一次handler</span><br><span class="line">        handler (newValue) &#123;</span><br><span class="line">            console.log(newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 需求：输入内容，修改语言，都实时翻译</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 接口地址：https://applet-base-api-t.itheima.net/api/translate</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 请求方式：get</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 请求参数：</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// （1）words：需要被翻译的文本（必传）</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// （2）lang： 需要被翻译成的语言（可选）默认值-意大利</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// -----------------------------------------------</span></span></span><br><span class="line"><span class="language-javascript">   </span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">obj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">words</span>: <span class="string">&#x27;小黑&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">lang</span>: <span class="string">&#x27;italy&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">result</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 翻译结果</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">obj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">deep</span>: <span class="literal">true</span>, <span class="comment">// 深度监视</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">immediate</span>: <span class="literal">true</span>, <span class="comment">// 立刻执行，一进入页面handler就立刻执行一次</span></span></span><br><span class="line"><span class="language-javascript">        handler (newValue) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="keyword">async</span> () =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">url</span>: <span class="string">&#x27;https://applet-base-api-t.itheima.net/api/translate&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">params</span>: newValue</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">result</span> = res.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>.<span class="property">data</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;, <span class="number">300</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &#x27;obj.words&#x27; (newValue) &#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//   clearTimeout(this.timer)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//   this.timer = setTimeout(async () =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     const res = await axios(&#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//       url: &#x27;https://applet-base-api-t.itheima.net/api/translate&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//       params: &#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//         words: newValue</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//       &#125;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     this.result = res.data.data</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//     console.log(res.data.data)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//   &#125;, 300)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="购物车案例-axios"><a href="#购物车案例-axios" class="headerlink" title="购物车案例 -axios"></a>购物车案例 -axios</h4><p><strong>every</strong>：用于检测数组所有元素是否都符合指定条件。</p>
<p><strong>forEach</strong>：用于调用数组的每个元素，并将元素传递给回调函数。</p>
<p>全选反选：计算属性computed 完整写法 get&#x2F;set</p>
<p>统计选中的总价和总数量: 计算属性computed reduce条件求和</p>
<ul>
<li><strong>reduce</strong>：总数</li>
</ul>
<p><strong>find</strong>：返回通过测试（函数内判断）的数组的第一个元素的值。</p>
<p>持久化到本地：<strong>localStorage，JSON.stringify, JSON.parse</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 需要将变化后的 newValue 存入本地 （转JSON）</span><br><span class="line">localStorage.setItem(&#x27;list&#x27;, JSON.stringify(newValue))</span><br><span class="line"></span><br><span class="line">JSON.parse(localStorage.getItem(&#x27;list&#x27;))</span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> defaultArr = [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">icon</span>: <span class="string">&#x27;http://autumnfish.cn/static/火龙果.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">isChecked</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">num</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">price</span>: <span class="number">6</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">icon</span>: <span class="string">&#x27;http://autumnfish.cn/static/荔枝.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">isChecked</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">num</span>: <span class="number">7</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">price</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">icon</span>: <span class="string">&#x27;http://autumnfish.cn/static/榴莲.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">isChecked</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">num</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">price</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">icon</span>: <span class="string">&#x27;http://autumnfish.cn/static/鸭梨.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">isChecked</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">num</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">price</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">icon</span>: <span class="string">&#x27;http://autumnfish.cn/static/樱桃.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">isChecked</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">num</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">price</span>: <span class="number">34</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">          ]</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 水果列表</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fruitList</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;list&#x27;</span>)) || defaultArr,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 默认计算属性：只能获取不能设置，要设置需要写完整写法</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// isAll () &#123;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//   // 必须所有的小选框都选中，全选按钮才选中 → every</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//   return this.fruitList.every(item =&gt; item.isChecked)</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">          </span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 完整写法 = get + set</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">isAll</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            get () &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">every</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">isChecked</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            set (value) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="comment">// 基于拿到的布尔值，要让所有的小选框 同步状态</span></span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">isChecked</span> = value)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 统计选中的总数 reduce</span></span></span><br><span class="line"><span class="language-javascript">          totalCount () &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span> (item.<span class="property">isChecked</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 选中 → 需要累加</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> sum + item.<span class="property">num</span></span></span><br><span class="line"><span class="language-javascript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 没选中 → 不需要累加</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> sum</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 总计选中的总价 num * price</span></span></span><br><span class="line"><span class="language-javascript">          totalPrice () &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span> (item.<span class="property">isChecked</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> sum + item.<span class="property">num</span> * item.<span class="property">price</span></span></span><br><span class="line"><span class="language-javascript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> sum</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          del (id) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">fruitList</span> = <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> !== id)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          add (id) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1. 根据 id 找到数组中的对应项 → find</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> fruit = <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> === id)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2. 操作 num 数量</span></span></span><br><span class="line"><span class="language-javascript">            fruit.<span class="property">num</span>++</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          sub (id) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1. 根据 id 找到数组中的对应项 → find</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> fruit = <span class="variable language_">this</span>.<span class="property">fruitList</span>.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> === id)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2. 操作 num 数量</span></span></span><br><span class="line"><span class="language-javascript">            fruit.<span class="property">num</span>--</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fruitList</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">deep</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            handler (newValue) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="comment">// 需要将变化后的 newValue 存入本地 （转JSON）</span></span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;list&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(newValue))</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="前端本地存储方法"><a href="#前端本地存储方法" class="headerlink" title="前端本地存储方法"></a>前端本地存储方法</h3><p>持久化到本地：<strong>localStorage，JSON.stringify, JSON.parse</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">对比项目			cookie			localstorage		sessionStorage</span><br><span class="line">数据存储时间		可设置失效时间			永久				仅当前会话</span><br><span class="line">容量				&lt;=4kb				&lt;=5mb			&lt;=5mb</span><br></pre></td></tr></table></figure>

<p>其中三种方式都有原生api,其中cookie的原生api比较难用,cookie还有一个特点是会随着请求携带,并且可以被服务端随意修改</p>
<p>因此得出结论,一般网页应用用localstorage就行了,5mb存储一个应用的配置信息还是挺宽裕的.</p>
<p>另外会话中临时会使用的信息就用sessionStorage</p>
<blockquote>
<p>访问权限：Cookie可以设置访问路径和访问域名，以控制哪些页面可以访问Cookie；而LocalStorage存储的数据可以被同一域名下的所有页面访问。</p>
</blockquote>
<p>cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">删除Cookie：可以直接调用setCookie,把cookie的失效时间设置为-1即可：setCookie(key,&#x27;&#x27;,-1)</span><br></pre></td></tr></table></figure>

<p>localstorage：缺点是,只能存入字符串,无法直接存储对象,所以我们每次存入和取出都要重新json处理一下…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">存储storage：将 obj 存入本地(转JSON)：</span><br><span class="line">    localStorage.setItem(&#x27;name&#x27;, JSON.stringify(obj))</span><br><span class="line">获取storage：</span><br><span class="line">    JSON.parse(localStorage.getItem(&#x27;name&#x27;))</span><br><span class="line">删除storage：</span><br><span class="line">    localStorage.removeItem(&#x27;name&#x27;)</span><br></pre></td></tr></table></figure>

<p>sessionStorage</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Vue工程化开发</span><br><span class="line"></span><br><span class="line">### Vue下载安装</span><br><span class="line"></span><br><span class="line">#### Node.js下载⭐</span><br><span class="line"></span><br><span class="line">下载：[英文官网](https://nodejs.org/en/download/)、[中文官网](https://nodejs.cn/)</span><br><span class="line"></span><br><span class="line">选择适合自己的版本，推荐LTS，长久稳定版本。 我这里选择的是Windows Installer(.msi) 64-bit</span><br><span class="line"></span><br><span class="line">下载好后，双击下载的安装包。</span><br><span class="line"></span><br><span class="line">- 更改路径，如：`E:\Vue\nodejs\`</span><br><span class="line"></span><br><span class="line">- 这里有五个选项，有时间可以看一下，就是安装的时候会安装一些组件和npm，同时会添加环境变量，右侧有说明。默认勾选的，不用管。我们直接点next</span><br><span class="line"></span><br><span class="line">- 不用勾选，直接点next</span><br><span class="line"></span><br><span class="line">由于Node.js 中默认安装了 npm，所以不用额外配置就能在全局命令中使用 npm命令。</span><br><span class="line"></span><br><span class="line">&gt; npm(node package manage)是 nodejs 自带的包管理工具。</span><br><span class="line"></span><br><span class="line">打开cmd，输入如下命令，检查是否安装：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>node -v<br>npm -v<br>npm install -g npm@latest    &#x2F;&#x2F;升级 npm。自己想升级就升级，这个不是很重要。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输出了版本号就说明安装成功了。</span><br><span class="line"></span><br><span class="line">安装后的完整目录：在nodejs文件夹下只有一个 `node_modules` 文件夹</span><br><span class="line"></span><br><span class="line">#### Node.js创建全局安装目录和缓存日志目录</span><br><span class="line"></span><br><span class="line">在上面已经完成了 **node.js** 的安装，即使不进行此步骤的环境变量配置也不影响node.js的使用。</span><br><span class="line"></span><br><span class="line">但是，若不进行环境变量配置，那么在使用命令安装 **node.js全局模块** （如：npm install -g vue）时，会默认安装到C盘的路径 `C:\Users\hua\AppData\Roaming\npm` 中。</span><br><span class="line"></span><br><span class="line">因此，需要配置 **全局安装模块 node_global** 以及 **缓存目录 node_cache** 的环境变量。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config get prefix    &#x2F;&#x2F; 查看当前全局安装路径<br>npm config get cache     &#x2F;&#x2F; 查看当前缓存路径</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在我们的安装目录下(nodejs下)，创建名为 **node_cache** 和 **node_global** 的两个文件夹。</span><br><span class="line"></span><br><span class="line">打开 CMD 窗口，执行如下命令，将npm的全局模块目录和缓存目录配置到我们刚才创建的那两个目录：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config set prefix “你的安装目录\node_global”<br>npm config set cache “你的安装目录\node_cache”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 比如：</span><br><span class="line">&gt;</span><br><span class="line">&gt; `npm config set prefix &quot;E:\Vue\nodejs\node_global&quot;`</span><br><span class="line">&gt;</span><br><span class="line">&gt; `npm config set cache &quot;E:\Vue\nodejs\node_cache&quot;`</span><br><span class="line"></span><br><span class="line">设置成功后，之后用命令 `npm install XXX -g` 安装以后，模块就在 `E:\Java\nodejs\node_global` 里。</span><br><span class="line"></span><br><span class="line">同时我们会发现多了个文件：`C:\Users\用户名\下的.npmrc文件`，可以理解为一个记录当前用户修改信息的配置文件。如果你把这个文件删了，那你刚刚修改的那些参数全没有了，回归默认配置。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config get prefix    &#x2F;&#x2F; 查看npm全局安装包保存路径<br>npm config get cache     &#x2F;&#x2F; 查看npm装包缓存路径<br>npm list -global         &#x2F;&#x2F;查看全局安装目录<br>npm config list         &#x2F;&#x2F; 查看所有npm 配置<br>npm config ls<br>npm root</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### npm配置淘宝镜像源</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config get registry    &#x2F;&#x2F; 查看npm下载源<br>npm config list            &#x2F;&#x2F; 查看所有npm 配置<br>npm -v <a target="_blank" rel="noopener" href="http://npmmirror.com/">http://npmmirror.com</a>    &#x2F;&#x2F; 检查npm是否正常</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">为了以后下载包快速，将npm的模块下载仓库从默认的国外站点改为国内的站点，这样下载模块的速度才能比较快，使国内镜像源有两种方式，选择一种即可：</span><br><span class="line"></span><br><span class="line">方式一：直接修改npm命令的仓库地址为镜像源：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config set registry <a target="_blank" rel="noopener" href="http://registry.npmmirror.com/">http://registry.npmmirror.com</a>    &#x2F;&#x2F; 切换npm 源为阿里云</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h1><h1 id="http-npm-taobao-org和-http-registry-npm-taobao-org-将在-2022-06-30-号正式下线和停止-DNS-解析。-所以，一些旧的文档和参考可能会事上面两个源地址"><a href="#http-npm-taobao-org和-http-registry-npm-taobao-org-将在-2022-06-30-号正式下线和停止-DNS-解析。-所以，一些旧的文档和参考可能会事上面两个源地址" class="headerlink" title="http://npm.taobao.org和 http://registry.npm.taobao.org 将在 2022.06.30 号正式下线和停止 DNS 解析。 所以，一些旧的文档和参考可能会事上面两个源地址"></a><a target="_blank" rel="noopener" href="http://npm.taobao.org和/">http://npm.taobao.org和</a> <a target="_blank" rel="noopener" href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org</a> 将在 2022.06.30 号正式下线和停止 DNS 解析。 所以，一些旧的文档和参考可能会事上面两个源地址</h1><h1 id="新的地址："><a href="#新的地址：" class="headerlink" title="新的地址："></a>新的地址：</h1><h1 id="http-npm-taobao-org-http-npmmirror-com"><a href="#http-npm-taobao-org-http-npmmirror-com" class="headerlink" title="http://npm.taobao.org &#x3D;&gt; http://npmmirror.com"></a><a target="_blank" rel="noopener" href="http://npm.taobao.org/">http://npm.taobao.org</a> &#x3D;&gt; <a target="_blank" rel="noopener" href="http://npmmirror.com/">http://npmmirror.com</a></h1><h1 id="http-registry-npm-taobao-org-http-registry-npmmirror-com"><a href="#http-registry-npm-taobao-org-http-registry-npmmirror-com" class="headerlink" title="http://registry.npm.taobao.org &#x3D;&gt; http://registry.npmmirror.com"></a><a target="_blank" rel="noopener" href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org</a> &#x3D;&gt; <a target="_blank" rel="noopener" href="http://registry.npmmirror.com/">http://registry.npmmirror.com</a></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 配置后可以根据 **npm config get registry** 或 **npm config list** 命令查看npm下载源是否配置成功</span><br><span class="line"></span><br><span class="line">方式二：基于 Node.js 安装cnpm（淘宝镜像）</span><br><span class="line"></span><br><span class="line">安装cnpm：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm install -g cnpm –registry&#x3D;<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">验证方式变成了 `cnpm config get registry` 或 `cnpm config list`</span><br><span class="line"></span><br><span class="line">之后都不用 **npm** ，改用 **cnpm**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>cnpm -v    &#x2F;&#x2F;验证<br>npm uninstall -g cnpm –registry&#x3D;<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a>    &#x2F;&#x2F; 卸载cnpm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### Node.js配置环境变量</span><br><span class="line"></span><br><span class="line">&gt; 在安装过程中，自动配置了两个环境变量：环境变量/系统变量，环境变量/用户变量</span><br><span class="line"></span><br><span class="line">环境变量 -》 系统变量</span><br><span class="line"></span><br><span class="line">- 新建</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>变量名：NODE_PATH<br>变量值：你的安装目录\node_global\node_modules<br>变量值如：E:\Vue\nodejs\node_global\node_modules</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 注：这里的node_modules目录是还没有的，但是我们等会把模块安装到全局目录下就会自动生成这个文件夹。</span><br><span class="line"></span><br><span class="line">- 编辑Path变量 -》新建</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>%NODE_PATH%<br>E:\Vue\nodejs\node_global    &#x2F;&#x2F;添加上node的路径。如果已存在，不修改</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">环境变量 -》 用户变量（如果设置了全局安装目录就要配置）</span><br><span class="line"></span><br><span class="line">- 编辑Path变量 -》编辑</span><br><span class="line"></span><br><span class="line">，点击编辑</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>选择Path变量里面的<br>    - C:\Users\你的用户名\AppData\Roaming\npm<br>修改为：<br>    - 你的安装目录\node_global<br>比如：<br>    - E:\Vue\nodejs\node_global</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 【D:\Program Files\nodejs\node_cache】，这是nodejs默认的模块调用路径</span><br><span class="line"></span><br><span class="line">#### Node.js完全卸载</span><br><span class="line"></span><br><span class="line">1、通过Windows的卸载程序 **Uninstall Node.js** 功能卸载Node.js 或者 鼠标右键点击 **node安装包进行remove卸载**。</span><br><span class="line"></span><br><span class="line">2、删除以下路径的内容（若不存在则无需理会）</span><br><span class="line"></span><br><span class="line">（1）Node.js下载时的安装路径，如: `E:\Vue\nodejs`</span><br><span class="line"></span><br><span class="line">（2）默认全局安装路径，如: `C:\Users\用户名\AppData\Roaming\npm`</span><br><span class="line"></span><br><span class="line">（3）缓存路径，如: `C:\Users\用户名\AppData\Roaming\npm-cache`，`C:\Users\用户名\AppData\Local\npm-cache`</span><br><span class="line"></span><br><span class="line">（4）npm的配置文件，如: `C:\Users\用户名\.npmrc`</span><br><span class="line"></span><br><span class="line">（5）`C:\Users\用户名\.node_repl_history`</span><br><span class="line"></span><br><span class="line">3、删除 用户变量 和 系统变量 下Path项中与node相关的配置。（若不存在则无需理会）</span><br><span class="line"></span><br><span class="line">4、重启电脑</span><br><span class="line"></span><br><span class="line">#### Node.js安装vue.js⭐</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm install vue -g</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 其中-g是全局安装，指安装到global全局目录去，如果不加-g，模块就会安装到当前路径下的node_modules文件夹下(也就是E:\Vue\nodejs\node_modules文件下)，没有目录则自动创建。</span><br><span class="line"></span><br><span class="line"> 如果出现了-4048问题，是因为当前用户没有这个权限。正确的打开方式是，用管理员身份运行呗！Win + s 搜索 “命令提示符”，右键以管理员身份运行。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm info vue     &#x2F;&#x2F; 查看安装的vue信息<br>npm list vue     &#x2F;&#x2F; 查看安装的vue版本<br>vue –version    &#x2F;&#x2F; 查询版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### Node.js安装vue-router</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>安装：npm install <a href="mailto:&#x76;&#117;&#101;&#45;&#114;&#111;&#x75;&#116;&#101;&#114;&#x40;&#51;&#46;&#54;&#46;&#x35;">&#x76;&#117;&#101;&#45;&#114;&#111;&#x75;&#116;&#101;&#114;&#x40;&#51;&#46;&#54;&#46;&#x35;</a> -g</p>
<p>npm install vue-router -g<br>或者npm install -g vue-router</p>
<p>卸载：npm uninstall vue-router</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Vue 生命周期 和 生命周期的四个阶段</span><br><span class="line"></span><br><span class="line">思考：什么时候可以发送初始化渲染请求？（越早越好） 什么时候可以开始操作dom？（至少dom得渲染出来）</span><br><span class="line"></span><br><span class="line">Vue生命周期：一个Vue实例从 创建 到 销毁 的整个过程。</span><br><span class="line"></span><br><span class="line">生命周期四个阶段：</span><br><span class="line"></span><br><span class="line">① 创建：响应式数据、发送初始化 渲染请求</span><br><span class="line"></span><br><span class="line">② 挂载：渲染模板、操作 dom</span><br><span class="line"></span><br><span class="line">③ 更新 ：修改数据，更新视图</span><br><span class="line"></span><br><span class="line">④ 销毁：销毁实例</span><br><span class="line"></span><br><span class="line">Vue生命周期过程中，会自动运行一些函数，被称为【生命周期钩子】→ 让开发者可以在【特定阶段】运行自己的代码</span><br><span class="line"></span><br><span class="line">1. before Create</span><br><span class="line">2. **Created**：发送初始化 渲染请求</span><br><span class="line">3. before Mount</span><br><span class="line">4. **Mounted**：操作 dom</span><br><span class="line">5. before Update</span><br><span class="line">6. Updated</span><br><span class="line">7. before Destroy：释放Vue以外的资源 （清除定时器，延时器...）</span><br><span class="line">8. Destroyed</span><br><span class="line"></span><br><span class="line">&gt; **async** 与 **await** 是Promise的知识点</span><br><span class="line"></span><br><span class="line">```html</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button @click=&quot;count--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123; count &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;button @click=&quot;count++&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;&lt;hr&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;words&quot; id=&quot;inp&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">      el: &#x27;#app&#x27;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        count: 100,</span><br><span class="line">        title: &#x27;计数器&#x27;,</span><br><span class="line">        list: [],</span><br><span class="line">        words: &#x27;&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      // 1. 创建阶段（准备数据）</span><br><span class="line">      beforeCreate () &#123;</span><br><span class="line">        console.log(&#x27;beforeCreate 响应式数据准备好之前&#x27;, this.count)</span><br><span class="line">        //beforeCreate 响应式数据准备好之前 undefined</span><br><span class="line">      &#125;,</span><br><span class="line">/*      created () &#123;</span><br><span class="line">        console.log(&#x27;created 响应式数据准备好之后&#x27;, this.count)</span><br><span class="line">        //created 响应式数据准备好之后 100</span><br><span class="line">        // this.数据名 = 请求回来的数据</span><br><span class="line">        // 可以开始发送初始化渲染的请求了</span><br><span class="line">      &#125;,</span><br><span class="line">*/</span><br><span class="line">      async created () &#123;</span><br><span class="line">        // 1. 发送请求获取数据</span><br><span class="line">        const res = await axios.get(&#x27;http://hmajax.itheima.net/api/news&#x27;)</span><br><span class="line">        // 2. 更新到 list 中，用于页面渲染 v-for</span><br><span class="line">        this.list = res.data.data</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // 2. 挂载阶段（渲染模板）</span><br><span class="line">      beforeMount () &#123;</span><br><span class="line">        console.log(&#x27;beforeMount 模板渲染之前&#x27;, document.querySelector(&#x27;h3&#x27;).innerHTML)</span><br><span class="line">        //beforeMount 模板渲染之前 &#123;&#123; title &#125;&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      mounted () &#123;</span><br><span class="line">        console.log(&#x27;mounted 模板渲染之后&#x27;, document.querySelector(&#x27;h3&#x27;).innerHTML)</span><br><span class="line">        //mounted 模板渲染之后 计数器</span><br><span class="line">        // 可以开始操作dom了</span><br><span class="line">        // 核心思路：1.等input框渲染出来 mounted 钩子；2.让input框获取焦点 inp.focus()</span><br><span class="line">        document.querySelector(&#x27;#inp&#x27;).focus()</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      // 3. 更新阶段(修改数据 → 更新视图)</span><br><span class="line">      beforeUpdate () &#123;</span><br><span class="line">        console.log(&#x27;beforeUpdate 数据修改了，视图还没更新&#x27;, document.querySelector(&#x27;span&#x27;).innerHTML)</span><br><span class="line">      &#125;,</span><br><span class="line">      updated () &#123;</span><br><span class="line">        console.log(&#x27;updated 数据修改了，视图已经更新&#x27;, document.querySelector(&#x27;span&#x27;).innerHTML)</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      // 4. 卸载阶段</span><br><span class="line">      beforeDestroy () &#123;</span><br><span class="line">        console.log(&#x27;beforeDestroy, 卸载前&#x27;)</span><br><span class="line">        console.log(&#x27;清除掉一些Vue以外的资源占用，定时器，延时器...&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      destroyed () &#123;</span><br><span class="line">        console.log(&#x27;destroyed，卸载后&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>



<h3 id="工程化开发-脚手架-Vue-CLI⭐"><a href="#工程化开发-脚手架-Vue-CLI⭐" class="headerlink" title="工程化开发 &amp; 脚手架 Vue CLI⭐"></a>工程化开发 &amp; 脚手架 Vue CLI⭐</h3><p>开发 Vue 的两种方式：</p>
<ol>
<li>核心包传统开发模式：基于 html &#x2F; css &#x2F; js 文件，直接引入核心包，开发 Vue。</li>
<li>工程化开发模式：基于构建工具（例如：webpack ) 的环境中开发 Vue。</li>
</ol>
<p>基本介绍：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/">Vue CLI</a> 是 Vue 官方提供的一个全局命令工具。</li>
<li>可以帮助我们快速创建一个开发 Vue 项目的标准化基础架子。【集成了 webpack 配置】</li>
</ul>
<p>好处： </p>
<ol>
<li>开箱即用，零配置</li>
<li>内置 babel 等工具</li>
<li>标准化</li>
</ol>
<h4 id="安装脚手架vue-cli"><a href="#安装脚手架vue-cli" class="headerlink" title="安装脚手架vue-cli"></a>安装脚手架vue-cli</h4><p>安装vue-cli</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli    // 安装vue-cli 3.x</span><br><span class="line">npm install vue-cli -g     //安装vue-cli 2.x</span><br><span class="line">// 不指定版本号会默认安装最新的版本</span><br><span class="line">// 指定版本号：npm install -g @vue/cli@3.12.1</span><br></pre></td></tr></table></figure>

<p>卸载vue-cli</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall @vue/cli -g    // 卸载3.x版本</span><br><span class="line">npm uninstall vue-cli -g     // 卸载2.x版本</span><br></pre></td></tr></table></figure>

<p>检查</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue --version    // 查看 Vue 版本</span><br><span class="line">vue -V           // 查看 Vue 版本</span><br><span class="line">// 能输出版本号就说明安装好了</span><br></pre></td></tr></table></figure>

<h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vue create project-name          // 3.x版本新建项目，然后选择 Default ([Vue 2] babel,eslint)</span><br><span class="line">vue init webpack project-name    // 2.x版本新建项目。创建一个基于webpack模板的vue应用程序</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># npm install -g @vue/cli-init    // cli3下拉取2.x模板</span><br><span class="line">// 依然可以新建2.x的项目：vue init webpack project-name</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Please pick a preset=》选择一个配置:default默认有babel、eslint，Manually select features 手动配置。</span><br><span class="line"></span><br><span class="line">选择手动配置，根据自己的需要选择，敲空格键配合方向键进行选择。</span><br><span class="line"></span><br><span class="line">where do you prefer placing config for …=》配置放在哪里</span><br><span class="line"></span><br><span class="line">In dedicated config files =》 每项配置有单独的文件</span><br><span class="line"></span><br><span class="line">In package.json =》在package.json 文件中</span><br><span class="line"></span><br><span class="line">Save this as a preset for future project? =&gt;是否为保存配置习惯文件，存了后下次新建新项目选择配置时就会有此选项了</span><br><span class="line"></span><br><span class="line">Save preset as; =&gt;存个名字</span><br><span class="line"></span><br><span class="line">Pick the package …=&gt;运行选择npm或者yarn</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Project name（项目名）:回车(含大写字母给我报错了，我给改了my-vue)</span><br><span class="line"></span><br><span class="line">Project description（项目描述）：回车</span><br><span class="line"></span><br><span class="line">Author：作者名 ：回车</span><br><span class="line"></span><br><span class="line">Vue build（是否安装编译器）：runtime-compiler、 runtime-only 都是打包方式，第二个效率更高；回车</span><br><span class="line"></span><br><span class="line">Install vue-router（是否要安装 vue-router）：项目中肯定要使用到路由，所以Y 回车；</span><br><span class="line"></span><br><span class="line">Use ESLint to lint your code（是否需要ESLint检测代码）：目前我们不需要所以 n 回车；</span><br><span class="line"></span><br><span class="line">Set up unit tests（是否安装 单元测试工具）：目前我们不需要 所以 n 回车；</span><br><span class="line"></span><br><span class="line">Setup e2e tests with Nightwatch（是否需要端到端测试工具）：目前我们不需要所以n回车；</span><br><span class="line"></span><br><span class="line">Should we run npm install for you after the project has been created?(recommended)（创建完成后直接初始化）：n 回车</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="启动项目"><a href="#启动项目" class="headerlink" title="启动项目"></a>启动项目</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd project-name    // 进入到项目目录</span><br><span class="line">npm install        // 下载安装依赖</span><br><span class="line"></span><br><span class="line">npm run serve      // 启动项目，3.x版本使用</span><br><span class="line">npm run dev        // 启动项目，2.x版本使用</span><br></pre></td></tr></table></figure>

<p>访问网址：成功！</p>
<p>关闭：<strong>Ctrl+C选择Y</strong></p>
<p>package.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yarn serve</span><br><span class="line">serve -&gt; package.json</span><br><span class="line">&quot;scripts&quot;:&#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="脚手架目录文件介绍"><a href="#脚手架目录文件介绍" class="headerlink" title="脚手架目录文件介绍"></a>脚手架目录文件介绍</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">VUE-DEMO</span><br><span class="line">├── node_modules     # 项目依赖包目录，存放下载依赖的文件夹。第三包文件夹</span><br><span class="line">├── public           # 存放不会变动静态的文件，它与src/assets的区别在于，public目录中的文件不被webpack打包处理，会原样拷贝到dist目录下</span><br><span class="line">│   ├── favicon.ico  # 在浏览器上显示的网站图标</span><br><span class="line">│   └── index.html   # 主页面文件</span><br><span class="line">├── src              # 源码文件夹 → 以后写代码的文件夹</span><br><span class="line">│   ├── assets       # 静态资源目录 → 存放组件中的图片、字体等</span><br><span class="line">│   ├── components   # 组件目录 → 存放一些公共组件</span><br><span class="line">│   ├── views        # 存放所有的路由组件</span><br><span class="line">│   ├── App.vue      # 应用根主组件 → 项目运行看到的内容就在这里编写</span><br><span class="line">│   ├── main.js      # 应用入口 js → 打包或运行，第一个执行的文件 </span><br><span class="line">│   ├── router       # 路由配置文件</span><br><span class="line">│   └── store        # vuex状态管理文件</span><br><span class="line">├── .eslintrc.js     # eslint相关配置</span><br><span class="line">├── .gitignore       # git 版本管制忽略的配置</span><br><span class="line">├── .postcssrc.js    # postcss一种对css编译的工具，类似babel对js的处理</span><br><span class="line">├── babel.config.js  # babel 的配置,即ES6语法编译配置</span><br><span class="line">├── jsconfig.json    # js配置文件</span><br><span class="line">├── package.json     # 项目配置文件 → 包含项目名、版本号、scripts、依赖包等</span><br><span class="line">├── vue.config.js    # vue-cli配置文件</span><br><span class="line">├── yarn.lock        # 用于记录当前状态下实际安装的各个包的具体来源和版本号等, 保证其他人在 npm install 项目时大家的依赖能保证一致。yarn锁文件，由yarn自动生成的，锁定安装版本</span><br><span class="line">└── README.md        # 项目说明文档</span><br></pre></td></tr></table></figure>

<h3 id="Vue-配置⭐"><a href="#Vue-配置⭐" class="headerlink" title="Vue 配置⭐"></a>Vue 配置⭐</h3><p>项目中新建 <code>vue.config.js</code> 文件，更改端口号为8089</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;//扩展配置</span><br><span class="line">    configureWebpack:&#123;</span><br><span class="line">        devServer:&#123;</span><br><span class="line">            port:8089,//更改端口号</span><br><span class="line">            open:true,//自动启动浏览器</span><br><span class="line">            //mock数据</span><br><span class="line">            before(app)&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>保存后，在终端启动，端口号变为8089并自动打开了浏览器：<a target="_blank" rel="noopener" href="http://localhost:8089/">http://localhost:8089</a></p>
<h3 id="项目运行流程"><a href="#项目运行流程" class="headerlink" title="项目运行流程"></a>项目运行流程</h3><h4 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h4><blockquote>
<p>Vue-demo&#x2F;src&#x2F;main.js</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 文件核心作用：导入App.vue，基于App.vue创建结构渲染index.html</span></span><br><span class="line"> <span class="comment">// 1. 导入 Vue 核心包</span></span><br><span class="line"> <span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 2. 导入 App.vue 根组件</span></span><br><span class="line"> <span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style/index.css&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 提示：当前处于什么环境 (生产环境 / 开发环境)</span></span><br><span class="line"> <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 3. Vue实例化，提供render方法 → 基于App.vue创建结构渲染index.html</span></span><br><span class="line"> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   <span class="comment">// el: &#x27;#app&#x27;, 作用：和$mount(&#x27;选择器&#x27;)作用一致，用于指定Vue所管理容器</span></span><br><span class="line">   <span class="comment">// render: h =&gt; h(App),</span></span><br><span class="line">   <span class="attr">render</span>: <span class="function">(<span class="params">createElement</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">// 基于App创建元素结构</span></span><br><span class="line">     <span class="keyword">return</span> <span class="title function_">createElement</span>(<span class="title class_">App</span>)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h4 id="App-vue【语法高亮插件：Vetur】⭐"><a href="#App-vue【语法高亮插件：Vetur】⭐" class="headerlink" title="App.vue【语法高亮插件：Vetur】⭐"></a>App.vue【语法高亮插件：Vetur】⭐</h4><blockquote>
<p>Vue-demo&#x2F;src&#x2F;App.vue</p>
</blockquote>
<p>App.vue 文件（单文件组件）的三个组成部分</p>
<ol>
<li><p>语法高亮插件：<strong>Vetur</strong></p>
</li>
<li><p>三部分组成：</p>
<p>◆ template：结构 （有且只能一个根元素）</p>
<p>◆ script: js逻辑</p>
<p>◆ style： 样式 (可支持less，需要装包) </p>
</li>
<li><p>让组件支持 less </p>
<p>（1） style标签，<strong>lang&#x3D;”less”</strong> 开启less功能 </p>
<p>（2） 装包: <strong>npm install less less-loader</strong> 或 <strong>yarn add less less-loader</strong></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;App&quot;&gt; &lt;!-- App 与 App.vue 尽量相同 --&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot; @click=&quot;fn&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 导出的是当前组件的配置项</span><br><span class="line">// 里面可以提供 data(特殊) methods computed watch 生命周期八大钩子</span><br><span class="line">export default &#123;</span><br><span class="line">  created () &#123;</span><br><span class="line">    console.log(&#x27;我是created&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fn () &#123;</span><br><span class="line">      alert(&#x27;你好&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line">/* 让style支持less</span><br><span class="line">   1. 给style加上 lang=&quot;less&quot;</span><br><span class="line">   2. 安装依赖包 less less-loader</span><br><span class="line">      yarn add less less-loader -D (开发依赖)</span><br><span class="line">*/</span><br><span class="line">.App &#123;</span><br><span class="line">  width: 400px;</span><br><span class="line">  height: 400px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><blockquote>
<p>Vue-demo&#x2F;public&#x2F;index.html</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 兼容：给不支持js的浏览器一个提示 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- Vue所管理的容器：将来创建结构动态渲染这个容器 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 工程化开发模式中：这里不再直接编写模板语法，通过 App.vue 提供结构渲染 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="组件化开发-根组件-components"><a href="#组件化开发-根组件-components" class="headerlink" title="组件化开发 &amp; 根组件 - components"></a>组件化开发 &amp; 根组件 - components</h3><p>① 组件化：一个页面可以拆分成一个个组件，每个组件有着自己独立的结构、样式、行为。</p>
<p>好处：便于维护，利于复用 → 提升开发效率。</p>
<p>组件分类：普通组件、根组件。</p>
<p>② 根组件：整个应用最上层的组件，包裹所有普通小组件。</p>
<h4 id="普通组件的注册使用"><a href="#普通组件的注册使用" class="headerlink" title="普通组件的注册使用"></a>普通组件的注册使用</h4><p>组件注册的两种方式：<strong>components</strong></p>
<ol>
<li><p>局部注册：只能在注册的组件内使用</p>
<p>① 创建 .vue 文件 (三个组成部分)</p>
<p>② 在使用的组件内导入并注册</p>
</li>
</ol>
<p>使用：◆ 当成 html 标签使用 &lt;组件名&gt;&lt;&#x2F;组件名&gt;</p>
<p>注意：◆ 组件名规范 → 大驼峰命名法，如：HmHeader</p>
<ol start="2">
<li><p>全局注册：所有组件内都能使用</p>
<p>① 创建 .vue 文件 (三个组成部分) </p>
<p>② main.js 中进行全局注册</p>
</li>
</ol>
<p>使用： ◆ 当成 html 标签使用 &lt;组件名&gt;组件名&gt; </p>
<p>注意: ◆ 组件名规范 → 大驼峰命名法，如：HmHeader</p>
<p>技巧： ◆ 一般都用局部注册，如果发现确实是通用组件，再定义到全局。</p>
<h4 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">-&gt; components</span><br><span class="line">-&gt; -&gt; HmFooter.vue</span><br><span class="line">-&gt; -&gt; HmHeader.vue</span><br><span class="line">-&gt; -&gt; HmMain.vue</span><br><span class="line">-&gt; App.vue</span><br></pre></td></tr></table></figure>
<p>HmHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hm-header&quot;&gt;    我是hm-header  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;App&quot;&gt;</span><br><span class="line">    &lt;!-- 头部组件 --&gt;</span><br><span class="line">    &lt;HmHeader&gt;&lt;/HmHeader&gt;</span><br><span class="line">    &lt;!-- 主体组件 --&gt;</span><br><span class="line">    &lt;HmMain&gt;&lt;/HmMain&gt;</span><br><span class="line">    &lt;!-- 底部组件 --&gt;</span><br><span class="line">    &lt;HmFooter&gt;&lt;/HmFooter&gt;</span><br><span class="line">    &lt;!-- 如果 HmFooter + tab 出不来 → 需要配置 vscode。设置中搜索 trigger on tab → 勾上 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 导入需要注册的组件</span><br><span class="line">// import 组件对象 from &#x27;.vue文件路径&#x27;</span><br><span class="line">import HmHeader from &#x27;./components/HmHeader.vue&#x27;</span><br><span class="line">import HmMain from &#x27;./components/HmMain.vue&#x27;</span><br><span class="line">import HmFooter from &#x27;./components/HmFooter.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 局部注册</span><br><span class="line">  components: &#123;</span><br><span class="line">    // &#x27;组件名&#x27;: 组件对象</span><br><span class="line">    HmHeader: HmHeader,</span><br><span class="line">    HmMain,</span><br><span class="line">    HmFooter</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">-&gt; components</span><br><span class="line">-&gt; -&gt; HmButton.vue</span><br><span class="line">-&gt; -&gt; HmFooter.vue</span><br><span class="line">-&gt; -&gt; HmHeader.vue</span><br><span class="line">-&gt; -&gt; HmMain.vue</span><br><span class="line">-&gt; App.vue</span><br><span class="line">-&gt; main.js</span><br></pre></td></tr></table></figure>

<p>HmButton.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button class=&quot;hm-button&quot;&gt;通用按钮&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文件核心作用：导入App.vue，基于App.vue创建结构渲染index.html</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 编写导入的代码，往代码的顶部编写(规范)</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HmButton</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HmButton&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行全局注册 → 在所有的组件范围内都能直接使用</span></span><br><span class="line"><span class="comment">// Vue.component(组件名，组件对象)</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;HmButton&#x27;</span>, <span class="title class_">HmButton</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Vue实例化，提供render方法 → 基于App.vue创建结构渲染index.html</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// render: h =&gt; h(App),</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">createElement</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 基于App创建元素结构</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">createElement</span>(<span class="title class_">App</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>HmHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hm-header&quot;&gt;</span><br><span class="line">    我是hm-header</span><br><span class="line">    &lt;HmButton&gt;&lt;/HmButton&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import HmButton from &#x27;./HmButton.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 局部注册: 注册的组件只能在当前的组件范围内使用</span><br><span class="line">  // components: &#123;</span><br><span class="line">  //   HmButton</span><br><span class="line">  // &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import xxx from &#x27;路径&#x27;        //将文件作为一个整体引入使用</span><br><span class="line">import &#123; xxx &#125; from &#x27;路径&#x27;    //引入文件的一部分或某些部分的时候会使用带&#123;&#125;的方式</span><br></pre></td></tr></table></figure>



<h2 id="Vue工程化开发-数据"><a href="#Vue工程化开发-数据" class="headerlink" title="Vue工程化开发-数据"></a>Vue工程化开发-数据</h2><p>组件的三大组成部分 - 注意点说明</p>
<p>结构<template>：只能有一个根元素</p>
<p>样式<style>：</p>
<ul>
<li>全局样式(默认)：影响所有组件</li>
<li>局部样式：scoped 下样式，只作用于 当前组件</li>
</ul>
<p>逻辑<script>：el 根实例独有, data 是一个函数, 其他配置项一致</p>
<h3 id="组件的样式冲突-scoped"><a href="#组件的样式冲突-scoped" class="headerlink" title="组件的样式冲突 scoped"></a>组件的样式冲突 scoped</h3><p>默认情况：写在组件中的样式会 全局生效 → 因此很容易造成多个组件之间的样式冲突问题。</p>
<ol>
<li>全局样式: 默认组件中的样式会作用到全局</li>
<li>局部样式: 可以给组件加上 <strong>scoped</strong> 属性, 可以让样式只作用于当前组件</li>
</ol>
<p>scoped原理？</p>
<ol>
<li>当前组件内标签都被添加 data-v-hash值 的属性</li>
<li>css选择器都被添加 [data-v-hash值] 的属性选择器</li>
</ol>
<p>最终效果: 必须是当前组件的元素, 才会有这个自定义属性, 才会被这个样式作用到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;base-one&quot;&gt;</span><br><span class="line">    BaseTwo</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"> div&#123;</span><br><span class="line">  border: 3px solid red;</span><br><span class="line">  margin: 30px;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="data-是一个函数"><a href="#data-是一个函数" class="headerlink" title="data 是一个函数"></a>data 是一个函数</h3><p>一个组件的 data 选项必须是一个函数。→ 保证每个组件实例，维护独立的一份数据对象。 每次创建新的组件实例，都会新执行一次 data 函数，得到一个新对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;base-count&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;count--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123; count &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;button @click=&quot;count++&quot;&gt;+&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // data() &#123;</span><br><span class="line">  //   console.log(&#x27;函数执行了&#x27;)</span><br><span class="line">  //   return &#123;</span><br><span class="line">  //     count: 100,</span><br><span class="line">  //   &#125;</span><br><span class="line">  // &#125;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 100,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h3><p>组件通信, 就是指 组件与组件 之间的数据传递。</p>
<ul>
<li>组件的数据是独立的，无法直接访问其他组件的数据。</li>
<li>想用其他组件的数据 → 组件通信</li>
</ul>
<p>组件关系分类： </p>
<ol>
<li>父子关系：props 和 $emit</li>
<li>非父子关系：（1）. provide & inject （2）. eventbus</li>
</ol>
<p>通用解决方案：<strong>Vuex</strong> （适合复杂业务场景）</p>
<h4 id="父传子：props"><a href="#父传子：props" class="headerlink" title="父传子：props"></a>父传子：props</h4><p>Prop 定义：组件上 注册的一些 自定义属性</p>
<p>Prop 作用：向子组件传递数据 什么是 prop</p>
<p>特点： 可以传递   任意数量 / 任意类型   的prop </p>
<p>src/App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot; style=&quot;border: 3px solid #000; margin: 10px; background-color: aqua;&quot;&gt;</span><br><span class="line">    我是APP组件</span><br><span class="line">    &lt;!-- 1.给组件标签，添加属性方式 赋值 --&gt;    </span><br><span class="line">    &lt;Son</span><br><span class="line">      :title=&quot;myTitle&quot;</span><br><span class="line">      :username=&quot;username&quot;</span><br><span class="line">      :age=&quot;age&quot;</span><br><span class="line">      :isSingle=&quot;isSingle&quot;</span><br><span class="line">      :car=&quot;car&quot;</span><br><span class="line">      :hobby=&quot;hobby&quot;</span><br><span class="line">      :money=&quot;money&quot;</span><br><span class="line">      :url=&quot;url&quot;</span><br><span class="line">    &gt;&lt;/Son&gt;    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Son from &#x27;./components/Son.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      myTitle: &#x27;父传子：props&#x27;,</span><br><span class="line">      username: &#x27;小帅&#x27;,</span><br><span class="line">      age: 28,</span><br><span class="line">      isSingle: true,</span><br><span class="line">      car: &#123;</span><br><span class="line">        brand: &#x27;宝马&#x27;,</span><br><span class="line">      &#125;,</span><br><span class="line">      hobby: [&#x27;篮球&#x27;, &#x27;足球&#x27;, &#x27;羽毛球&#x27;],</span><br><span class="line">      money: &#x27;30&#x27;,</span><br><span class="line">      url: &#x27;https://jm-comic2.club/&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Son</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>src/components/Son.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div style=&quot;background-color: yellowgreen;&quot;&gt;</span><br><span class="line">    我是Son组件，App的子组件&lt;br&gt;</span><br><span class="line">    &lt;!-- 3.直接使用props的值 --&gt;</span><br><span class="line">    &#123;&#123;title&#125;&#125;</span><br><span class="line">    &lt;h3&gt;我是个人信息组件&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;姓名：&#123;&#123;username&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;是否单身：&#123;&#123;isSingle&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;座驾：&#123;&#123;car.brand&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;兴趣爱好：&#123;&#123;hobby.join(&#x27;、&#x27;)&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;money：&#123;&#123;money&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;url：&#123;&#123;url&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;SonVue&#x27;,</span><br><span class="line">  // 2.通过props来接受</span><br><span class="line">  // props:[&#x27;title&#x27;,&#x27;username&#x27;,&#x27;age&#x27;,&#x27;isSingle&#x27;,&#x27;car&#x27;,&#x27;hobby&#x27;],</span><br><span class="line"></span><br><span class="line">  //props 校验。作用：为组件的 prop 指定验证要求，不符合要求，控制台就会有错误提示 → 帮助开发者，快速发现错误</span><br><span class="line">/*  props: &#123;</span><br><span class="line">    //校验的属性名: 类型 // Number String Boolean ...</span><br><span class="line">    money: Number</span><br><span class="line">  &#125;,</span><br><span class="line">  */</span><br><span class="line">  props: &#123;</span><br><span class="line">    title:&#123;&#125;,username:&#123;&#125;,age:&#123;&#125;,isSingle:&#123;&#125;,car:&#123;&#125;,hobby:&#123;&#125;,money:Number,</span><br><span class="line">    url: &#123;</span><br><span class="line">      type: String, // ① 类型校验:Number String Boolean ...</span><br><span class="line">      required: true, // ② 非空校验:是否必填</span><br><span class="line">      default: &#x27;https://www.hacg.lv/wp/anime.html&#x27;, // ③ 默认值</span><br><span class="line">      validator (value) &#123;</span><br><span class="line">        // ④ 自定义校验逻辑</span><br><span class="line">        const isOk = value.indexOf(&quot;www&quot;)</span><br><span class="line">        //return 是否通过校验，true或false</span><br><span class="line">        if(isOk == -1)</span><br><span class="line">          return false</span><br><span class="line">        else</span><br><span class="line">          return true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="子传父：-emit"><a href="#子传父：-emit" class="headerlink" title="子传父：$emit"></a>子传父：$emit</h4><p>子组件利用 <strong>$emit</strong> 通知父组件修改更新</p>
<p>src/App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot; style=&quot;border: 3px solid #000; margin: 10px&quot;&gt;</span><br><span class="line">    我是APP组件</span><br><span class="line">    &lt;!-- 2.父组件对子组件的消息进行监听 --&gt;</span><br><span class="line">    &lt;Son :title=&quot;myTitle&quot; @changTitle=&quot;handleChange&quot;&gt;&lt;/Son&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Son from &#x27;./components/Son.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      myTitle: &#x27;学前端，就来黑马程序员&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Son,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 3.提供处理函数，提供逻辑</span><br><span class="line">    handleChange(newTitle) &#123;</span><br><span class="line">      this.myTitle = newTitle</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>src/components/Son.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;son&quot; style=&quot;border: 3px solid #000; margin: 10px&quot;&gt;</span><br><span class="line">    我是Son组件 &#123;&#123; title &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;changeFn&quot;&gt;修改title&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Son-Child&#x27;,</span><br><span class="line">  props: [&#x27;title&#x27;],</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeFn() &#123;</span><br><span class="line">      // 通过this.$emit() 向父组件发送通知</span><br><span class="line">      this.$emit(&#x27;changTitle&#x27;,&#x27;传智教育&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="非父子通信-拓展-event-bus-事件总线"><a href="#非父子通信-拓展-event-bus-事件总线" class="headerlink" title="非父子通信 (拓展) - event bus 事件总线"></a>非父子通信 (拓展) - event bus 事件总线</h4><p>作用：非父子组件之间，进行简易消息传递。(复杂场景 → Vuex)</p>
<ol>
<li>创建一个都能访问到的事件总线 (空 Vue 实例) → <strong>srcc/utils/EventBus.js</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">const Bus = new Vue()</span><br><span class="line">export default Bus</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>A 组件(接收方)，监听 Bus 实例的事件</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Bus from &#x27;../utils/EventBus&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    Bus.$on(&#x27;sendMsg&#x27;, (msg) =&gt; &#123;</span><br><span class="line">      // console.log(msg)</span><br><span class="line">      this.msg = msg</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>. B 组件(发送方)，触发 Bus 实例的事件</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Bus from &#x27;../utils/EventBus&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendMsgFn() &#123;</span><br><span class="line">      Bus.$emit(&#x27;sendMsg&#x27;, &#x27;今天天气不错，适合旅游&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="非父子通信-拓展-provide-inject"><a href="#非父子通信-拓展-provide-inject" class="headerlink" title="非父子通信 (拓展) - provide & inject"></a>非父子通信 (拓展) - provide & inject</h4><p>provide & inject 作用：跨层级共享数据。</p>
<ol>
<li>父组件 provide 提供数据</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    我是APP组件</span><br><span class="line">    &lt;button @click=&quot;change&quot;&gt;修改数据&lt;/button&gt;</span><br><span class="line">    &lt;SonA&gt;&lt;/SonA&gt;</span><br><span class="line">    &lt;SonB&gt;&lt;/SonB&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import SonA from &#x27;./components/SonA.vue&#x27;</span><br><span class="line">import SonB from &#x27;./components/SonB.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 简单类型 是非响应式的</span><br><span class="line">      color: this.color,</span><br><span class="line">      // 复杂类型 是响应式的</span><br><span class="line">      userInfo: this.userInfo,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      color: &#x27;pink&#x27;,</span><br><span class="line">      userInfo: &#123;</span><br><span class="line">        name: &#x27;zs&#x27;,</span><br><span class="line">        age: 18,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change() &#123;</span><br><span class="line">      this.color = &#x27;red&#x27;</span><br><span class="line">      this.userInfo.name = &#x27;ls&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    SonA,</span><br><span class="line">    SonB,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>子/孙组件 inject 取值使用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;grandSon&quot;&gt;</span><br><span class="line">    我是GrandSon</span><br><span class="line">    &#123;&#123; color &#125;&#125; - &#123;&#123; userInfo.name &#125;&#125; - &#123;&#123; userInfo.age &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: [&#x27;color&#x27;, &#x27;userInfo&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="v-model-原理"><a href="#v-model-原理" class="headerlink" title="v-model 原理"></a>v-model 原理</h3><p>原理：v-model本质上是一个语法糖。例如应用在输入框上，就是 value属性 和 input事件 的合写。</p>
<p>作用：提供数据的双向绑定</p>
<p>① 数据变，视图跟着变 <strong>:value</strong>。② 视图变，数据跟着变 <strong>@input</strong></p>
<p>注意：**$event** 用于在模板中，获取事件的形参</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot; &gt;</span><br><span class="line">        &lt;input v-model=&quot;msg&quot; type=&quot;text&quot;&gt;</span><br><span class="line">        &lt;input :value=&quot;msg&quot; @input=&quot;msg = $event.target.value&quot; type=&quot;text&quot;&gt;</span><br><span class="line">        &lt;input :value=&quot;count&quot; @input=&quot;handleInput&quot; type=&quot;text&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">    handleInput (e) &#123;</span><br><span class="line">      // 1. 实时获取输入框的值</span><br><span class="line">      const num = +e.target.value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="表单类组件封装-v-model-简化代码"><a href="#表单类组件封装-v-model-简化代码" class="headerlink" title="表单类组件封装 & v-model 简化代码"></a>表单类组件封装 & v-model 简化代码</h4><ol>
<li><p>表单类组件 封装 </p>
<p>① 父传子：数据 应该是父组件 props 传递 过来的，拆解 v-model 绑定数据</p>
<p>② 子传父：监听输入，子传父传值给父组件修改</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">父组件 (使 用)</span><br><span class="line">&lt;BaseSelect :cityId=&quot;selectId&quot; @事件名=&quot;selecteId = $event&quot; /&gt;</span><br><span class="line"></span><br><span class="line">子组件(封 装)</span><br><span class="line">&lt;select :value=&quot;cityId&quot; @change=&quot;handleChange&quot;&gt;...&lt;/select&gt;</span><br><span class="line">props: &#123;</span><br><span class="line">    cityId: String</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    handleChange (e) &#123;</span><br><span class="line">        this.$emit(&#x27;事件名&#x27;, e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>父组件 v-model 简化代码，实现 子组件 和 父组件数据 双向绑定</p>
<p>① 子组件中：props 通过 value 接收，事件触发 input</p>
<p>② 父组件中：v-model 给组件直接绑数据 ( <strong>:value + @input</strong> )</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">父组件(使 用)</span><br><span class="line">√ &lt;BaseSelect v-model=&quot;selectId&quot;&gt;&lt;/BaseSelect&gt;</span><br><span class="line">× &lt;BaseSelect :value=&quot;selectId&quot; @input=&quot;selecteId = $event&quot; /&gt;</span><br><span class="line"></span><br><span class="line">子组件(封 装)</span><br><span class="line">&lt;select :value=&quot;value&quot; @change=&quot;handleChange&quot;&gt;...&lt;/select&gt;</span><br><span class="line">props: &#123;</span><br><span class="line">    value: String</span><br><span class="line">&#125;, </span><br><span class="line">methods: &#123;</span><br><span class="line">    handleChange (e) &#123;</span><br><span class="line">        this.$emit(&#x27;input&#x27;, e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="sync-修饰符"><a href="#sync-修饰符" class="headerlink" title=".sync 修饰符"></a>.sync 修饰符</h3><p>作用：可以实现 子组件 与 父组件数据 的 双向绑定，简化代码</p>
<p>特点：prop属性名，可以自定义，非固定为 value</p>
<p>场景：封装弹框类的基础组件， visible属性 true显示 false隐藏</p>
<p>本质：就是 :属性名 和 @update:属性名 合写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">父组件(使 用)</span><br><span class="line">√ &lt;BaseDialog :visible.sync=&quot;isShow&quot; /&gt;</span><br><span class="line">× &lt;BaseDialog :visible=&quot;isShow&quot; @update:visible=&quot;isShow = $event&quot;/&gt;</span><br><span class="line"></span><br><span class="line">子组件(封 装)</span><br><span class="line">props: &#123;</span><br><span class="line">    visible: Boolean</span><br><span class="line">&#125;,</span><br><span class="line">this.$emit(&#x27;update:visible&#x27;, false)</span><br></pre></td></tr></table></figure>

<h3 id="ref-和-refs"><a href="#ref-和-refs" class="headerlink" title="ref 和 $refs"></a>ref 和 $refs</h3><p>作用：利用 ref 和 $refs 可以用于 获取 dom 元素, 或 组件实例</p>
<p>特点：查找范围 → 当前组件内 (更精确稳定)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 基于准备好的dom，初始化echarts实例</span><br><span class="line">const myChart = echarts.init(document.querySelector(&#x27;.box&#x27;));</span><br><span class="line">//querySelector 查找范围 → 整个页面</span><br></pre></td></tr></table></figure>

<h4 id="①-获取-dom："><a href="#①-获取-dom：" class="headerlink" title="① 获取 dom："></a>① 获取 dom：</h4><ol>
<li>目标标签 – 添加 ref 属性</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;base-chart-box&quot; ref=&quot;baseChartBox&quot;&gt;子组件&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>恰当时机, 通过 this.$refs.xxx, 获取目标标签</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    console.log(this.$refs.baseChartBox)</span><br><span class="line">    // 基于准备好的dom，初始化echarts实例</span><br><span class="line">    // document.querySelector 会查找项目中所有的元素</span><br><span class="line">    // $refs只会在当前组件查找盒子</span><br><span class="line">    // var myChart = echarts.init(document.querySelector(&#x27;.base-chart-box&#x27;))</span><br><span class="line">    var myChart = echarts.init(this.$refs.baseChartBox)</span><br><span class="line">    // 绘制图表</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="②-获取组件："><a href="#②-获取组件：" class="headerlink" title="② 获取组件："></a>② 获取组件：</h4><ol>
<li>目标组件 – 添加 ref 属性</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;BaseForm ref=&quot;baseForm&quot;&gt;&lt;/BaseForm&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>恰当时机, 通过 this.$refs.xxx, 获取目标组件，就可以调用组件对象里面的方法</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$refs.baseForm.组件方法()</span><br></pre></td></tr></table></figure>

<h3 id="Vue异步更新、-nextTick"><a href="#Vue异步更新、-nextTick" class="headerlink" title="Vue异步更新、$nextTick"></a>Vue异步更新、$nextTick</h3><p>需求：编辑标题, 编辑框自动聚焦</p>
<ol>
<li>点击编辑，显示编辑框</li>
<li>让编辑框，立刻获取焦点</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.isShowEdit = true // 显示输入框</span><br><span class="line">this.$refs.inp.focus() // 获取焦点</span><br></pre></td></tr></table></figure>

<p>问题："显示之后"，立刻获取焦点是不能成功的！</p>
<p>原因：Vue 是 异步更新 DOM (提升性能)</p>
<blockquote>
<p>Vue是异步更新 DOM 的</p>
<p>想要在 DOM 更新完成之后做某件事，可以使用 $nextTick</p>
</blockquote>
<p>$nextTick：等 DOM 更新后, 才会触发执行此方法里的函数体</p>
<p>语法: <strong>this.$nextTick(函数体)</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$nextTick(() =&gt; &#123;</span><br><span class="line">    this.$refs.inp.focus()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>显示并聚焦案例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &#x27;大标题&#x27;,</span><br><span class="line">      isShowEdit: false,</span><br><span class="line">      editValue: &#x27;&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    editFn() &#123;</span><br><span class="line">      // 1.显示文本框</span><br><span class="line">      this.isShowEdit = true</span><br><span class="line">      // 2.让文本框聚焦 （会等dom更新完之后 立马执行nextTick中的回调函数）</span><br><span class="line">      // this.$nextTick(() =&gt; &#123;</span><br><span class="line">      //   console.log(this.$refs.inp)</span><br><span class="line">      //   this.$refs.inp.focus()</span><br><span class="line">      // &#125;)</span><br><span class="line"></span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$refs.inp.focus()</span><br><span class="line">      &#125;, 0)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="指令、插槽、路由"><a href="#指令、插槽、路由" class="headerlink" title="指令、插槽、路由"></a>指令、插槽、路由</h2><h3 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h3><p>自定义指令：自己定义的指令, 可以封装一些 dom 操作， 扩展额外功能</p>
<p>操作dom：dom元素.focus()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    this.$refs.inp.focus()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>全局注册 - 语法（<strong>main.js</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 1. 全局注册指令</span><br><span class="line">Vue.directive(&#x27;指令名&#x27;, &#123;</span><br><span class="line">    // inserted 会在 指令所在的元素，被插入到页面中时触发</span><br><span class="line">    &quot;inserted&quot; (el) &#123;</span><br><span class="line">        // el 就是指令所绑定的元素</span><br><span class="line">        // console.log(el);</span><br><span class="line">        // 可以对 el 标签，扩展额外功能</span><br><span class="line">        el.focus()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>局部注册 – 语法（<strong>App.vue</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    // mounted () &#123;</span><br><span class="line">    //   this.$refs.inp.focus()</span><br><span class="line">    // &#125;</span><br><span class="line"></span><br><span class="line">    // 2. 局部注册指令</span><br><span class="line">    directives: &#123;</span><br><span class="line">    // 指令名：指令的配置项</span><br><span class="line">    &quot;指令名&quot;: &#123;</span><br><span class="line">        inserted () &#123;</span><br><span class="line">            // 可以对 el 标签，扩展额外功能</span><br><span class="line">            el.focus()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-指令名 ref=&quot;inp&quot; type=&quot;text&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自定义指令-指令的值"><a href="#自定义指令-指令的值" class="headerlink" title="自定义指令 - 指令的值"></a>自定义指令 - 指令的值</h4><p>需求：实现一个 color 指令 - 传入不同的颜色, 给标签设置文字颜色</p>
<p>语法：在绑定指令时，可以通过“等号”的形式为指令 绑定 具体的参数值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-color=&quot;color&quot;&gt;我是内容&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>通过 <strong>binding.value</strong> 可以拿到指令值，指令值修改会 触发 update 函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      color1: &#x27;red&#x27;,</span><br><span class="line">      color2: &#x27;orange&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: &#123; //局部注册</span><br><span class="line">    color: &#123;</span><br><span class="line">      // 1. inserted 提供的是元素被添加到页面中时的逻辑</span><br><span class="line">      inserted (el, binding) &#123;</span><br><span class="line">        // console.log(el, binding.value);</span><br><span class="line">        // binding.value 就是指令的值</span><br><span class="line">        el.style.color = binding.value</span><br><span class="line">      &#125;,</span><br><span class="line">      // 2. update 指令的值修改的时候触发，提供值变化后，dom更新的逻辑</span><br><span class="line">      update (el, binding) &#123;</span><br><span class="line">        console.log(&#x27;指令的值修改了&#x27;);</span><br><span class="line">        el.style.color = binding.value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自定义指令-v-loading-指令封装"><a href="#自定义指令-v-loading-指令封装" class="headerlink" title="自定义指令 - v-loading 指令封装"></a>自定义指令 - v-loading 指令封装</h4><p>场景：实际开发过程中，发送请求需要时间，在请求的数据未回来时，页面会处于空白状态=> 用户体验不好</p>
<p>需求：封装一个 v-loading 指令，实现加载中的效果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot; v-loading=&quot;isLoading&quot;&gt;</span><br><span class="line">      ...</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box2&quot; v-loading=&quot;isLoading2&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 安装axios =&gt;  yarn add axios</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line"></span><br><span class="line">// 接口地址：http://hmajax.itheima.net/api/news</span><br><span class="line">// 请求方式：get</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [],</span><br><span class="line">      isLoading: true,</span><br><span class="line">      isLoading2: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  async created () &#123;</span><br><span class="line">    // 1. 发送请求获取数据</span><br><span class="line">    const res = await axios.get(&#x27;http://hmajax.itheima.net/api/news&#x27;)</span><br><span class="line">    </span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      // 2. 更新到 list 中，用于页面渲染 v-for</span><br><span class="line">      this.list = res.data.data</span><br><span class="line">      this.isLoading = false</span><br><span class="line">    &#125;, 2000)</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    loading: &#123;</span><br><span class="line">      inserted (el, binding) &#123;</span><br><span class="line">        binding.value ? el.classList.add(&#x27;loading&#x27;) : el.classList.remove(&#x27;loading&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      update (el, binding) &#123;</span><br><span class="line">        binding.value ? el.classList.add(&#x27;loading&#x27;) : el.classList.remove(&#x27;loading&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.loading:before &#123;</span><br><span class="line">  content: &#x27;&#x27;;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  background: #fff url(&#x27;./loading.gif&#x27;) no-repeat center;</span><br><span class="line">&#125;</span><br><span class="line">.box2 &#123;</span><br><span class="line">  width: 400px;</span><br><span class="line">  height: 400px;</span><br><span class="line">  border: 2px solid #000;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="插槽-slot"><a href="#插槽-slot" class="headerlink" title="插槽- slot"></a>插槽- slot</h3><p>作用：让组件内部的一些 结构 支持 自定义</p>
<p>需求: 将需要多次显示的对话框, 封装成一个组件</p>
<p>问题：组件的内容部分，不希望写死，希望能使用的时候自定义。怎么办？</p>
<p>插槽基本语法：</p>
<ol>
<li>组件内需要定制的结构部分，改用占位</li>
<li>使用组件时, 标签内部, 传入结构替换slot</li>
</ol>
<h4 id="默认插槽-后备内容-默认值"><a href="#默认插槽-后备内容-默认值" class="headerlink" title="默认插槽 & 后备内容(默认值)"></a>默认插槽 & 后备内容(默认值)</h4><p>通过插槽完成了内容的定制，传什么显示什么, 但是如果不传，则是空白。能否给插槽设置 默认显示内容 呢？</p>
<p>插槽后备内容：封装组件时，可以为预留的 <slot> 插槽提供后备内容（默认内容）。</p>
<p>语法: 在 <slot> 标签内，放置内容, 作为默认显示内容</p>
<p>src/components/MyDialog.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;dialog-header&quot;&gt;</span><br><span class="line">      &lt;h3&gt;友情提示&lt;/h3&gt;</span><br><span class="line">      &lt;span class=&quot;close&quot;&gt;✖️&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;div class=&quot;dialog-content&quot;&gt;&lt;!-- 1. 在需要定制的位置，使用一个slot占位 --&gt;</span><br><span class="line">      &lt;!-- 默认插槽</span><br><span class="line">        &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">      --&gt;</span><br><span class="line">      &lt;!-- 后备内容(默认值)</span><br><span class="line">        &lt;slot&gt;这里是默认内容&lt;/slot&gt;</span><br><span class="line">      --&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">      &lt;button&gt;取消&lt;/button&gt;</span><br><span class="line">      &lt;button&gt;确认&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>src/App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 2. 在使用组件时，组件标签内填入内容 --&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;MyDialog&gt; &lt;!-- 使用的是 默认插槽 --&gt;</span><br><span class="line">      &lt;p&gt;你确认要退出么&lt;/p&gt;</span><br><span class="line">    &lt;/MyDialog&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;MyDialog&gt;&lt;/MyDialog&gt; &lt;!-- 使用的是 后备内容(默认值) --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyDialog from &#x27;./components/MyDialog.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyDialog</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h4><p>需求：一个组件内有多处结构，需要外部传入标签，进行定制</p>
<p>默认插槽：一个的定制位置</p>
<p>具名插槽语法: </p>
<ol>
<li>多个slot使用name属性区分名字</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;dialog-header&quot;&gt;</span><br><span class="line">    &lt;slot name=&quot;head&quot;&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;dialog-content&quot;&gt;</span><br><span class="line">    &lt;slot name=&quot;content&quot;&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>template配合v-slot:名字来分发对应标签</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyDialog&gt;</span><br><span class="line">    &lt;template v-slot:head&gt;</span><br><span class="line">        大标题</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-slot:content&gt;</span><br><span class="line">        内容文本</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-slot:footer&gt;</span><br><span class="line">        &lt;button&gt;按钮&lt;/button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/MyDialog&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>v-slot:插槽名 可以简化成#插槽名</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyDialog&gt;</span><br><span class="line">    &lt;template #head&gt;</span><br><span class="line">        大标题</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #content&gt;</span><br><span class="line">        内容文本</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #footer&gt;</span><br><span class="line">        &lt;button&gt;按钮&lt;/button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/MyDialog&gt;</span><br></pre></td></tr></table></figure>

<h4 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h4><p>作用域插槽: 定义 slot 插槽的同时, 是可以传值的。给 插槽 上可以 绑定数据，将来 使用组件时可以用。</p>
<p>场景：封装表格组件</p>
<ol>
<li>父传子，动态渲染表格内容</li>
<li>利用默认插槽，定制操作列</li>
<li>删除或查看都需要用到 当前项的 id，属于 组件内部的数据 通过 作用域插槽 传值绑定，进而使用</li>
</ol>
<p>基本使用步骤：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">// src/components/MyTable.vue</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;table class=&quot;my-table&quot;&gt;</span><br><span class="line">    &lt;thead&gt;</span><br><span class="line">      &lt;tr&gt;        &lt;th&gt;序号&lt;/th&gt;        &lt;th&gt;姓名&lt;/th&gt;        &lt;th&gt;年纪&lt;/th&gt;        &lt;th&gt;操作&lt;/th&gt;      &lt;/tr&gt;</span><br><span class="line">    &lt;/thead&gt;</span><br><span class="line">    &lt;tbody&gt;</span><br><span class="line">      &lt;tr v-for=&quot;(item, index) in data&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123; index + 1 &#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123; item.name &#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123; item.age &#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;</span><br><span class="line">          &lt;!-- 1. 给slot标签，以添加属性的方式传值 --&gt;</span><br><span class="line">          &lt;slot :row=&quot;item&quot; msg=&quot;测试文本&quot;&gt;&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 2. 所有添加的属性, 都会被收集到一个对象中</span><br><span class="line">             &#123;</span><br><span class="line">               row: &#123; id: 2, name: &#x27;孙大明&#x27;, age: 19 &#125;,</span><br><span class="line">               msg: &#x27;测试文本&#x27;</span><br><span class="line">             &#125;</span><br><span class="line">           --&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line">      &lt;/tr&gt;</span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">  &lt;/table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    data: Array</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// src/App.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;MyTable :data=&quot;list&quot;&gt;</span><br><span class="line">      &lt;!-- 3. 在template中, 通过 #插槽名= &quot;obj&quot; 接收，默认插槽名为 default。通过&lt;template #插槽名=&quot;变量名&quot;&gt;接收 --&gt;</span><br><span class="line">      &lt;template #default=&quot;obj&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;del(obj.row.id)&quot;&gt;</span><br><span class="line">          删除</span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/MyTable&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;MyTable :data=&quot;list2&quot;&gt;</span><br><span class="line">      &lt;template #default=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;show(row)&quot;&gt;查看&lt;/button&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/MyTable&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyTable from &#x27;./components/MyTable.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123; id: 1, name: &#x27;张小花&#x27;, age: 18 &#125;,</span><br><span class="line">        &#123; id: 2, name: &#x27;孙大明&#x27;, age: 19 &#125;,</span><br><span class="line">        &#123; id: 3, name: &#x27;刘德忠&#x27;, age: 17 &#125;,</span><br><span class="line">      ],</span><br><span class="line">      list2: [</span><br><span class="line">        &#123; id: 1, name: &#x27;赵小云&#x27;, age: 18 &#125;,</span><br><span class="line">        &#123; id: 2, name: &#x27;刘蓓蓓&#x27;, age: 19 &#125;,</span><br><span class="line">        &#123; id: 3, name: &#x27;姜肖泰&#x27;, age: 17 &#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    del (id) &#123;</span><br><span class="line">      this.list = this.list.filter(item =&gt; item.id !== id)</span><br><span class="line">    &#125;,</span><br><span class="line">    show (row) &#123;</span><br><span class="line">      // console.log(row);</span><br><span class="line">      alert(`姓名：$&#123;row.name&#125;; 年纪：$&#123;row.age&#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyTable</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="单页应用程序-SPA-Single-Page-Application"><a href="#单页应用程序-SPA-Single-Page-Application" class="headerlink" title="单页应用程序: SPA - Single Page Application"></a>单页应用程序: SPA - Single Page Application</h3><p>单页面应用(SPA): 所有功能在 一个html页面 上实现</p>
<p>具体示例: 网易云音乐 <a target="_blank" rel="noopener" href="https://music.163.com/">https://music.163.com/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">开发分类  实现方式      页面性能       开发效率  用户体验  学习成本  首屏加载  SEO</span><br><span class="line">单页     一个html页面  按需更新性能高  高       非常好    高       慢       差</span><br><span class="line">多页     多个html页面  整页更新性能低  中等     一般      中等     快       优</span><br></pre></td></tr></table></figure>

<p>单页面应用：系统类网站 / 内部网站 / 文档类网站 /移动端站点</p>
<p>多页面应用：公司官网 / 电商类网站</p>
<h3 id="路由⭐"><a href="#路由⭐" class="headerlink" title="路由⭐"></a>路由⭐</h3><p>生活中的路由：设备和ip的映射关系</p>
<p>Vue中路由：路径 和 组件 的 映射 关系</p>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/#/home">http://localhost:8080/#/home</a>     <a target="_blank" rel="noopener" href="http://localhost:8080/#/comment">http://localhost:8080/#/comment</a>     <a target="_blank" rel="noopener" href="http://localhost:8080/#/search">http://localhost:8080/#/search</a></p>
<p>Home.vue 组件     Comment.vue组件     Search.vue组件</p>
<h4 id="VueRouter-的-介绍"><a href="#VueRouter-的-介绍" class="headerlink" title="VueRouter 的 介绍"></a>VueRouter 的 介绍</h4><p>目标：认识插件 VueRouter，掌握 VueRouter 的基本使用步骤</p>
<p>作用：修改地址栏路径时，切换显示匹配的组件</p>
<p>说明：Vue 官方的一个路由插件，是一个第三方包</p>
<p>官网：<a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/">https://v3.router.vuejs.org/zh/</a></p>
<h4 id="VueRouter-的-使用-5-2"><a href="#VueRouter-的-使用-5-2" class="headerlink" title="VueRouter 的 使用 (5 + 2)"></a>VueRouter 的 使用 (5 + 2)</h4><p>5个基础步骤 (固定)</p>
<p>① 下载： 下载 VueRouter 模块到当前工程，版本3.6.5   【2.x的Vue需要3.x的VueRouter，3.x的Vue需要4.x的VueRouter】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@3.6.5</span><br><span class="line">npm install vue-router@3.6.5 -g</span><br><span class="line">或者 yarn add vue-router@3.6.5</span><br></pre></td></tr></table></figure>

<p>② 引入（<strong>main.js</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br></pre></td></tr></table></figure>

<p>③ 安装注册（<strong>main.js</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(VueRouter) // VueRouter插件初始化</span><br></pre></td></tr></table></figure>

<p>④ 创建路由对象（<strong>main.js</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const router = new VueRouter()</span><br></pre></td></tr></table></figure>

<p>⑤ 注入，将路由对象注入到new Vue实例中，建立关联（<strong>main.js</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    // router:router   下面是简写</span><br><span class="line">    router</span><br><span class="line">&#125;).$mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure>

<p>2 个核心步骤</p>
<p>① 创建需要的组件 <strong>(views</strong>目录)，配置路由规则（<strong>main.js</strong>）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find.vue My.vue Friend.vue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Find</span> <span class="keyword">from</span> <span class="string">&#x27;./views/Find.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&#x27;./views/My.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friend</span> <span class="keyword">from</span> <span class="string">&#x27;./views/Friend.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Find</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/friend&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friend</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#x27;/find&#x27;：地址栏路径     Find：组件</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Find.vue My.vue Friend.vue</span><br><span class="line">//可能会报错，警示说需要多个单词，需要在对应的vue下，name一下</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;FindMusic&#x27; //组件名</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>② 配置导航，配置路由出口(路径匹配的组件显示的位置)（<strong>App.vue</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;footer_wrap&quot;&gt;</span><br><span class="line">      &lt;a href=&quot;#/find&quot;&gt;发现音乐&lt;/a&gt;</span><br><span class="line">      &lt;a href=&quot;#/my&quot;&gt;我的音乐&lt;/a&gt;</span><br><span class="line">      &lt;a href=&quot;#/friend&quot;&gt;朋友&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;top&quot;&gt;</span><br><span class="line">      &lt;!-- 路由出口 → 匹配的组件所展示的位置 --&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件存放目录问题"><a href="#组件存放目录问题" class="headerlink" title="组件存放目录问题"></a>组件存放目录问题</h3><p>注意：.vue文件 本质无区别。</p>
<p>路由相关的组件，为什么放在 views 目录呢？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Find from &#x27;./views/Find.vue&#x27;</span><br><span class="line">import My from &#x27;./views/My.vue&#x27;</span><br><span class="line">import Friend from &#x27;./views/Friend.vue&#x27;</span><br></pre></td></tr></table></figure>

<p>组件分类： .vue文件分2类； 页面组件 & 复用组件 页面组件 页面组件 页面组件复用 复用注意：都是 .vue文件 (本质无区别)</p>
<p>分类开来 更易维护</p>
<ul>
<li>src/views文件夹<ul>
<li>页面组件 - 页面展示 - 配合路由用</li>
</ul>
</li>
<li>src/components文件夹<ul>
<li>复用组件 - 展示数据 - 常用于复用</li>
</ul>
</li>
</ul>
<h2 id="路由进阶"><a href="#路由进阶" class="headerlink" title="路由进阶"></a>路由进阶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;app&#x27;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    console.log(this.$router) // 验证router是否配好</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="路由模块封装"><a href="#路由模块封装" class="headerlink" title="路由模块封装"></a>路由模块封装</h3><p>问题：所有的路由配置都堆在main.js中合适么？</p>
<p>目标：将路由模块抽离出来。 好处：拆分模块，利于维护</p>
<p><strong>src/main.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>src/router/index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Find</span> <span class="keyword">from</span> <span class="string">&#x27;../views/Find&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/My&#x27;</span> </span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friend</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Friend&#x27;</span></span><br><span class="line"><span class="comment">//基于 @ 指代 src 目录，从src 目录出发找组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>) <span class="comment">// VueRouter插件初始化</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建了一个路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// routes 路由规则们</span></span><br><span class="line">  <span class="comment">// route  一条路由规则 &#123; path: 路径, component: 组件 &#125;</span></span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Find</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/friend&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friend</span> &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h3 id="声明式导航-导航高亮-精确匹配-模糊匹配"><a href="#声明式导航-导航高亮-精确匹配-模糊匹配" class="headerlink" title="声明式导航 & 导航高亮 / 精确匹配&模糊匹配"></a>声明式导航 & 导航高亮 / 精确匹配&模糊匹配</h3><p>需求：实现导航高亮效果</p>
<p>vue-router 提供了一个全局组件 router-link (取代 a 标签)</p>
<p> ① 能跳转，<router-link to="/路径值" ></router-link>，配置 to 属性指定路径(必须) 。本质还是 a 标签 ，to 无需 # </p>
<p>② 能高亮，默认就会提供高亮类名，可以直接设置高亮样式。 (自带激活时的类名)</p>
<p><strong>a.router-link-active</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;footer_wrap&quot;&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">      &lt;a href=&quot;#/find&quot;&gt;发现音乐&lt;/a&gt;</span><br><span class="line">      &lt;a href=&quot;#/my&quot;&gt;我的音乐&lt;/a&gt;</span><br><span class="line">      &lt;a href=&quot;#/friend&quot;&gt;朋友&lt;/a&gt;</span><br><span class="line">--&gt;</span><br><span class="line">      &lt;router-link to=&quot;/find&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/my&quot;&gt;我的音乐&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/friend&quot;&gt;朋友&lt;/router-link&gt;</span><br><span class="line">&lt;!--说明：我们发现 router-link 自动给当前导航添加了 两个高亮类名</span><br><span class="line">    ① router-link-active 模糊匹配 (用的多)</span><br><span class="line">        to=&quot;/my&quot; 可以匹配 /my /my/a /my/b ....</span><br><span class="line">    ② router-link-exact-active 精确匹配</span><br><span class="line">        to=&quot;/my&quot; 仅可以匹配 /my</span><br><span class="line">--&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;top&quot;&gt;</span><br><span class="line">      &lt;!-- 路由出口 → 匹配的组件所展示的位置 --&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;    export default &#123;&#125;;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/* </span><br><span class="line">  router-link-active 模糊匹配(更多)</span><br><span class="line">  to=&quot;/find&quot;  =&gt;  地址栏 /find   /find/one   /find/two  ...</span><br><span class="line"></span><br><span class="line">  router-link-exact-active 精确匹配</span><br><span class="line">  to=&quot;/find&quot;  =&gt;  地址栏 /find  </span><br><span class="line">*/</span><br><span class="line">    .footer_wrap a.router-link-active &#123;</span><br><span class="line">        background-color: purple;</span><br><span class="line">    &#125;</span><br><span class="line">    .footer_wrap a:hover &#123;</span><br><span class="line">        background-color: #555;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="自定义高亮类名"><a href="#自定义高亮类名" class="headerlink" title="自定义高亮类名"></a>自定义高亮类名</h3><p><strong>src/router/index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Find</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Find&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/My&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friend</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Friend&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>) <span class="comment">// VueRouter插件初始化</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建了一个路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// routes 路由规则们</span></span><br><span class="line">  <span class="comment">// route  一条路由规则 &#123; path: 路径, component: 组件 &#125;</span></span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Find</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/friend&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friend</span> &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// link自定义高亮类名</span></span><br><span class="line">  <span class="attr">linkActiveClass</span>: <span class="string">&#x27;active&#x27;</span>, <span class="comment">// 配置模糊匹配的类名</span></span><br><span class="line">  <span class="attr">linkExactActiveClass</span>: <span class="string">&#x27;exact-active&#x27;</span> <span class="comment">// 配置精确匹配的类名</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">/* </span><br><span class="line">  router-link-active 模糊匹配(更多)</span><br><span class="line">  to=&quot;/find&quot;  =&gt;  地址栏 /find   /find/one   /find/two  ...</span><br><span class="line">  router-link-exact-active 精确匹配</span><br><span class="line">  to=&quot;/find&quot;  =&gt;  地址栏 /find  </span><br><span class="line">*/</span><br><span class="line">    /* .footer_wrap a.router-link-active &#123;</span><br><span class="line">        background-color: purple;</span><br><span class="line">    &#125; */</span><br><span class="line">    .footer_wrap a.active &#123;</span><br><span class="line">        background-color: purple;</span><br><span class="line">    &#125;</span><br><span class="line">    .footer_wrap a:hover &#123;</span><br><span class="line">        background-color: #555;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="声明式导航-跳转传参"><a href="#声明式导航-跳转传参" class="headerlink" title="声明式导航 - 跳转传参"></a>声明式导航 - 跳转传参</h3><p>目标：在跳转路由时, 进行传值</p>
<ol>
<li><p>查询参数传参 (比较适合传多个参数)</p>
<p>① 语法格式如下：<strong>to="/path?参数名=值&参数名2=值"</strong></p>
<p>② 对应页面组件接收传递过来的值：**$route.query.参数名**</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">热门搜索：</span><br><span class="line">&lt;router-link to=&quot;/search?key=黑马程序员&quot;&gt;黑马程序员&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/search?key=前端培训&quot;&gt;前端培训&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/search?key=如何成为前端大牛&quot;&gt;如何成为前端大牛&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;search&quot;&gt;</span><br><span class="line">    &lt;p&gt;搜索关键字: &#123;&#123; $route.query.key &#125;&#125; &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;搜索结果: &lt;/p&gt;</span><br><span class="line">    &lt;ul&gt;      &lt;li&gt;.............&lt;/li&gt;      &lt;li&gt;.............&lt;/li&gt;      &lt;li&gt;.............&lt;/li&gt;    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;MyFriend&#x27;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    // 在created中，获取路由参数</span><br><span class="line">    // this.$router.query.参数名 获取</span><br><span class="line">    console.log(this.$route.query.key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>动态路由传参 (优雅简洁，传单个参数比较方便)</p>
<p>① 配置动态路由</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [</span><br><span class="line">        ...,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/search/:words&#x27;,</span><br><span class="line">            component: Search</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line">// /search/:words 表示，必须要传参数。如果不传参数，也希望匹配，可以加个可选符&quot;?&quot;</span><br></pre></td></tr></table></figure>

<p>   ② 配置导航链接：<strong>to="/path/参数值"</strong></p>
<p>   ③ 对应页面组件接收传递过来的值：**$route.params.参数名**</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// src/router/index.js</span><br><span class="line">// 创建了一个路由对象</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#x27;/home&#x27;, component: Home &#125;,</span><br><span class="line">    &#123; path: &#x27;/search/:words&#x27;, component: Search &#125;</span><br><span class="line">//  &#123; path: &#x27;/search/:words?&#x27;, component: Search &#125; 表示如果不传参数，也希望匹配</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//src/views/Home.vue</span><br><span class="line">热门搜索：</span><br><span class="line">&lt;router-link to=&quot;/search/黑马程序员&quot;&gt;黑马程序员&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/search/前端培训&quot;&gt;前端培训&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/search/如何成为前端大牛&quot;&gt;如何成为前端大牛&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">//src/views/Search.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;search&quot;&gt;</span><br><span class="line">    &lt;p&gt;搜索关键字: &#123;&#123; $route.params.words &#125;&#125; &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;搜索结果: &lt;/p&gt;</span><br><span class="line">    &lt;ul&gt;      &lt;li&gt;.............&lt;/li&gt;      &lt;li&gt;.............&lt;/li&gt;      &lt;li&gt;.............&lt;/li&gt;    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;MyFriend&#x27;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    // 在created中，获取路由参数</span><br><span class="line">    // this.$route.query.参数名 获取查询参数</span><br><span class="line">    // this.$route.params.参数名 获取动态路由参数</span><br><span class="line">    console.log(this.$route.params.words);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="路由重定向"><a href="#路由重定向" class="headerlink" title="路由重定向"></a>路由重定向</h3><p>问题：网页打开， url 默认是 / 路径，未匹配到组件时，会出现空白</p>
<p>说明：重定向 → 匹配path后, 强制跳转path路径</p>
<p>语法： { path: 匹配路径, redirect: 重定向到的路径 }</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span>&#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/search/:words&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Search</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="路由404"><a href="#路由404" class="headerlink" title="路由404"></a>路由404</h3><p>作用：当路径找不到匹配时，给个提示页面</p>
<p>位置：<strong>配在路由最后</strong></p>
<p>语法：path: "*" (任意路径) – 前面不匹配就命中最后这个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">NotFind</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/NotFind&#x27;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/search/:words?&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Search</span>&#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>, <span class="attr">component</span>: <span class="title class_">NotFind</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Vue路由-模式设置"><a href="#Vue路由-模式设置" class="headerlink" title="Vue路由 - 模式设置"></a>Vue路由 - 模式设置</h3><p>问题: 路由的路径看起来不自然, 有#，能否切成真正路径形式?</p>
<ul>
<li>hash路由(默认) 例如: <a target="_blank" rel="noopener" href="http://localhost:8080/#/home">http://localhost:8080/#/home</a></li>
<li>history路由(常用) 例如: <a target="_blank" rel="noopener" href="http://localhost:8080/home">http://localhost:8080/home</a> (以后上线需要服务器端支持)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;history&quot;</span>,</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="编程式导航-跳转"><a href="#编程式导航-跳转" class="headerlink" title="编程式导航-跳转"></a>编程式导航-跳转</h3><p>问题：点击按钮跳转如何实现？</p>
<p>编程式导航：用JS代码来进行跳转。返回的话，使用 <strong>$router.back()</strong> 即可</p>
<ul>
<li>**this.$router.push('路由路径')**：跳转到指定url路径，并想history栈中添加一个记录，点击后退会返回到上一个页面</li>
<li>**this.$router.replace('路由路径')**：跳转到指定url路径，但是history栈中不会有记录，点击返回会跳转到上上个页面 (就是直接替换了当前页面)</li>
<li>**this.$router.go(n)**：向前或者向后跳转n个页面，n可为正整数或负整数</li>
</ul>
<p>两种语法: </p>
<p>① path 路径跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#x27;路由路径&#x27;) //search</span><br><span class="line">或</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    path: &#x27;路由路径&#x27;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//path 路径跳转传参 (query传参)</span><br><span class="line">this.$router.push(&#x27;/路径?参数名1=参数值1&amp;参数2=参数值2&#x27;)</span><br><span class="line">// this.$router.push(`/search?key=$&#123;this.inpValue&#125;`)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    path: &#x27;/路径&#x27;,</span><br><span class="line">    query: &#123;</span><br><span class="line">        参数名1: &#x27;参数值1&#x27;,</span><br><span class="line">        参数名2: &#x27;参数值2&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">//path 路径跳转传参 (动态路由传参)</span><br><span class="line">this.$router.push(&#x27;/路径/参数值&#x27;)     // this.$router.push(`/search/$&#123;this.inpValue&#125;`)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    path: &#x27;/路径/参数值&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>② name 命名路由跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;</span><br><span class="line">    name: &#x27;路由名&#x27;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// router:</span><br><span class="line">&#123; name: &#x27;路由名&#x27;, path: &#x27;/path/xxx&#x27;, component: XXX &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//name 命名路由跳转传参 (query传参)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    name: &#x27;路由名字&#x27;,</span><br><span class="line">    query: &#123;</span><br><span class="line">        参数名1: &#x27;参数值1&#x27;,</span><br><span class="line">        参数名2: &#x27;参数值2&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">//name 命名路由跳转传参 (动态路由传参)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    name: &#x27;路由名字&#x27;,</span><br><span class="line">    params: &#123;</span><br><span class="line">        参数名: &#x27;参数值&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="嵌套二级路由-children"><a href="#嵌套二级路由-children" class="headerlink" title="嵌套二级路由 - children"></a>嵌套二级路由 - children</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Layout</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Layout&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Article</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Article&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Collect</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Collect&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Like</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Like&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">User</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/User&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ArticleDetail</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/ArticleDetail&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// /article 路径 → Article组件</span></span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; </span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Layout</span>,</span><br><span class="line">      <span class="attr">redirect</span>: <span class="string">&#x27;/article&#x27;</span>,</span><br><span class="line">      <span class="comment">// 通过 children 配置项，可以配置嵌套子路由</span></span><br><span class="line">      <span class="comment">// 1. 在children配置项中，配规则</span></span><br><span class="line">      <span class="comment">// 2. 准备二级路由出口</span></span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/article&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">Article</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/collect&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">Collect</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/like&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">Like</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/user&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">User</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/detail/:id&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">ArticleDetail</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h3 id="安装使用axios-？？？⭐"><a href="#安装使用axios-？？？⭐" class="headerlink" title="安装使用axios ？？？⭐"></a>安装使用axios ？？？⭐</h3><p>官网：<a target="_blank" rel="noopener" href="https://www.axios-http.cn/">https://www.axios-http.cn/</a></p>
<p>可查询官网，根据官网来使用</p>
<p><strong>注意：</strong>由于<code>async/await</code>是ECMAScript 2017中的部分，而且在IE和一些旧的浏览器中不支持，所以使用时一定要小心。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install axios </span><br><span class="line">或 yarn add axios</span><br></pre></td></tr></table></figure>

<h4 id="使用方法一"><a href="#使用方法一" class="headerlink" title="使用方法一"></a>使用方法一</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">    </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;ArticlePage&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      articles: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  async created () &#123;</span><br><span class="line">    const res = await axios.get(&#x27;https://mock.boxuegu.com/mock/3083/articles&#x27;)</span><br><span class="line">    this.articles = res.data.result.rows</span><br><span class="line">    // console.log(this.articles);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="使用方法二"><a href="#使用方法二" class="headerlink" title="使用方法二"></a>使用方法二</h4><p>目标：将 axios 请求方法，封装到 request 模块</p>
<p>使用 axios 来请求后端接口, 一般都会对 axios 进行 一些配置 (比如: 配置基础地址，请求响应拦截器等)</p>
<p>所以项目开发中, 都会对 axios 进行基本的二次封装, 单独封装到一个 request 模块中, 便于维护使用</p>
<p><strong>src/utils/request.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 axios 实例，将来对创建出来的实例，进行自定义配置</span></span><br><span class="line"><span class="comment">// 好处：不会污染原始的 axios 实例</span></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;http://cba.itlike.com/public/index.php?s=/api/&#x27;</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义配置 - 请求/响应 拦截器</span></span><br><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 2xx 范围内的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应数据做点什么 (默认axios会多包装一层data，需要响应拦截器中处理一下)</span></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 范围的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出配置好的实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance</span><br></pre></td></tr></table></figure>

<p>Xxx.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import request from &#x27;@/utils/request&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;LoginPage&#x27;,</span><br><span class="line">    data () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            picKey: &#x27;&#x27;, // 将来请求传递的图形验证码唯一标识</span><br><span class="line">            picUrl: &#x27;&#x27;, // 存储请求渲染的图片地址</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    async created () &#123;</span><br><span class="line">        //const res = await request.get(&#x27;/captcha/image&#x27;)</span><br><span class="line">        //console.log(res)</span><br><span class="line">        const &#123; data: &#123; base64, key &#125; &#125; = await request.get(&#x27;/captcha/image&#x27;)</span><br><span class="line">        this.picUrl = base64 // 存储地址</span><br><span class="line">        this.picKey = key // 存储唯一标识</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="使用方法三"><a href="#使用方法三" class="headerlink" title="使用方法三"></a>使用方法三</h4><p>目标：将请求封装成方法，统一存放到 api 模块，与页面分离</p>
<p>以前的模式： 1. 页面中充斥着请求代码，可阅读性不高；2. 相同的请求没有复用；3. 请求没有统一管理</p>
<p>封装api模块的好处： 1. 请求与页面逻辑分离；2. 相同的请求可以直接复用；3. 请求进行了统一管理</p>
<p>新建请求模块 --> 封装请求函数 --> 页面中导入调用</p>
<p><strong>src/utils/request.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 axios 实例，将来对创建出来的实例，进行自定义配置</span></span><br><span class="line"><span class="comment">// 好处：不会污染原始的 axios 实例</span></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;http://cba.itlike.com/public/index.php?s=/api/&#x27;</span>, <span class="comment">//基地址</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义配置 - 请求/响应 拦截器</span></span><br><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 2xx 范围内的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应数据做点什么 (默认axios会多包装一层data，需要响应拦截器中处理一下)</span></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 范围的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出配置好的实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance</span><br></pre></td></tr></table></figure>

<p><strong>src/api/login.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此处用于存放所有登录相关的接口请求</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 获取图形验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getPicCode</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/captcha/image&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. 获取短信验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getMsgCode</span> = (<span class="params">captchaCode, captchaKey, mobile</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/captcha/sendSmsCaptcha&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">form</span>: &#123;</span><br><span class="line">      captchaCode,</span><br><span class="line">      captchaKey,</span><br><span class="line">      mobile,</span><br><span class="line">      <span class="attr">smscode</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>XXX.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; getPicCode &#125; from &#x27;@/api/login&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;LoginPage&#x27;,</span><br><span class="line">    data () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            picKey: &#x27;&#x27;, // 将来请求传递的图形验证码唯一标识</span><br><span class="line">            picUrl: &#x27;&#x27;, // 存储请求渲染的图片地址</span><br><span class="line">            mobile: &#x27;&#x27;, // 手机号</span><br><span class="line">            picCode: &#x27;&#x27;, // 用户输入的图形验证码</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    async created () &#123;</span><br><span class="line">        this.getPicCodes()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        // 获取图形验证码</span><br><span class="line">        async getPicCodes () &#123;</span><br><span class="line">            const &#123; data: &#123; base64, key &#125; &#125; = await getPicCode()</span><br><span class="line">            //console.log(&quot;getPicCode() 发送一次&quot;,base64,key)</span><br><span class="line">            this.picUrl = base64 // 存储地址</span><br><span class="line">            this.picKey = key // 存储唯一标识</span><br><span class="line"></span><br><span class="line">            // Toast(&#x27;获取图形验证码成功&#x27;)</span><br><span class="line">            // this.$toast(&#x27;获取成功&#x27;)</span><br><span class="line">            // this.$toast.success(&#x27;成功文案&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        // 获取短信验证码</span><br><span class="line">        async getCode () &#123;</span><br><span class="line">            const res = await getMsgCode(this.picCode, this.picKey, this.mobile)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="拦截器处理"><a href="#拦截器处理" class="headerlink" title="拦截器处理"></a>拦截器处理</h3><p>目标：通过响应拦截器，统一处理接口的错误提示</p>
<p>问题：每次请求，都会有可能会错误，就都需要错误提示</p>
<p>说明：响应拦截器是咱们拿到数据的 第一个 数据流转站，可以在里面统一处理错误。 只要不是 200, 就给默认提示，抛出错误</p>
<blockquote>
<p>不想在vue的srcipt方法里进行if判断，直接在响应拦截器进行判断</p>
</blockquote>
<p><strong>src/utils/request.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 axios 实例，将来对创建出来的实例，进行自定义配置</span></span><br><span class="line"><span class="comment">// 好处：不会污染原始的 axios 实例</span></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;http://cba.itlike.com/public/index.php?s=/api/&#x27;</span>, <span class="comment">//基地址</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义配置 - 请求/响应 拦截器</span></span><br><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">  <span class="comment">// 开启loading，禁止背景点击 (节流处理，防止多次无效触发)</span></span><br><span class="line">  <span class="title class_">Toast</span>.<span class="title function_">loading</span>(&#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;加载中...&#x27;</span>,</span><br><span class="line">    <span class="attr">forbidClick</span>: <span class="literal">true</span>, <span class="comment">// 禁止背景点击</span></span><br><span class="line">    <span class="attr">loadingType</span>: <span class="string">&#x27;spinner&#x27;</span>, <span class="comment">// 配置loading图标</span></span><br><span class="line">    <span class="attr">duration</span>: <span class="number">0</span> <span class="comment">// 不会自动消失</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 只要有token，就在请求时携带，便于请求需要授权的接口</span></span><br><span class="line">  <span class="keyword">const</span> token = store.<span class="property">getters</span>.<span class="property">token</span></span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;Access-Token&#x27;</span>] = token</span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">platform</span> = <span class="string">&#x27;H5&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 2xx 范围内的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应数据做点什么 (默认axios会多包装一层data，需要响应拦截器中处理一下)</span></span><br><span class="line">  <span class="keyword">const</span> res = response.<span class="property">data</span></span><br><span class="line">  <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="comment">// 给错误提示, Toast 默认是单例模式，后面的 Toast调用了，会将前一个 Toast 效果覆盖</span></span><br><span class="line">    <span class="comment">// 同时只能存在一个 Toast</span></span><br><span class="line">    <span class="title class_">Toast</span>(res.<span class="property">message</span>)</span><br><span class="line">    <span class="comment">// 抛出一个错误的promise</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">message</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 正确情况，直接走业务核心逻辑，清除loading效果</span></span><br><span class="line">    <span class="title class_">Toast</span>.<span class="title function_">clear</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 范围的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出配置好的实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance</span><br></pre></td></tr></table></figure>

<p><strong>src/api/login.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此处用于存放所有登录相关的接口请求</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 获取图形验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getPicCode</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/captcha/image&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. 获取短信验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getMsgCode</span> = (<span class="params">captchaCode, captchaKey, mobile</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/captcha/sendSmsCaptcha&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">form</span>: &#123;</span><br><span class="line">      captchaCode,</span><br><span class="line">      captchaKey,</span><br><span class="line">      mobile,</span><br><span class="line">      <span class="attr">smscode</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>XXX.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; getPicCode &#125; from &#x27;@/api/login&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;LoginPage&#x27;,</span><br><span class="line">    data () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            picKey: &#x27;&#x27;, // 将来请求传递的图形验证码唯一标识</span><br><span class="line">            picUrl: &#x27;&#x27;, // 存储请求渲染的图片地址</span><br><span class="line">            mobile: &#x27;&#x27;, // 手机号</span><br><span class="line">            picCode: &#x27;&#x27;, // 用户输入的图形验证码</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    async created () &#123;</span><br><span class="line">        this.getPicCodes()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        // 获取图形验证码</span><br><span class="line">        async getPicCodes () &#123;</span><br><span class="line">            const &#123; data: &#123; base64, key &#125; &#125; = await getPicCode()</span><br><span class="line">            //console.log(&quot;getPicCode() 发送一次&quot;,base64,key)</span><br><span class="line">            this.picUrl = base64 // 存储地址</span><br><span class="line">            this.picKey = key // 存储唯一标识</span><br><span class="line"></span><br><span class="line">            // Toast(&#x27;获取图形验证码成功&#x27;)</span><br><span class="line">            // this.$toast(&#x27;获取成功&#x27;)</span><br><span class="line">            // this.$toast.success(&#x27;成功文案&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        // 获取短信验证码</span><br><span class="line">        async getCode () &#123;</span><br><span class="line">            const res = await getMsgCode(this.picCode, this.picKey, this.mobile)</span><br><span class="line">            //当响应拦截器抛出 错误的promise 时，就不会往下执行</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件缓存-keep-alive"><a href="#组件缓存-keep-alive" class="headerlink" title="组件缓存 keep-alive"></a>组件缓存 keep-alive</h3><p>问题：从面经 点到 详情页，又点返回，数据重新加载了 → 希望回到原来的位置</p>
<p>原因：路由跳转后，组件被销毁了，返回回来组件又被重建了，所以数据重新被加载了</p>
<p>解决：利用 keep-alive 将组件缓存下来</p>
<ol>
<li><p>keep-alive是什么</p>
<ul>
<li>keep-alive 是 Vue 的内置组件，当它包裹动态组件时，会缓存不活动的组件实例，而不是销毁它们。</li>
<li>keep-alive 是一个抽象组件：它自身不会渲染成一个 DOM 元素，也不会出现在父组件链中。</li>
</ul>
</li>
<li><p>keep-alive的优点</p>
<ul>
<li>在组件切换过程中 把切换出去的组件保留在内存中，防止重复渲染DOM， 减少加载时间及性能消耗，提高用户体验性</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;h5-wrapper&quot;&gt;</span><br><span class="line">        &lt;keep-alive&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">        &lt;/keep-alive&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>问题：缓存了所有被切换的组件</p>
<ol start="3">
<li>keep-alive的三个属性<ul>
<li>① <strong>include</strong> ： 组件名数组，只有匹配的组件会被缓存</li>
<li>② exclude ： 组件名数组，任何匹配的组件都不会被缓存</li>
<li>③ max ： 最多可以缓存多少组件实例</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;h5-wrapper&quot;&gt;</span><br><span class="line">    &lt;!-- 包裹了keep-alive 一级路由匹配的组件都会被缓存</span><br><span class="line">         LayoutPage组件(被缓存) - 多两个生命周期钩子</span><br><span class="line">          - actived 激活时，组件被看到时触发</span><br><span class="line">          - deactived 失活时，离开页面组件看不见触发</span><br><span class="line">         ArticleDetailPage组件(未被缓存)</span><br><span class="line"></span><br><span class="line">         需求：只希望Layout被缓存，include配置</span><br><span class="line">         :include=&quot;组件名数组&quot;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;keep-alive :include=&quot;keepArr&quot;&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/keep-alive&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;h5-wrapper&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 缓存组件名的数组</span><br><span class="line">      keepArr: [&#x27;LayoutPage&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>keep-alive的使用会触发两个生命周期函数<ul>
<li>activated 当组件被激活（使用）的时候触发 → 进入这个页面的时候触发</li>
<li>deactivated 当组件不被使用的时候触发 → 离开这个页面的时候触发</li>
<li>组件缓存后就不会执行组件的<strong>created, mounted, destroyed</strong> 等钩子了</li>
<li>所以其提供了<strong>actived</strong> 和 <strong>deactived</strong>钩子，帮我们实现业务需求。</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 组件名(如果没有配置 name，才会找文件名作为组件名)</span><br><span class="line">  name: &#x27;LayoutPage&#x27;,</span><br><span class="line">  // 组件缓存了，就不会执行组件的created，mounted，destroyed等钩子</span><br><span class="line">  // 所以提供了 actived 和 deactived</span><br><span class="line">  created () &#123;</span><br><span class="line">    console.log(&#x27;created 组件被加载了&#x27;);</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    console.log(&#x27;mounted dom渲染完了&#x27;);</span><br><span class="line">  &#125;,</span><br><span class="line">  destroyed () &#123;</span><br><span class="line">    console.log(&#x27;destroyed 组件被销毁了&#x27;);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  activated () &#123;</span><br><span class="line">    alert(&#x27;你好，欢迎回到首页&#x27;)</span><br><span class="line">    console.log(&#x27;activated 组件被激活了，看到页面了&#x27;);</span><br><span class="line">  &#125;,</span><br><span class="line">  deactivated () &#123;</span><br><span class="line">    console.log(&#x27;deactivated 组件失活，离开页面了&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="自定义创建项目"><a href="#自定义创建项目" class="headerlink" title="自定义创建项目"></a>自定义创建项目</h3><p>目标：基于 VueCli 自定义创建项目架子</p>
<ol>
<li><strong>vue create project-name</strong></li>
<li>不选 Default ([Vue 2] babel,eslint) ，选择自定义，即选择 <strong>Manually select features</strong></li>
<li><strong>空格</strong> 选择 <strong>Babel</strong>、<strong>Router</strong>、<strong>Vuex</strong>、<strong>CSS Pre-processors</strong>、<strong>Linter / Formatter</strong></li>
<li>选择 <strong>2.x</strong> 版本</li>
<li>Use history mode for roouter? Y/n     Y:history路由(常用)   <strong>n</strong>: hash路由(默认)</li>
<li>Pick a CSS pre-processor 选择 <strong>Less</strong></li>
<li>Pick a linter / formatter config: <strong>ESLint + Standard config</strong> 【无分号规范(标准化)】</li>
<li><strong>Lint on save</strong></li>
<li>Where do you prefer placing config for Babel, ESLint, etc.? : <strong>In dedicated config files</strong>【将配置文件放在单独的文件中】</li>
<li>Save this as a preset for future projects? (y/N) <strong>n</strong></li>
</ol>
<h4 id="ESlint-代码规范"><a href="#ESlint-代码规范" class="headerlink" title="ESlint 代码规范"></a>ESlint 代码规范</h4><p>目标：认识代码规范</p>
<p>代码规范：一套写代码的约定规则。例如："赋值符号的左右是否需要空格" "一句结束是否是要加;" ... </p>
<p>老话说："没有规矩不成方圆" → 正规的团队 需要 统一的编码风格</p>
<p>JavaScript Standard Style 规范说明 <a target="_blank" rel="noopener" href="https://standardjs.com/rules-zhcn.html">https://standardjs.com/rules-zhcn.html</a></p>
<p>下面是这份规则中的一小部分：</p>
<ul>
<li>字符串使用单引号 'abc'</li>
<li>无分号 const name = 'zs'</li>
<li>关键字后加空格 if (name = 'ls') { ... }</li>
<li>函数名后加空格 function name (arg) { ... }</li>
<li>坚持使用全等 <code>===</code> 摒弃 <code>==</code></li>
</ul>
<p>目标：学会解决代码规范错误</p>
<p>如果你的代码不符合 standard 的要求，ESlint 会跳出来刀子嘴，豆腐心地提示你。</p>
<p>比如：在main.js中随意做一些改动，添加一些分号，空行。</p>
<p>两种解决方案：</p>
<p>① 手动修正 </p>
<ul>
<li>根据错误提示来一项一项手动修改纠正。</li>
<li>如果你不认识命令行中的语法报错是什么意思，根据错误代码去 [ESLint 规则表] 中查找其具体含义。</li>
</ul>
<p>② 自动修正</p>
<ul>
<li>基于 vscode 插件 <strong>ESLint</strong> 高亮错误，并通过配置 自动 帮助我们修复错误。 【左下角设置 -> 设置 -> 右上角，打开设置 -> settings.json】</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 当保存的时候，eslint自动帮我们修复错误</span><br><span class="line">&quot;editor.codeActionsOnSave&quot;: &#123;</span><br><span class="line">  &quot;source.fixAll&quot;: true</span><br><span class="line">&#125;,</span><br><span class="line">// 保存代码，不自动格式化</span><br><span class="line">&quot;editor.formatOnSave&quot;: false</span><br></pre></td></tr></table></figure>

<h2 id="vuex概述⭐"><a href="#vuex概述⭐" class="headerlink" title="vuex概述⭐"></a>vuex概述⭐</h2><p>目标：明确 vuex 是什么，应用场景，优势</p>
<ol>
<li>是什么：</li>
</ol>
<p>vuex 是一个 vue 的 <strong>状态管理工具</strong>，状态就是数据。</p>
<p>大白话：vuex 是一个插件，可以帮我们<strong>管理 vue 通用的数据 (多组件共享的数据)</strong>    例如：购物车数据个人信息数据</p>
<ol start="2">
<li>场景：</li>
</ol>
<p>① 某个状态 在 很多个组件 来使用 (个人信息)</p>
<p>② 多个组件 共同维护 一份数据 (购物车)</p>
<ol start="3">
<li>优势：</li>
</ol>
<p>① 共同维护一份数据，数据集中化管理</p>
<p>② 响应式变化</p>
<p>③ 操作简洁 (vuex提供了一些辅助函数)</p>
<h3 id="构建-vuex-多组件数据共享-环境"><a href="#构建-vuex-多组件数据共享-环境" class="headerlink" title="构建 vuex [多组件数据共享] 环境"></a>构建 vuex [多组件数据共享] 环境</h3><p>目标：基于脚手架创建项目，构建 vuex 多组件数据共享环境</p>
<p>效果是三个组件, 共享一份数据: 1、任意一个组件都可以修改数据；2、三个组件的数据是同步的</p>
<h4 id="创建一个空仓库"><a href="#创建一个空仓库" class="headerlink" title="创建一个空仓库"></a>创建一个空仓库</h4><p>目标：安装 vuex 插件，初始化一个空仓库</p>
<ol>
<li>安装 vuex【2.x的Vue需要3.x的vuex，3.x的Vue需要4.x的vuex】</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex@3</span><br><span class="line">或 yarn add vuex@3</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>新建vuex 模块文件：新建 <strong>src/store/index.js</strong> 专门存放 vuex</p>
</li>
<li><p>创建仓库：**Vue.use(Vuex)**；创建仓库 <strong>new Vuex.Store()</strong></p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里面存放的就是 vuex 相关的核心代码</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="keyword">import</span> setting <span class="keyword">from</span> <span class="string">&#x27;./modules/setting&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 插件安装</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建仓库</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="comment">// 严格模式 (有利于初学者，检测不规范的代码 =&gt; 上线时需要关闭)</span></span><br><span class="line">  <span class="comment">//strict: true,</span></span><br><span class="line">  <span class="comment">// 1. 通过 state 可以提供数据 (所有组件共享的数据)</span></span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;仓库大标题&#x27;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">list</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. 通过 mutations 可以提供修改数据的方法</span></span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="comment">// 所有mutation函数，第一个参数，都是 state</span></span><br><span class="line">    <span class="comment">// 注意点：mutation参数有且只能有一个，如果需要多个参数，包装成一个对象</span></span><br><span class="line">    addCount (state, obj) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br><span class="line">      <span class="comment">// 修改数据</span></span><br><span class="line">      state.<span class="property">count</span> += obj.<span class="property">count</span></span><br><span class="line">    &#125;,</span><br><span class="line">    subCount (state, n) &#123;</span><br><span class="line">      state.<span class="property">count</span> -= n</span><br><span class="line">    &#125;,</span><br><span class="line">    changeCount (state, newCount) &#123;</span><br><span class="line">      state.<span class="property">count</span> = newCount</span><br><span class="line">    &#125;,</span><br><span class="line">    changeTitle (state, newTitle) &#123;</span><br><span class="line">      state.<span class="property">title</span> = newTitle</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. actions 处理异步</span></span><br><span class="line">  <span class="comment">// 注意：不能直接操作 state，操作 state，还是需要 commit mutation</span></span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// context 上下文 (此处未分模块，可以当成store仓库)</span></span><br><span class="line">    <span class="comment">// context.commit(&#x27;mutation名字&#x27;, 额外参数)</span></span><br><span class="line">    changeCountAction (context, num) &#123;</span><br><span class="line">      <span class="comment">// 这里是setTimeout模拟异步，以后大部分场景是发请求</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, num)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4. getters 类似于计算属性</span></span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="comment">// 注意点：</span></span><br><span class="line">    <span class="comment">// 1. 形参第一个参数，就是state</span></span><br><span class="line">    <span class="comment">// 2. 必须有返回值，返回值就是getters的值</span></span><br><span class="line">    filterList (state) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">list</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item &gt; <span class="number">5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 5. modules 模块</span></span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    user,</span><br><span class="line">    setting</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出给main.js使用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>main.js 导入挂载：在 <strong>src/main.js</strong> 中导入挂载到Vue实例上</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="property">state</span>.<span class="property">count</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止vue在启动时生成生产提示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  store</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>检验：<strong>this.$store</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Son1 from &#x27;./components/Son1.vue&#x27;</span><br><span class="line">import Son2 from &#x27;./components/Son2.vue&#x27;</span><br><span class="line">import &#123; mapState &#125; from &#x27;vuex&#x27;</span><br><span class="line">// console.log(mapState([&#x27;count&#x27;, &#x27;title&#x27;]))</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;app&#x27;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    // console.log(this.$router) // 没配</span><br><span class="line">    console.log(this.$store.state.count)</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapState([&#x27;count&#x27;, &#x27;title&#x27;])</span><br><span class="line">  &#125;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleInput (e) &#123;</span><br><span class="line">      // 1. 实时获取输入框的值</span><br><span class="line">      const num = +e.target.value</span><br><span class="line">      // 2. 提交mutation，调用mutation函数</span><br><span class="line">      this.$store.commit(&#x27;changeCount&#x27;, num)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Son1,</span><br><span class="line">    Son2</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="核心概念-state-状态"><a href="#核心概念-state-状态" class="headerlink" title="核心概念 - state 状态"></a>核心概念 - state 状态</h3><p>目标：明确如何给仓库 提供 数据，如何 使用 仓库的数据</p>
<ol>
<li>提供数据：【src/store/index.js】</li>
</ol>
<p>State 提供唯一的公共数据源，所有共享的数据都要统一放到 Store 中的 State 中存储。在 state 对象中可以添加我们要共享的数据。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 创建仓库</span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  // state 状态, 即数据, 类似于vue组件中的data</span><br><span class="line">  // 区别：</span><br><span class="line">  // 1. data 是组件自己的数据</span><br><span class="line">  // 2. state 是所有组件共享的数据</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: 101</span><br><span class="line">  &#125;</span><br><span class="line">  //或者</span><br><span class="line">//  state() &#123;</span><br><span class="line">//    count: 101</span><br><span class="line">//  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>目标：明确如何给仓库 提供 数据，如何 使用 仓库的数据</p>
<ol start="2">
<li><p>使用数据：</p>
<p>① 通过 store 直接访问</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">获取 store：</span><br><span class="line">(1) this.$store</span><br><span class="line">(2) import 导入 store</span><br><span class="line">  import store from &#x27;@/store/index&#x27;</span><br><span class="line">  console.log(store.state.count)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">模板中： &#123;&#123; $store.state.xxx &#125;&#125;</span><br><span class="line">组件逻辑中： this.$store.state.xxx</span><br><span class="line">JS模块中： store.state.xxx</span><br></pre></td></tr></table></figure>

<p>   ② 通过辅助函数（可写多个）</p>
<p>mapState是辅助函数，帮助我们把 store中的数据 自动 映射到 组件的计算属性中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">//  &#123;&#123; $store.state.xxx &#125;&#125;</span><br><span class="line">  &#123;&#123; count &#125;&#125;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState &#125; from &#x27;vuex&#x27; //导入mapState</span><br><span class="line">console.log(mapState([&#x27;count&#x27;,&#x27;title&#x27;])) // mapState([&#x27;count&#x27;]) //数组方式引入state</span><br><span class="line">    </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;app&#x27;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    // console.log(this.$router) // 没配</span><br><span class="line">    console.log(this.$store.state.count)</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  // 把state中数据，定义在组件内的计算属性中</span><br><span class="line">  computed: &#123;</span><br><span class="line">//  count () &#123;</span><br><span class="line">//    return this.$store.state.count</span><br><span class="line">//  &#125;</span><br><span class="line">    ...mapState([&#x27;count&#x27;]) //展开运算符映射</span><br><span class="line">//    ...mapState([&#x27;count&#x27;, &#x27;title&#x27;])</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="核心概念-mutations"><a href="#核心概念-mutations" class="headerlink" title="核心概念 - mutations"></a>核心概念 - mutations</h3><p>目标：明确 vuex 同样遵循单向数据流，组件中不能直接修改仓库的数据</p>
<p>通过 strict: true 可以开启严格模式</p>
<p>this.$store.state.count++ (错误写法)</p>
<p><strong>目标：掌握 mutations 的操作流程，来修改 state 数据。 (state数据的修改只能通过 mutations )</strong></p>
<ol>
<li>定义 mutations 对象，对象中存放修改 state 的方法【src/store/index.js】</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  // 定义mutations</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    // 第一个参数是当前store的state属性</span><br><span class="line">    addCount (state) &#123;</span><br><span class="line">      state.count += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>组件中提交调用 mutations</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#x27;addCount&#x27;)</span><br></pre></td></tr></table></figure>

<p><strong>目标：掌握 mutations 传参语法</strong></p>
<p>提交 mutation 是可以传递参数的 <code>this.$store.commit( &#39;xxx&#39;, 参数 )</code></p>
<ol>
<li>提供 mutation 函数 (带参数 - 提交载荷 payload )</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  ...</span><br><span class="line">  addCount (state, n) &#123;</span><br><span class="line">    state.count += n</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>页面中提交调用 mutation</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#x27;addCount&#x27;, 10)</span><br></pre></td></tr></table></figure>

<p>Tips: 提交参数只能一个，如果有多个参数，包装成一个对象传递</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#x27;addCount&#x27;,&#123;</span><br><span class="line">  count: 10,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="辅助函数-mapMutations"><a href="#辅助函数-mapMutations" class="headerlink" title="辅助函数 - mapMutations"></a>辅助函数 - mapMutations</h4><p>目标：掌握辅助函数 mapMutations，映射方法 mapMutations 和 mapState很像，它是把位于mutations中的方法提取了出来，映射到组件methods中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// src/store/index.js</span><br><span class="line">mutations: &#123;</span><br><span class="line">  subCount (state, n) &#123;</span><br><span class="line">    state.count -= n</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import &#123; mapMutations &#125; from &#x27;vuex&#x27;</span><br><span class="line">//methods: &#123;</span><br><span class="line">//  subCount (n) &#123;</span><br><span class="line">//    this.$store.commit(&#x27;subCount&#x27;,n)&#125;,</span><br><span class="line">//  &#125;</span><br><span class="line">//&#125;</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations([&#x27;subCount&#x27;])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.subCount(10) 调用</span><br></pre></td></tr></table></figure>

<h3 id="核心概念-actions"><a href="#核心概念-actions" class="headerlink" title="核心概念 - actions"></a>核心概念 - actions</h3><p>目标：明确 actions 的基本语法，处理异步操作。</p>
<p>需求: 一秒钟之后, 修改 state 的 count 成 666。</p>
<p>说明：mutations 必须是同步的 (便于监测数据变化，记录调试)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//【src/store/index.js】</span><br><span class="line">mutations: &#123;</span><br><span class="line">  changeCount (state, newCount) &#123;</span><br><span class="line">    state.count = newCount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>提供action 方法【src/store/index.js】</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  setAsyncCount (context, num) &#123;</span><br><span class="line">  // 一秒后, 给一个数, 去修改num</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    context.commit(&#x27;changeCount&#x27;,num)&#125;, 1000)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>页面中 dispatch 调用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#x27;setAsyncCount&#x27;,200)</span><br></pre></td></tr></table></figure>

<h4 id="辅助函数-mapActions"><a href="#辅助函数-mapActions" class="headerlink" title="辅助函数 - mapActions"></a>辅助函数 - mapActions</h4><p>目标：掌握辅助函数 mapActions，映射方法</p>
<p>mapActions 是把位于 actions中的方法提取了出来，映射到组件methods中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  changeCountAction (context, num) &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      context.commit(&#x27;changeCount&#x27;, num)</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import &#123; mapActions &#125; from &#x27;vuex&#x27;</span><br><span class="line">//methods: &#123;</span><br><span class="line">//  changeCountAction (n) &#123;</span><br><span class="line">//    this.$store.dispatch(&#x27;changeCountAction&#x27;,n)</span><br><span class="line">//  &#125;,</span><br><span class="line">//&#125;</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([&#x27;changeCountAction&#x27;])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.changeCountAction(666) 调用</span><br></pre></td></tr></table></figure>

<h3 id="核心概念-getters"><a href="#核心概念-getters" class="headerlink" title="核心概念 - getters"></a>核心概念 - getters</h3><p>目标：掌握核心概念 getters 的基本语法 (类似于计算属性)</p>
<p>说明：除了state之外，有时我们还需要从state中派生出一些状态，这些状态是依赖state的，此时会用到getters</p>
<p>例如：state中定义了list，为 1-10 的数组，组件中，需要显示所有大于5的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">state: &#123;</span><br><span class="line">  list: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>定义 getters</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">// 注意：</span><br><span class="line">// (1) getters函数的第一个参数是 state</span><br><span class="line">// (2) getters函数必须要有返回值</span><br><span class="line">  filterList (state) &#123;</span><br><span class="line">    return state.list.filter(item =&gt; item &gt; 5)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>访问getters</li>
</ol>
<p>① 通过store 访问getters</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; $store.getters.filterList&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>② 通过辅助函数mapGetters映射</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mapGetters &#125; from &#x27;vuex&#x27;</span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapGetters([&#x27;filterList&#x27;])</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;&#123; filterList &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="核心概念-模块-module-进阶语法"><a href="#核心概念-模块-module-进阶语法" class="headerlink" title="核心概念 - 模块 module (进阶语法)"></a>核心概念 - 模块 module (进阶语法)</h3><p>目标：掌握核心概念 module 模块的创建</p>
<p>由于 vuex 使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿。(当项目变得越来越大的时候，Vuex会变得越来越难以维护)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">state: &#123;</span><br><span class="line">  //用户模块：user</span><br><span class="line">  userInfo: &#123;</span><br><span class="line">    name: &#x27;zs&#x27;,</span><br><span class="line">    age: 18</span><br><span class="line">  &#125;,</span><br><span class="line">  //设置模块：setting</span><br><span class="line">  theme: &#x27;dark&#x27;,</span><br><span class="line">  desc: &#x27;测试项目&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">单一状态树</span><br></pre></td></tr></table></figure>

<h4 id="模块拆分："><a href="#模块拆分：" class="headerlink" title="模块拆分："></a>模块拆分：</h4><p>user模块: <strong>src/store/modules/user.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  <span class="attr">userInfo</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> getters = &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">import</span> &#123; getInfo, setInfo &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  state () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// 个人权证相关</span></span><br><span class="line">      <span class="attr">userInfo</span>: <span class="title function_">getInfo</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="comment">// 所有mutations的第一个参数，都是state</span></span><br><span class="line">    setUserInfo (state, obj) &#123;</span><br><span class="line">      state.<span class="property">userInfo</span> = obj</span><br><span class="line">      <span class="title function_">setInfo</span>(obj)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    logout (context) &#123;</span><br><span class="line">      <span class="comment">// 个人信息要重置</span></span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;setUserInfo&#x27;</span>, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 购物车信息要重置 (跨模块调用 mutation)  cart/setCartList</span></span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;cart/setCartList&#x27;</span>, [], &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>src/store/index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="keyword">import</span> cart <span class="keyword">from</span> <span class="string">&#x27;./modules/cart&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    token (state) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">user</span>.<span class="property">userInfo</span>.<span class="property">token</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    user,</span><br><span class="line">    cart</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="目标：掌握模块中-state、getters、mutation、action-的访问语法"><a href="#目标：掌握模块中-state、getters、mutation、action-的访问语法" class="headerlink" title="目标：掌握模块中 state、getters、mutation、action 的访问语法"></a>目标：掌握模块中 state、getters、mutation、action 的访问语法</h4><p><strong>目标：掌握模块中 state 的访问语法</strong></p>
<p>尽管已经分模块了，但其实子模块的状态，还是会挂到根级别的 state 中，属性名就是模块名</p>
<p>使用模块中的数据：</p>
<p>① 直接通过模块名访问 <strong>$store.state.模块名.xxx</strong></p>
<p>② 通过 mapState 映射</p>
<ul>
<li>默认根级别的映射 <strong>mapState([ 'xxx' ])</strong></li>
<li>子模块的映射 <strong>mapState('模块名', ['xxx'])</strong> - 需要开启命名空间。<strong>mapState('模块名')</strong>  <strong></strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  namespaced: true,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>目标：掌握模块中 getters 的访问语法</strong></p>
<p>使用模块中 getters 中的数据：</p>
<p>① 直接通过模块名访问 <strong>$store.getters['模块名/xxx ']</strong></p>
<p>② 通过 mapGetters 映射</p>
<ul>
<li>默认根级别的映射 <strong>mapGetters([ 'xxx' ])</strong></li>
<li>子模块的映射 <strong>mapGetters('模块名', ['xxx'])</strong> - 需要开启命名空间</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  namespaced: true,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>目标：掌握模块中 mutation 的调用语法</strong></p>
<p>注意：默认模块中的 mutation 和 actions 会被挂载到全局，需要开启命名空间，才会挂载到子模块。</p>
<p>调用子模块中 mutation：</p>
<p>① 直接通过 store 调用 <strong>$store.commit('模块名/xxx ', 额外参数)</strong></p>
<p>② 通过 mapMutations 映射</p>
<ul>
<li>默认根级别的映射 <strong>mapMutations([ 'xxx' ])</strong></li>
<li>子模块的映射 <strong>mapMutations('模块名', ['xxx'])</strong> - 需要开启命名空间</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  namespaced: true,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>目标：掌握模块中 action 的调用语法 (同理 - 直接类比 mutation 即可)</strong></p>
<p>注意：默认模块中的 mutation 和 actions 会被挂载到全局，需要开启命名空间，才会挂载到子模块。</p>
<p>调用子模块中 action ：</p>
<p>① 直接通过 store 调用 <strong>$store.dispatch('模块名/xxx ', 额外参数)</strong></p>
<p>② 通过 mapActions 映射</p>
<ul>
<li>默认根级别的映射 <strong>mapActions([ 'xxx' ])</strong></li>
<li>子模块的映射 <strong>mapActions('模块名', ['xxx'])</strong> - 需要开启命名空间</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  namespaced: true,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="后端接口服务环境"><a href="#后端接口服务环境" class="headerlink" title="后端接口服务环境"></a>后端接口服务环境</h2><ol>
<li>安装全局工具 json-server （全局工具仅需要安装一次）【官网：<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/json-server%E3%80%91">https://www.npmjs.com/package/json-server】</a><ul>
<li>yarn global add json-server 或 npm i json-server -g</li>
</ul>
</li>
<li>代码根目录新建一个 db 目录</li>
<li>将资料 index.json 移入 db 目录</li>
<li>进入 db 目录，执行命令，启动后端接口服务 json-server index.json</li>
<li>访问接口测试 <a target="_blank" rel="noopener" href="http://localhost:3000/cart">http://localhost:3000/cart</a></li>
</ol>
<p>推荐： json-server --watch index.json (可以实时监听 json 文件的修改)</p>
<h2 id="智慧商城案例"><a href="#智慧商城案例" class="headerlink" title="智慧商城案例"></a>智慧商城案例</h2><p>1、脚手架创建项目</p>
<p>2、添加 路由：src/router</p>
<ul>
<li>封装路由模块：src/router/index.js</li>
</ul>
<p>3、添加 页面组件：src/views</p>
<p>4、构建 vuex [多组件数据共享] 环境：src/store</p>
<ul>
<li>新建vuex 模块文件：src/store/index.js</li>
<li>模块拆分：src/store/modules</li>
</ul>
<p>5、入口文件 整理：src/main.js。修改 路由配置，导入挂载 vuex</p>
<p>6、新增 两个目录 api / utils</p>
<ul>
<li>① api 接口模块：发送ajax请求的接口模块</li>
<li>② utils 工具模块：自己封装的一些工具方法模块</li>
</ul>
<h3 id="vant-组件库"><a href="#vant-组件库" class="headerlink" title="vant 组件库"></a>vant 组件库</h3><p>目标：认识第三方 Vue组件库 vant-ui</p>
<p>组件库：第三方 封装 好了很多很多的 组件，整合到一起就是一个组件库。</p>
<p><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/</a></p>
<p>目标：了解其他 Vue 组件库 Vue的组件库并不是唯一的，vant-ui 也仅仅只是组件库的一种。</p>
<p>一般会按照不同平台进行分类：</p>
<ul>
<li><p>① PC端： </p>
<ul>
<li>element-ui(Vue2)：<a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">https://element.eleme.cn/#/zh-CN</a></li>
<li>element-plus(Vue3)：<a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/guide/quickstart.html">https://element-plus.gitee.io/zh-CN/guide/quickstart.html</a></li>
<li>ant-design-vue：<a target="_blank" rel="noopener" href="https://2x.antdv.com/docs/vue/introduce-cn">https://2x.antdv.com/docs/vue/introduce-cn</a></li>
</ul>
</li>
<li><p>② 移动端：</p>
<ul>
<li>vant-ui：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/</a></li>
<li>Mint UI (饿了么)：<a target="_blank" rel="noopener" href="http://mint-ui.github.io/#!/zh-cn">http://mint-ui.github.io/#!/zh-cn</a></li>
<li>Cube UI (滴滴)：<a target="_blank" rel="noopener" href="https://didi.github.io/cube-ui/#/zh-CN">https://didi.github.io/cube-ui/#/zh-CN</a></li>
</ul>
</li>
</ul>
<p>项目A - 全部导入 (方便)；项目B - 按需导入(性能) 【推荐】。</p>
<h4 id="vant-全部导入-方便"><a href="#vant-全部导入-方便" class="headerlink" title="vant 全部导入 (方便)"></a>vant 全部导入 (方便)</h4><p>目标：阅读文档，掌握 全部导入 的基本使用</p>
<p>官网：vant-ui：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/</a></p>
<p>全部导入：</p>
<p>① 安装 vant-ui</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn add vant@latest-v2</span><br><span class="line"></span><br><span class="line"># Vue 3 项目，安装最新版 Vant：npm i vant -S</span><br><span class="line"># Vue 2 项目，安装 Vant 2：npm i vant@latest-v2 -S</span><br></pre></td></tr></table></figure>

<p>② main.js 中注册</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vant from &#x27;vant&#x27;</span><br><span class="line">import &#x27;vant/lib/index.css&#x27;</span><br><span class="line">// 插件安装初始化：内部会将所有的vant所有组件进行导入注册</span><br><span class="line">Vue.use(Vant)</span><br></pre></td></tr></table></figure>

<p>③ 使用测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-button type=&quot;primary&quot;&gt;主要按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=&quot;info&quot;&gt;信息按钮&lt;/van-button&gt;</span><br></pre></td></tr></table></figure>

<h4 id="vant-按需导入-性能-【推荐】"><a href="#vant-按需导入-性能-【推荐】" class="headerlink" title="vant 按需导入(性能) 【推荐】"></a>vant 按需导入(性能) 【推荐】</h4><p>目标：阅读文档，掌握 按需导入 的基本使用</p>
<p>按需导入：</p>
<p>① 安装 vant-ui (已安装)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn add vant@latest-v2</span><br><span class="line"></span><br><span class="line"># Vue 3 项目，安装最新版 Vant：npm i vant -S</span><br><span class="line"># Vue 2 项目，安装 Vant 2：npm i vant@latest-v2 -S</span><br></pre></td></tr></table></figure>

<p>② 安装插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i babel-plugin-import -D</span><br><span class="line">//-D:仅仅安装成开发依赖</span><br></pre></td></tr></table></figure>

<p>③ babel.config.js 中配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &#x27;@vue/cli-plugin-babel/preset&#x27;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [&#x27;import&#x27;, &#123;</span><br><span class="line">      libraryName: &#x27;vant&#x27;,</span><br><span class="line">      libraryDirectory: &#x27;es&#x27;,</span><br><span class="line">      style: true</span><br><span class="line">    &#125;, &#x27;vant&#x27;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>④ main.js 按需导入注册</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;;</span><br><span class="line">import &#123; Button &#125; from &#x27;vant&#x27;;</span><br><span class="line">Vue.use(Button);</span><br></pre></td></tr></table></figure>

<p>⑤ 测试使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-button type=&quot;primary&quot;&gt;主要按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=&quot;info&quot;&gt;信息按钮&lt;/van-button&gt;</span><br></pre></td></tr></table></figure>

<p>⑥ 组件会逐步增加，所以会提取到 src/utils/vant-ui.js 中，main.js 导入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// src/utils/vant-ui.js</span><br><span class="line">// 按需导入</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import &#123; Tab, Tabs, Checkbox, Dialog, ActionSheet, Icon, Search, Swipe, SwipeItem, Grid, GridItem, Toast, Button, Switch, Rate, Tabbar, TabbarItem, NavBar &#125; from &#x27;vant&#x27;</span><br><span class="line"></span><br><span class="line">Vue.use(Tab)</span><br><span class="line">Vue.use(Tabs)</span><br><span class="line">Vue.use(Checkbox)</span><br><span class="line">Vue.use(Dialog)</span><br><span class="line">Vue.use(ActionSheet)</span><br><span class="line">Vue.use(Icon)</span><br><span class="line">Vue.use(Search)</span><br><span class="line">Vue.use(Swipe)</span><br><span class="line">Vue.use(SwipeItem)</span><br><span class="line">Vue.use(Grid)</span><br><span class="line">Vue.use(GridItem)</span><br><span class="line">Vue.use(Toast)</span><br><span class="line">Vue.use(NavBar)</span><br><span class="line">Vue.use(Tabbar)</span><br><span class="line">Vue.use(TabbarItem)</span><br><span class="line">Vue.use(Rate)</span><br><span class="line">Vue.use(Button)</span><br><span class="line">Vue.use(Switch)</span><br><span class="line"></span><br><span class="line">// src/main.js 导入</span><br><span class="line">// 导入按需导入的配置文件</span><br><span class="line">import &#x27;@/utils/vant-ui&#x27;</span><br></pre></td></tr></table></figure>

<h4 id="Toast-轻提示"><a href="#Toast-轻提示" class="headerlink" title="Toast 轻提示"></a>Toast 轻提示</h4><p>目标：阅读文档，掌握 toast 轻提示</p>
<p>注册安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Toast &#125; from &#x27;vant&#x27;</span><br><span class="line">Vue.use(Toast)</span><br></pre></td></tr></table></figure>

<p>两种使用方式</p>
<p>① 导入调用 (组件内 或 非组件中均可)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Toast &#125; from &#x27;vant&#x27;</span><br><span class="line">Toast(&#x27;提示内容&#x27;)</span><br></pre></td></tr></table></figure>

<p>② 通过this直接调用 (必须组件内)</p>
<ul>
<li>本质：将方法，注册挂载到了Vue原型上 Vue.prototype.$toast = xxx</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$toast(&#x27;提示内容&#x27;)</span><br><span class="line">this.$toast.success(&#x27;成功文案&#x27;);</span><br><span class="line">this.$toast.fail(&#x27;失败文案&#x27;);</span><br></pre></td></tr></table></figure>

<p>Toast 默认是单例模式，后面的 Toast调用了，会将前一个 Toast 效果覆盖，同时只能存在一个 Toast。清除Toast：<strong>Toast.clear()</strong></p>
<p>加载提示（可作用在拦截器）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Toast.loading(&#123;</span><br><span class="line">  message: &#x27;加载中...&#x27;,</span><br><span class="line">  forbidClick: true,       //可以禁用背景点击。</span><br><span class="line">  loadingType: &#x27;spinner&#x27;,  //loadingType 属性可以自定义加载图标类型。</span><br><span class="line">  duration: 0,             //展示时长(ms)，值为 0 时，toast 不会消失，默认2秒(2000)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<h3 id="项目中的-vw-适配"><a href="#项目中的-vw-适配" class="headerlink" title="项目中的 vw 适配"></a>项目中的 vw 适配</h3><p>目标：基于 postcss 插件 实现项目 vw 适配。【px   -- 自动转换 -->   vw】</p>
<p>官方配置：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/advanced-usage">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/advanced-usage</a></p>
<p>① 安装插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通过 npm 添加：npm install postcss-px-to-viewport --save-dev</span><br><span class="line">yarn add postcss-px-to-viewport@1.1.1 -D</span><br></pre></td></tr></table></figure>

<p>② 根目录新建 postcss.config.js 文件，填入配置。【与src并列】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// postcss.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    &#x27;postcss-px-to-viewport&#x27;: &#123;</span><br><span class="line">      // 标准屏宽度</span><br><span class="line">      // vw适配的标准屏的宽度 iphoneX</span><br><span class="line">      // 设计图 750，调成1倍 =&gt; 适配375标准屏幕</span><br><span class="line">      // 设计图 640，调成1倍 =&gt; 适配320标准屏幕</span><br><span class="line">      viewportWidth: 375</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由设计配置"><a href="#路由设计配置" class="headerlink" title="路由设计配置"></a>路由设计配置</h3><p>目标：分析项目页面，设计路由，配置一级路由。但凡是单个页面，独立展示的，都是一级路由</p>
<p>目标：阅读vant组件库文档，实现底部导航 tabbar。</p>
<p>tabbar标签页：</p>
<p>① vant-ui.js 按需引入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Tabbar, TabbarItem &#125; from &#x27;vant&#x27;</span><br><span class="line">Vue.use(Tabbar)</span><br><span class="line">Vue.use(TabbarItem)</span><br></pre></td></tr></table></figure>

<p>② layout.vue 粘贴官方代码测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-tabbar&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;home-o&quot;&gt;标签&lt;/van-tabbar-item&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;search&quot;&gt;标签&lt;/van-tabbar-item&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;friends-o&quot;&gt;标签&lt;/van-tabbar-item&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;setting-o&quot;&gt;标签&lt;/van-tabbar-item&gt;</span><br><span class="line">&lt;/van-tabbar&gt;</span><br></pre></td></tr></table></figure>

<p>③ 修改文字、图标、颜色</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-tabbar active-color=&quot;#ee0a24&quot; inactive-color=&quot;#000&quot;&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;wap-home-o&quot;&gt;首页&lt;/...&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;apps-o&quot;&gt;分类页&lt;/...&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;shopping-cart-o&quot;&gt;购物车&lt;/...&gt;</span><br><span class="line">  &lt;van-tabbar-item icon=&quot;user-o&quot;&gt;我的&lt;/...&gt;</span><br><span class="line">&lt;/van-tabbar&gt;</span><br></pre></td></tr></table></figure>

<p>目标：基于底部导航，完成二级路由配置。children</p>
<h3 id="登录页静态布局"><a href="#登录页静态布局" class="headerlink" title="登录页静态布局"></a>登录页静态布局</h3><p>目标：基于笔记，快速实现登录页静态布局</p>
<ol>
<li><p>准备工作</p>
<p>(1) 新建 <code>styles/common.less</code> 重置默认样式</p>
<p>(2) main.js 导入 common.less：import '@/styles/common.less'</p>
<p>(3) 图片素材拷贝到 assets 目录【备用】</p>
</li>
<li><p>登录页静态布局编写</p>
<p>(1) 头部组件说明 (NavBar)</p>
<p>(2) <strong>通用样式覆盖</strong></p>
<p>(3) 其他静态结构编写</p>
</li>
</ol>
<h4 id="common-less-？？？"><a href="#common-less-？？？" class="headerlink" title="common.less ？？？"></a>common.less ？？？</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 重置默认样式</span><br><span class="line">* &#123;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 文字溢出省略号</span><br><span class="line">.text-ellipsis-2 &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  -webkit-line-clamp: 2;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">  display: -webkit-box;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加导航的通用样式 http://localhost:8080/#/login</span><br><span class="line">.van-nav-bar &#123;</span><br><span class="line">  .van-nav-bar__arrow &#123;</span><br><span class="line">    color: #333;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="request模块-axios-封装"><a href="#request模块-axios-封装" class="headerlink" title="request模块 - axios 封装"></a>request模块 - axios 封装</h3><p>目标：将 axios 请求方法，封装到 request 模块</p>
<p>使用 axios 来请求后端接口, 一般都会对 axios 进行 一些配置 (比如: 配置基础地址，请求响应拦截器等)</p>
<p>所以项目开发中, 都会对 axios 进行基本的二次封装, 单独封装到一个 request 模块中, 便于维护使用</p>
<p>（1）安装 axios</p>
<p>（2）新建 request 模块。utils/request.js</p>
<p>（3）创建实例&配置 导出实例</p>
<p>（4）测试使用</p>
<p>接口文档地址： <a target="_blank" rel="noopener" href="https://apifox.com/apidoc/shared-12ab6b18-adc2-444c-ad11-0e60f5693f66/doc-2221080">https://apifox.com/apidoc/shared-12ab6b18-adc2-444c-ad11-0e60f5693f66/doc-2221080</a></p>
<p>基地址：<a target="_blank" rel="noopener" href="http://cba.itlike.com/public/index.php?s=/api/">http://cba.itlike.com/public/index.php?s=/api/</a></p>
<h3 id="图形验证码功能完成-？？？"><a href="#图形验证码功能完成-？？？" class="headerlink" title="图形验证码功能完成 ？？？"></a>图形验证码功能完成 ？？？</h3><p>目标：基于请求回来的 base64 图片，实现图形验证码功能</p>
<p>说明：</p>
<ol>
<li>图形验证码，本质就是一个请求回来的图片</li>
<li>用户将来输入图形验证码，用于强制人机交互，可以抵御机器自动化攻击 (例如：避免批量请求获取短信)</li>
</ol>
<p>需求：</p>
<ol>
<li>动态将请求回来的 base64 图片，解析渲染出来</li>
<li>点击验证码图片盒子，要刷新验证码</li>
</ol>
<h3 id="storage存储模块-vuex-持久化处理"><a href="#storage存储模块-vuex-持久化处理" class="headerlink" title="storage存储模块 - vuex 持久化处理"></a>storage存储模块 - vuex 持久化处理</h3><p>目标：封装 storage 存储模块，利用本地存储，进行 vuex 持久化处理</p>
<p>问题1：vuex 刷新会丢失，怎么办？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将token存入本地</span><br><span class="line">localStorage.setItem(&#x27;hm_shopping_info&#x27;, JSON.stringify(xxx))</span><br></pre></td></tr></table></figure>

<p>问题2：每次存取操作太长，太麻烦？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const INFO_KEY = &#x27;hm_shopping_info&#x27;</span><br><span class="line">// 获取个人信息</span><br><span class="line">export const getInfo = () =&gt; &#123;</span><br><span class="line">  const result = localStorage.getItem(INFO_KEY)</span><br><span class="line">  return result ? JSON.parse(result) : &#123; token: &#x27;&#x27;, userId: &#x27;&#x27; &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 设置个人信息</span><br><span class="line">export const setInfo = (info) =&gt; &#123;</span><br><span class="line">  localStorage.setItem(INFO_KEY, JSON.stringify(info))</span><br><span class="line">&#125;</span><br><span class="line">// 移除个人信息</span><br><span class="line">export const removeInfo = () =&gt; &#123;</span><br><span class="line">  localStorage.removeItem(INFO_KEY)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="添加请求-loading-效果"><a href="#添加请求-loading-效果" class="headerlink" title="添加请求 loading 效果"></a>添加请求 loading 效果</h3><p>目标：统一在每次请求后台时，添加 loading 效果</p>
<p>背景：有时候因为网络原因，一次请求的结果可能需要一段时间后才能回来， 此时，需要给用户 添加 loading 提示。</p>
<p>添加 loading 提示的好处：</p>
<ol>
<li>节流处理：防止用户在一次请求还没回来之前，多次进行点击，发送无效请求</li>
<li>友好提示：告知用户，目前是在加载中，请耐心等待，用户体验会更好</li>
</ol>
<p>实操步骤：</p>
<ol>
<li>请求拦截器中，每次请求，打开 loading</li>
<li>响应拦截器中，每次响应，关闭 loading</li>
</ol>
<h3 id="页面访问拦截⭐"><a href="#页面访问拦截⭐" class="headerlink" title="页面访问拦截⭐"></a>页面访问拦截⭐</h3><p>目标：基于全局前置守卫，进行页面访问拦截处理</p>
<p>说明：智慧商城项目，大部分页面，游客都可以直接访问, 如遇到需要登录才能进行的操作，提示并跳转到登录</p>
<p>但是：对于支付页，订单页等，必须是登录的用户才能访问的，游客不能进入该页面，需要做拦截处理</p>
<p>路由导航守卫 - 全局前置守卫：<a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB">https://v3.router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB</a></p>
<ol>
<li><p>所有的路由一旦被匹配到，都会先经过全局前置守卫</p>
</li>
<li><p>只有全局前置守卫放行，才会真正解析渲染组件，才能看到页面内容</p>
</li>
</ol>
<p>访问权限页面时，拦截或放行的关键点？ → 用户是否有登录权证 token</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/router/index.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有的路由在真正被访问到之前(解析渲染对应组件页面前)，都会先经过全局前置守卫</span></span><br><span class="line"><span class="comment">// 只有全局前置守卫放行了，才会到达对应的页面</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局前置导航守卫</span></span><br><span class="line"><span class="comment">// to:   到哪里去，到哪去的完整路由信息对象 (路径，参数)</span></span><br><span class="line"><span class="comment">// from: 从哪里来，从哪来的完整路由信息对象 (路径，参数)</span></span><br><span class="line"><span class="comment">// next(): 是否放行</span></span><br><span class="line"><span class="comment">// (1) next()     直接放行，放行到to要去的路径</span></span><br><span class="line"><span class="comment">// (2) next(路径)  进行拦截，拦截到next里面配置的路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个数组，专门用户存放所有需要权限访问的页面</span></span><br><span class="line"><span class="keyword">const</span> authUrls = [<span class="string">&#x27;/pay&#x27;</span>, <span class="string">&#x27;/myorder&#x27;</span>]</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(to, <span class="keyword">from</span>, next)</span><br><span class="line">  <span class="comment">// 看 to.path 是否在 authUrls 中出现过</span></span><br><span class="line">  <span class="keyword">if</span> (!authUrls.<span class="title function_">includes</span>(to.<span class="property">path</span>)) &#123;</span><br><span class="line">    <span class="comment">// 非权限页面，直接放行</span></span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 是权限页面，需要判断token</span></span><br><span class="line">  <span class="keyword">const</span> token = store.<span class="property">getters</span>.<span class="property">token</span></span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="mixin混入-跨模块退出"><a href="#mixin混入-跨模块退出" class="headerlink" title="mixin混入 & 跨模块退出"></a>mixin混入 & 跨模块退出</h3><p>需要就自己去查</p>
<h3 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h3><p>目标：明确打包的作用</p>
<p>说明：vue脚手架只是开发过程中，协助开发的工具，当真正开发完了 => 脚手架不参与上线</p>
<p>打包的作用：</p>
<p>① 将多个文件压缩合并成一个文件</p>
<p>② 语法降级</p>
<p>③ less sass ts 语法解析</p>
<p>④ ....</p>
<p>打包后，可以生成，浏览器能够直接运行的网页 => 就是需要上线的源码！</p>
<p>目标：打包的命令 和 配置 打包发布</p>
<p>说明：vue脚手架工具已经提供了打包命令，直接使用即可。</p>
<p>命令：<strong>yarn build</strong></p>
<p>结果：在项目的根目录会自动创建一个文件夹<strong>dist</strong>，dist中的文件就是打包后的文件，只需要放到服务器中即可。</p>
<p>配置：默认情况下，需要放到服务器根目录打开，如果希望双击运行，需要配置publicPath 配成相对路径</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vue.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span>,           <span class="comment">//添加这个</span></span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="打包优化：路由懒加载"><a href="#打包优化：路由懒加载" class="headerlink" title="打包优化：路由懒加载"></a>打包优化：路由懒加载</h4><p>目标：配置路由懒加载，实现打包优化</p>
<p>说明：当打包构建应用时，JavaScript 包会变得非常大，影响页面加载。如果我们能把不同路由对应的组件分割成不同 的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了。</p>
<p>官方链接：<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E4%BD%BF%E7%94%A8-webpack">https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E4%BD%BF%E7%94%A8-webpack</a></p>
<p>步骤1： 异步组件改造</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 将</span><br><span class="line">// import ProDetail from &#x27;./views/prodetail.vue&#x27;</span><br><span class="line">// 替换成</span><br><span class="line">const ProDetail = () =&gt; import(&#x27;@/views/prodetail&#x27;)</span><br><span class="line">const Pay = () =&gt; import(&#x27;@/views/pay&#x27;)</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>步骤2： 路由中应用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    ...</span><br><span class="line">    &#123; path: &#x27;/prodetail/:id&#x27;, component: ProDetail &#125;,</span><br><span class="line">    &#123; path: &#x27;/pay&#x27;, component: Pay &#125;,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>



<h3 id="智慧商城案例注意点："><a href="#智慧商城案例注意点：" class="headerlink" title="智慧商城案例注意点："></a>智慧商城案例注意点：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">路由返回上一页：$router.go(-1)</span><br><span class="line">例如：&lt;van-nav-bar title=&quot;会员登录&quot; left-arrow @click-left=&quot;$router.go(-1)&quot; /&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">静态布局 如何 通用样式覆盖 颜色改变</span><br></pre></td></tr></table></figure>



<h2 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h2><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p>
<p>Vue3的优势</p>
<ul>
<li>更容易维护：1、组合式API；2、更好的TypeScript支持</li>
<li>更快的速度：1、重写diff算法；2、模版编译优化；3、更高效的组件初始化</li>
<li>更小的体积：1、良好的TreeShaking；2、按需引入</li>
<li>更优的数据响应式：Proxy</li>
</ul>
<p>Vue3 组合式API vs Vue2 选项式 API</p>
<p>需求：点击按钮，让数字 +1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            count: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        addCount()&#123;</span><br><span class="line">            this.count++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">const count = ref(0)</span><br><span class="line">const addCount = () =&gt; count.value++</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>代码量变少了</li>
<li>分散式维护转为集中式维护，更易封装复用</li>
</ol>
</blockquote>
<h3 id="create-vue"><a href="#create-vue" class="headerlink" title="create-vue"></a>create-vue</h3><p><strong>create-vue</strong> 是Vue官方新的脚手架工具，底层切换到了 vite（下一代构建工具），为开发提供极速响应</p>
<p>使用create-vue创建项目</p>
<p>1、前提环境条件：已安装 <strong>16.0</strong> 或更高版本的 Node.js。（不需要安装Cli、Vue）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建一个Vue应用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@latest</span><br><span class="line"># 或者</span><br><span class="line">npm create vue@latest</span><br><span class="line">// 这一指令将会安装并执行 create-vue</span><br></pre></td></tr></table></figure>



<h3 id="项目目录和关键文件"><a href="#项目目录和关键文件" class="headerlink" title="项目目录和关键文件"></a>项目目录和关键文件</h3><p>关键文件：</p>
<ol>
<li>vite.config.js - 项目的配置文件 <strong>基于vite的配置</strong></li>
<li>package.json - 项目包文件 核心依赖项变成了 <strong>Vue3.x 和vite</strong></li>
<li>main.js - 入口文件 createApp函数创建应用实例</li>
<li>app.vue - 根组件 <strong>SFC单文件组件 script - template - style</strong><ul>
<li>变化一：脚本script和模板template顺序调整</li>
<li>变化二：模板template不再要求唯一根元素</li>
<li>变化三：脚本script添加setup标识支持组合式API 。<script setup></li>
</ul>
</li>
<li>index.html - 单页入口 <strong>提供id为app的挂载点</strong></li>
</ol>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new Vue() 创建一个应用实例 =&gt; createApp()</span></span><br><span class="line"><span class="comment">// createRouter() createStore() </span></span><br><span class="line"><span class="comment">// 将创建实例进行了封装，保证每个实例的独立封闭性</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// mount 设置挂载点 #app (id为app的盒子)</span></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="插件⭐"><a href="#插件⭐" class="headerlink" title="插件⭐"></a>插件⭐</h3><p><strong>Vetur</strong>是Vue2的，将其禁用</p>
<p>安装<strong>volar</strong>，Vue Language Features</p>
<h3 id="组合式API-setup选项"><a href="#组合式API-setup选项" class="headerlink" title="组合式API - setup选项"></a>组合式API - setup选项</h3><p>setup选项的写法和执行时机：setup(Composition API) 在beforeCreate钩子之前 自动执行</p>
<p>setup写代码的特点：定义数据 + 函数 然后以对象方式return</p>
<p>&lt;script setup>：经过语法糖的封装更简单的使用组合式API</p>
<p>setup中的this还指向组件实例吗？指向undefined</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &lt;script&gt; 原始复杂写法</span><br><span class="line">// setup</span><br><span class="line">// 1. 执行时机，比beforeCreate还要早</span><br><span class="line">// 2. setup函数中，获取不到this (this是undefined)</span><br><span class="line">// 3. 数据 和 函数，需要在 setup 最后 return，才能模板中应用</span><br><span class="line">//    问题：每次都要return，好麻烦？</span><br><span class="line">// 4. 通过 setup 语法糖简化代码</span><br><span class="line">export default &#123;</span><br><span class="line">  setup () &#123;</span><br><span class="line">    // console.log(&#x27;setup函数&#x27;, this)</span><br><span class="line">    // 数据</span><br><span class="line">    const message = &#x27;hello Vue3&#x27;</span><br><span class="line">    // 函数</span><br><span class="line">    const logMessage = () =&gt; &#123;</span><br><span class="line">      console.log(message)</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">      message,</span><br><span class="line">      logMessage</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeCreate () &#123;</span><br><span class="line">    console.log(&#x27;beforeCreate函数&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt; --&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;//语法糖写法</span><br><span class="line">const message = &#x27;this is a message&#x27;</span><br><span class="line">const logMessage = () =&gt; &#123;</span><br><span class="line">  console.log(message)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;logMessage&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组合式API-reactive和ref函数"><a href="#组合式API-reactive和ref函数" class="headerlink" title="组合式API - reactive和ref函数"></a>组合式API - reactive和ref函数</h3><p>**reactive()**：作用：接受对象类型数据的参数传入并返回一个响应式的对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">//1. 从 vue 包中导入 reactive 函数</span><br><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//2. 在 &lt;script setup&gt; 中执行 reactive 函数并传入类型为对象的初始值，并使用变量接收返回值</span><br><span class="line">const state = reactive(对象类型数据)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>**ref()**：作用：接收简单类型或者对象类型的数据传入并返回一个响应式的对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">//1. 从 vue 包中导入 ref 函数</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//2. 在 &lt;script setup&gt; 中执行 ref 函数并传入初始值，使用变量接收ref 函数的返回值</span><br><span class="line">const state = ref(简单类型或者复杂类型数据)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>reactive和ref函数的共同作用是：用函数调用的方式生成响应式数据</li>
<li>reactive vs ref ？<ul>
<li>reactive不能处理简单类型的数据</li>
<li>ref参数类型支持更好但是必须通过**.value**访问修改</li>
<li>ref函数的内部实现依赖于reactive函数</li>
</ul>
</li>
<li>在实际工作中推荐使用ref函数，更加灵活统一</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// 1. reactive: 接收一个对象类型的数据，返回一个响应式的对象</span><br><span class="line">//    问题：如果是简单类型，怎么办呢？</span><br><span class="line">// import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">// const state = reactive(&#123;</span><br><span class="line">//   count: 100</span><br><span class="line">// &#125;)</span><br><span class="line">// const setCount = () =&gt; &#123;</span><br><span class="line">//   state.count++</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">// 2. ref: 接收简单类型 或 复杂类型，返回一个响应式的对象</span><br><span class="line">//    本质：是在原有传入数据的基础上，外层包了一层对象，包成了复杂类型</span><br><span class="line">//    底层，包成复杂类型之后，再借助 reactive 实现的响应式</span><br><span class="line">//    注意点：</span><br><span class="line">//    1. 脚本中访问数据，需要通过 .value</span><br><span class="line">//    2. 在template中，.value不需要加 (帮我们扒了一层)</span><br><span class="line"></span><br><span class="line">// 推荐：以后声明数据，统一用 ref =&gt; 统一了编码规范</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">const count = ref(0)</span><br><span class="line">const setCount = () =&gt; &#123;</span><br><span class="line">  count.value++</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;button @click=&quot;setCount&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组合式API-computed"><a href="#组合式API-computed" class="headerlink" title="组合式API - computed"></a>组合式API - computed</h3><p>computed计算属性函数</p>
<p>计算属性基本思想和Vue2的完全一致，组合式API下的计算属性只是修改了写法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">//1. 导入computed函数</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;</span><br><span class="line">//执行函数 在回调参数中return基于响应式数据做计算的值，用变量接收</span><br><span class="line">const computedState = computed(() =&gt; &#123;</span><br><span class="line">    return 基于响应式数据做计算之后的值</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>最佳实践</p>
<ol>
<li>计算属性中不应该有“副作用”<ul>
<li>比如异步请求/修改dom</li>
</ul>
</li>
<li>避免直接修改计算属性的值<ul>
<li>计算属性应该是只读的，特殊情况可以配置<strong>get set</strong></li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// const 计算属性 = computed(() =&gt; &#123;</span><br><span class="line">//    return 计算返回的结果</span><br><span class="line">// &#125;)</span><br><span class="line"></span><br><span class="line">import &#123; computed, ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// 声明数据</span><br><span class="line">const list = ref([1, 2, 3, 4, 5, 6, 7, 8])</span><br><span class="line"></span><br><span class="line">// 基于list派生一个计算属性，从list中过滤出 &gt; 2</span><br><span class="line">const computedList = computed(() =&gt; &#123;</span><br><span class="line">  return list.value.filter(item =&gt; item &gt; 2)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 定义一个修改数组的方法</span><br><span class="line">const addFn = () =&gt; &#123;</span><br><span class="line">  list.value.push(666)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div&gt;原始数据: &#123;&#123; list &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;计算后的数据: &#123;&#123; computedList &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;button @click=&quot;addFn&quot; type=&quot;button&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组合式API-watch"><a href="#组合式API-watch" class="headerlink" title="组合式API - watch"></a>组合式API - watch</h3><p>watch函数</p>
<p>作用: 侦听一个或者多个数据的变化，数据变化时执行回调函数</p>
<p>俩个额外参数：1. <strong>immediate</strong>（立即执行） 2. <strong>deep</strong>（深度侦听）</p>
<p>注意点：</p>
<ol>
<li><p>作为watch函数的第一个参数，ref对象需要添加.value吗？</p>
<ul>
<li>不需要，第一个参数就是传ref 对象</li>
</ul>
</li>
<li><p>watch只能侦听单个数据吗？</p>
<ul>
<li>单个 或者 多个</li>
</ul>
</li>
<li><p>不开启deep，直接监视 复杂类型，修改属性能触发回调吗？</p>
<ul>
<li>不能，默认是浅层侦听</li>
</ul>
</li>
<li><p>不开启deep，精确侦听对象的某个属性？</p>
<ul>
<li>可以把第一个参数写成函数的写法，返回要监听的具体属性</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">//导入watch函数</span><br><span class="line">import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">    </span><br><span class="line">const count = ref(0)</span><br><span class="line">const nickname = ref(&#x27;张三&#x27;)</span><br><span class="line"></span><br><span class="line">const changeCount = () =&gt; &#123;</span><br><span class="line">  count.value++</span><br><span class="line">&#125;</span><br><span class="line">const changeNickname = () =&gt; &#123;</span><br><span class="line">  nickname.value = &#x27;李四&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//执行watch函数传入要侦听的响应式数据(ref对象)和回调函数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 1. 监视单个数据的变化</span><br><span class="line">//    watch(ref对象, (newValue, oldValue) =&gt; &#123; ... &#125;)</span><br><span class="line">// watch(count, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">//   console.log(&#x27;count发生了变化，老值为$&#123;oldValue&#125;，新值为$&#123;newValue&#125;&#x27;)</span><br><span class="line">//   console.log(newValue, oldValue)</span><br><span class="line">// &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 2. 监视多个数据的变化</span><br><span class="line">//    watch([ref对象1, ref对象2], (newArr, oldArr) =&gt; &#123; ... &#125;)</span><br><span class="line">// watch([count, nickname], (newArr, oldArr) =&gt; &#123;</span><br><span class="line">//   console.log(newArr, oldArr)</span><br><span class="line">// &#125;)</span><br><span class="line">// watch(</span><br><span class="line">//     [count, name],</span><br><span class="line">//     ([newCount, newName], [oldCount, oldName]) =&gt; &#123;</span><br><span class="line">//         console.log(&#x27;count或者name变化了，[newCount, newName], [oldCount, oldName])</span><br><span class="line">// &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 3. immediate 立刻执行。说明：在侦听器创建时立即触发回调, 响应式数据变化之后继续执行回调</span><br><span class="line">// watch(count, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">//   console.log(newValue, oldValue)</span><br><span class="line">// &#125;, &#123;</span><br><span class="line">//   immediate: true</span><br><span class="line">// &#125;)</span><br><span class="line">// watch(count, () =&gt; &#123; console.log(&#x27;count发生了变化&#x27;) &#125;,&#123; immediate: true &#125;)</span><br><span class="line"></span><br><span class="line">// --------------------------------------------</span><br><span class="line"></span><br><span class="line">// 4. deep 深度监视, 默认 watch 进行的是 浅层监视。默认机制：通过watch监听的ref对象默认是浅层侦听的，直接修改嵌套的对象属性不会触发回调执行，需要开启deep选项</span><br><span class="line">//    const ref1 = ref(简单类型) 可以直接监视</span><br><span class="line">//    const ref2 = ref(复杂类型) 监视不到复杂类型内部数据的变化</span><br><span class="line">const userInfo = ref(&#123;</span><br><span class="line">  name: &#x27;zs&#x27;,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;)</span><br><span class="line">const setUserInfo = () =&gt; &#123;</span><br><span class="line">  // 修改了 userInfo.value 修改了对象的地址，才能监视到</span><br><span class="line">  // userInfo.value = &#123; name: &#x27;ls&#x27;, age: 50 &#125;</span><br><span class="line">  userInfo.value.age++</span><br><span class="line">&#125;</span><br><span class="line">// deep 深度监视</span><br><span class="line">// watch(userInfo, (newValue) =&gt; &#123;</span><br><span class="line">//   console.log(newValue)</span><br><span class="line">// &#125;, &#123;</span><br><span class="line">//   deep: true</span><br><span class="line">// &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 5. 对于对象中的单个属性，进行监视。精确侦听对象的某个属性</span><br><span class="line">// 需求：在不开启deep的前提下，侦听age的变化，只有age变化时才执行回调</span><br><span class="line">watch(() =&gt; userInfo.value.age, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">  console.log(newValue, oldValue)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;changeCount&quot;&gt;改数字&lt;/button&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; nickname &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;changeNickname&quot;&gt;改昵称&lt;/button&gt;</span><br><span class="line">  &lt;div&gt;-----------------------&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; userInfo &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;setUserInfo&quot;&gt;修改userInfo&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组合式API-生命周期函数"><a href="#组合式API-生命周期函数" class="headerlink" title="组合式API - 生命周期函数"></a>组合式API - 生命周期函数</h3><p>Vue3的生命周期API （选项式 VS 组合式）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">选项式API 						组合式API</span><br><span class="line">beforeCreate/created 		setup</span><br><span class="line">beforeMount 				onBeforeMount</span><br><span class="line">mounted 					onMounted</span><br><span class="line">beforeUpdate 				onBeforeUpdate</span><br><span class="line">updated 					onUpdated</span><br><span class="line">beforeUnmount 				onBeforeUnmount</span><br><span class="line">unmounted 					onUnmounted</span><br></pre></td></tr></table></figure>

<p>生命周期函数基本使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//1. 导入生命周期函数</span><br><span class="line">import &#123; onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line">//2. 执行生命周期函数 传入回调</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    //自定义逻辑</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//执行多次。生命周期函数是可以执行多次的，多次执行时传入的回调会在时机成熟时依次执行</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;mount1&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;mount2&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol>
<li><p>组合式API中生命周期函数的格式是什么？</p>
<ul>
<li>on + 生命周期名字</li>
</ul>
</li>
<li><p>组合式API中可以使用onCreated吗？</p>
<ul>
<li>没有这个钩子函数，直接写到setup中</li>
</ul>
</li>
<li><p>组合式API中组件卸载完毕时执行哪个函数？</p>
<ul>
<li>onUnmounted</li>
</ul>
</li>
</ol>
<h3 id="组合式API-父子通信"><a href="#组合式API-父子通信" class="headerlink" title="组合式API - 父子通信"></a>组合式API - 父子通信</h3><p>组合式API下的父传子。基本思想</p>
<ol>
<li>父组件中给子组件绑定属性</li>
<li>子组件内部通过props选项接收</li>
</ol>
<p>父传子的过程中通过什么方式接收props？<strong>defineProps( { 属性名：类型} )</strong> </p>
<p>setup语法糖中如何使用父组件传过来的数据？<strong>const props = defineProps( { 属性名：类型} )</strong> <strong>props.xxx</strong></p>
<blockquote>
<p>defineProps 原理：就是编译阶段的一个标识，实际编译器解析时，遇到后会进行编译转换</p>
</blockquote>
<p>组合式API下的子传父。基本思想</p>
<ol>
<li>父组件中给子组件标签通过@绑定事件</li>
<li>子组件内部通过 emit 方法触发事件</li>
</ol>
<p>子传父的过程中通过什么方式得到emit方法？<strong>defineEmits( [‘事件名称’] )</strong></p>
<p>怎么触发事件<strong>emit('自定义事件名' , 参数)</strong></p>
<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// 父传子</span><br><span class="line">// 1. 给子组件，添加属性的方式传值</span><br><span class="line">// 2. 在子组件，通过props接收</span><br><span class="line"></span><br><span class="line">// 子传父</span><br><span class="line">// 1. 在子组件内部，emit触发事件 (编译器宏获取)</span><br><span class="line">// 2. 在父组件，通过 @ 监听</span><br><span class="line"></span><br><span class="line">// 局部组件(导入进来就能用)</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import SonCom from &#x27;@/components/son-com.vue&#x27;</span><br><span class="line"></span><br><span class="line">const money = ref(100)</span><br><span class="line">const getMoney = () =&gt; &#123;</span><br><span class="line">  money.value += 10</span><br><span class="line">&#125;</span><br><span class="line">const changeFn = (newMoney) =&gt; &#123;</span><br><span class="line">  money.value = newMoney</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;</span><br><span class="line">      父组件 - &#123;&#123; money &#125;&#125;</span><br><span class="line">      &lt;button @click=&quot;getMoney&quot;&gt;挣钱&lt;/button&gt;</span><br><span class="line">    &lt;/h3&gt;</span><br><span class="line">    &lt;!-- 给子组件，添加属性的方式传值 --&gt;</span><br><span class="line">    &lt;SonCom </span><br><span class="line">      @changeMoney=&quot;changeFn&quot;</span><br><span class="line">      car=&quot;宝马车&quot; </span><br><span class="line">      :money=&quot;money&quot;&gt;</span><br><span class="line">    &lt;/SonCom&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// 注意：由于写了 setup，所以无法直接配置 props 选项</span><br><span class="line">// 所以：此处需要借助于 “编译器宏” 函数接收子组件传递的数据</span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  car: String,</span><br><span class="line">  money: Number</span><br><span class="line">&#125;)</span><br><span class="line">// 通过 defineEmits 编译器宏生成emit方法</span><br><span class="line">const emit = defineEmits([&#x27;changeMoney&#x27;])</span><br><span class="line">console.log(props.car)</span><br><span class="line">console.log(props.money)</span><br><span class="line"></span><br><span class="line">const buy = () =&gt; &#123;</span><br><span class="line">  // 需要 emit 触发自定义事件，并传递参数</span><br><span class="line">  emit(&#x27;changeMoney&#x27;, 5)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 对于props传递过来的数据，模板中可以直接使用 --&gt;</span><br><span class="line">  &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">    我是子组件 - &#123;&#123; car &#125;&#125; - &#123;&#123; money &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;buy&quot;&gt;花钱&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.son &#123;</span><br><span class="line">  border: 1px solid #000;</span><br><span class="line">  padding: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组合式API-模版引用"><a href="#组合式API-模版引用" class="headerlink" title="组合式API - 模版引用"></a>组合式API - 模版引用</h3><p>模板引用的概念：通过ref标识获取真实的dom对象或者组件实例对象。this.$refs.form.validate()</p>
<ol>
<li><p>获取模板引用的时机是什么？组件挂载完毕</p>
</li>
<li><p>defineExpose编译宏的作用是什么？显式暴露组件内部的属性和方法</p>
</li>
</ol>
<p>如何使用（以获取dom为例 组件同理）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import TestCom from &#x27;@/components/test-com.vue&#x27;</span><br><span class="line">import &#123; onMounted, ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// 模板引用(可以获取dom，也可以获取组件)</span><br><span class="line">// 1. 调用ref函数，生成一个ref对象</span><br><span class="line">// 2. 通过ref标识，标识绑定ref对象到标签</span><br><span class="line">// 3. 通过ref对象.value即可访问到绑定的元素(必须渲染完成后，才能拿到)</span><br><span class="line">const inp = ref(null)</span><br><span class="line"></span><br><span class="line">// 生命周期钩子 onMounted</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  // console.log(inp.value)</span><br><span class="line">  // inp.value.focus()</span><br><span class="line">&#125;)</span><br><span class="line">const clickFn = () =&gt; &#123;</span><br><span class="line">  inp.value.focus()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// --------------------------------------</span><br><span class="line">const testRef = ref(null)</span><br><span class="line">const getCom = () =&gt; &#123;</span><br><span class="line">  console.log(testRef.value.count)</span><br><span class="line">  testRef.value.sayHi()</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;input ref=&quot;inp&quot; type=&quot;text&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;clickFn&quot;&gt;点击让输入框聚焦&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;TestCom ref=&quot;testRef&quot;&gt;&lt;/TestCom&gt;</span><br><span class="line">  &lt;button @click=&quot;getCom&quot;&gt;获取组件&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>defineExpose()</p>
<p>默认情况下在<script setup>语法糖下组件内部的属性和方法是不开放给父组件访问的，可以通过defineExpose编译宏指定哪些属性和方法允许访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">const count = 999</span><br><span class="line">const sayHi = () =&gt; &#123;</span><br><span class="line">  console.log(&#x27;打招呼&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  count,</span><br><span class="line">  sayHi</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    我是用于测试的组件 - &#123;&#123; count &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>



<h3 id="组合式API-provide和inject"><a href="#组合式API-provide和inject" class="headerlink" title="组合式API - provide和inject"></a>组合式API - provide和inject</h3><p>作用和场景：顶层组件向任意的底层组件传递数据和方法，实现跨层组件通信</p>
<p>顶层组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import CenterCom from &#x27;@/components/center-com.vue&#x27;</span><br><span class="line">import &#123; provide, ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// 1. 跨层传递普通数据。顶层组件通过provide函数提供数据</span><br><span class="line">provide(&#x27;theme-color&#x27;, &#x27;pink&#x27;)</span><br><span class="line"></span><br><span class="line">// 2. 跨层传递响应式数据。在调用provide函数时，第二个参数设置为ref对象</span><br><span class="line">const count = ref(100)</span><br><span class="line">provide(&#x27;count&#x27;, count)</span><br><span class="line"></span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  count.value = 500</span><br><span class="line">&#125;, 2000)</span><br><span class="line"></span><br><span class="line">// 3. 跨层传递函数 =&gt; 给子孙后代传递可以修改数据的方法</span><br><span class="line">provide(&#x27;changeCount&#x27;, (newCount) =&gt; &#123;</span><br><span class="line">  count.value = newCount</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;h1&gt;我是顶层组件&lt;/h1&gt;</span><br><span class="line">  &lt;CenterCom&gt;&lt;/CenterCom&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>底层组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; inject &#125; from &#x27;vue&#x27;</span><br><span class="line">//底层组件通过inject函数获取数据</span><br><span class="line">const themeColor = inject(&#x27;theme-color&#x27;)</span><br><span class="line"></span><br><span class="line">const count = inject(&#x27;count&#x27;)</span><br><span class="line"></span><br><span class="line">const changeCount = inject(&#x27;changeCount&#x27;)</span><br><span class="line">const clickFn = () =&gt; &#123;</span><br><span class="line">  changeCount(1000)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;h3&gt;我是底层组件-&#123;&#123; themeColor &#125;&#125; - &#123;&#123; count &#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;clickFn&quot;&gt;更新count&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>



<p>跨层传递普通数据</p>
<ol>
<li>顶层组件通过provide函数提供数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">provide(&#x27;key&#x27;, 顶层组件中的数据)</span><br></pre></td></tr></table></figure></li>
<li>底层组件通过inject函数获取数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cosnt message = inject(&#x27;key&#x27;)</span><br></pre></td></tr></table></figure></li>
</ol>
<p>跨层传递响应式数据</p>
<p>在调用provide函数时，第二个参数设置为ref对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">顶层组件:provide(&#x27;app-key&#x27;, ref对象)</span><br><span class="line">底层组件:cosnt message = inject(&#x27;app-key&#x27;)</span><br></pre></td></tr></table></figure>

<p>跨层传递方法</p>
<p>顶层组件可以向底层组件传递方法，底层组件调用方法修改顶层组件中的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//顶层组件</span><br><span class="line">const setCount = () =&gt; &#123;</span><br><span class="line">    count.value++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">provide(&#x27;setCount-key&#x27;, setCount)</span><br><span class="line"></span><br><span class="line">//底层组件</span><br><span class="line">cosnt setCount = inject(&#x27;setCount-key&#x27;)</span><br></pre></td></tr></table></figure>

<ol>
<li>provide和inject的作用是什么？<ul>
<li>跨层组件通信</li>
</ul>
</li>
<li>如何在传递的过程中保持数据响应式？<ul>
<li>第二个参数传递ref对象</li>
</ul>
</li>
<li>底层组件想要通知顶层组件做修改，如何做？<ul>
<li>传递方法，底层组件调用方法</li>
</ul>
</li>
<li>一颗组件树中只有一个顶层或底层组件吗？<ul>
<li>相对概念，存在多个顶层和底层的关系</li>
</ul>
</li>
</ol>
<h3 id="Vue3-3新特性-defineOptions"><a href="#Vue3-3新特性-defineOptions" class="headerlink" title="Vue3.3新特性-defineOptions"></a>Vue3.3新特性-defineOptions</h3><p>背景说明：</p>
<p>有 <script setup> 之前，如果要定义 props, emits 可以轻而易举地添加一个与 setup 平级的属性。</p>
<p>但是用了 <script setup> 后，就没法这么干了 setup 属性已经没有了，自然无法添加与其平级的属性。</p>
<p>为了解决这一问题，引入了 defineProps 与 defineEmits 这两个宏。但这只解决了 props 与emits 这两个属性。</p>
<p>如果我们要定义组件的 name 或其他自定义的属性，还是得回到最原始的用法——再添加一个普通的<script>标签。</p>
<p>这样就会存在两个 <script> 标签。让人无法接受。</p>
<p>所以在 Vue 3.3 中新引入了 defineOptions 宏。顾名思义，主要是用来定义 Options API 的选项。可以用defineOptions 定义任意的选项， props, emits, expose, slots 除外（因为这些可以使用defineXXX来做到）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">    name: &#x27;LoginIndex&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;--&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">defineOptions(&#123;</span><br><span class="line">    name: &#x27;LoginIndex&#x27;,</span><br><span class="line">    inheritAttrs: false,</span><br><span class="line">    //...更多自定义属性</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Vue3-3新特性-defineModel"><a href="#Vue3-3新特性-defineModel" class="headerlink" title="Vue3.3新特性-defineModel"></a>Vue3.3新特性-defineModel</h3><p>Vue3 中的 v-model 和 defineModel</p>
<p>在Vue3中，自定义组件上使用v-model, 相当于传递一个modelValue属性，同时触发update:modelValue事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;Child v-model=&quot;isVisible&quot;&gt;</span><br><span class="line">// 相当于</span><br><span class="line">&lt;Child :modelValue=&quot;isVisible&quot; @update:modelValue=&quot;isVisible=$event&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我们需要先定义 props，再定义 emits 。其中有许多重复的代码。如果需要修改此值，还需要手动调用emit 函数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">const modelValue = defineModel()</span><br><span class="line">modelValue.value++</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import MyInput from &#x27;@/components/my-input.vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">const txt = ref(&#x27;123456&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;MyInput v-model=&quot;txt&quot;&gt;&lt;/MyInput&gt;</span><br><span class="line">  &#123;&#123; txt &#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">/*</span><br><span class="line">defineProps(&#123;</span><br><span class="line">  modelValue: String</span><br><span class="line">&#125;)</span><br><span class="line">const emit = defineEmits([&#x27;update:modelValue&#x27;])</span><br><span class="line">*/</span><br><span class="line">import &#123; defineModel &#125; from &#x27;vue&#x27;</span><br><span class="line">const modelValue = defineModel()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;input </span><br><span class="line">    type=&quot;text&quot; </span><br><span class="line">    :value=&quot;modelValue&quot; </span><br><span class="line">&lt;!--@input=&quot;e =&gt; emit(&#x27;update:modelValue&#x27;, e.target.value)&quot; --&gt;</span><br><span class="line">    @input=&quot;e =&gt; modelValue = e.target.value&quot;</span><br><span class="line">  &gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>vite.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(&#123;</span><br><span class="line">      <span class="attr">script</span>: &#123;</span><br><span class="line">        <span class="attr">defineModel</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h3><p>什么是Pinia？Pinia 是 Vue 的最新 状态管理工具 ，是 Vuex 的 替代品</p>
<ol>
<li>提供更加简单的API （去掉了 mutation ）</li>
<li>提供符合，组合式风格的API （和 Vue3 新语法统一）</li>
<li>去掉了 modules 的概念，每一个 store 都是一个独立的模块</li>
<li>配合 TypeScript 更加友好，提供可靠的类型推断</li>
</ol>
<p>Pinia是用来做什么的？ 新一代的状态管理工具，替代vuex<br>Pinia中还需要mutation吗？ 不需要，action 既支持同步也支持异步<br>Pinia如何实现getter？ computed计算属性函数<br>Pinia产生的Store如何解构赋值数据保持响应式？storeToRefs<br>Pinia 如何快速实现持久化？ pinia-plugin-persistedstate</p>
<p>手动添加Pinia到Vue项目<br>在实际开发项目的时候，关于Pinia的配置，可以在项目创建时自动添加<br>现在我们初次学习，从零开始：</p>
<ol>
<li>使用 Vite 创建一个空的 Vue3 项目：npm create vue@latest</li>
<li>按照官方文档 安装 pinia 到项目中</li>
</ol>
<p>定义store。【src/store/counter.js】</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; computed, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义store</span></span><br><span class="line"><span class="comment">// defineStore(仓库的唯一标识, () =&gt; &#123; ... &#125;)</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCounterStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;counter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 声明数据 state - count</span></span><br><span class="line">  <span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明操作数据的方法 action (普通函数)</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">addCount</span> = (<span class="params"></span>) =&gt; count.<span class="property">value</span>++</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">subCount</span> = (<span class="params"></span>) =&gt; count.<span class="property">value</span>--</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明基于数据派生的计算属性 getters (computed)</span></span><br><span class="line">  <span class="comment">// Pinia中的 getters 直接使用 computed函数 进行模拟, 组件中需要使用需要把 getters return出去</span></span><br><span class="line">  <span class="keyword">const</span> double = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> count.<span class="property">value</span> * <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明数据 state - msg</span></span><br><span class="line">  <span class="keyword">const</span> msg = <span class="title function_">ref</span>(<span class="string">&#x27;hello pinia&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    count,</span><br><span class="line">    double,</span><br><span class="line">    addCount,</span><br><span class="line">    subCount,</span><br><span class="line">    msg,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  <span class="comment">// persist: true // 开启当前模块的持久化</span></span><br><span class="line">  <span class="attr">persist</span>: &#123;</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;hm-counter&#x27;</span>, <span class="comment">// 修改本地存储的唯一标识</span></span><br><span class="line">    <span class="attr">paths</span>: [<span class="string">&#x27;count&#x27;</span>] <span class="comment">// 存储的是哪些数据</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>【src/store/channel.js】</p>
<blockquote>
<p>action异步实现。编写方式：异步action函数的写法和组件中获取异步数据的写法完全一致</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useChannelStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;channel&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 声明数据</span></span><br><span class="line">  <span class="keyword">const</span> channelList = <span class="title function_">ref</span>([])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明操作数据的方法</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getList</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 支持异步</span></span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">data</span>: &#123; data &#125;&#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://geek.itheima.net/v1_0/channels&#x27;</span>)</span><br><span class="line">    channelList.<span class="property">value</span> = data.<span class="property">channels</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明getters相关</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    channelList,</span><br><span class="line">    getList</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>组件使用store</p>
<blockquote>
<p>storeToRefs工具函数。使用storeToRefs函数可以辅助保持数据（state + getter）的响应式解构</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; storeToRefs &#125; from &#x27;pinia&#x27;</span><br><span class="line">import Son1Com from &#x27;@/components/Son1Com.vue&#x27;</span><br><span class="line">import Son2Com from &#x27;@/components/Son2Com.vue&#x27;</span><br><span class="line">import &#123; useCounterStore &#125; from &#x27;@/store/counter&#x27;</span><br><span class="line">import &#123; useChannelStore &#125; from &#x27;./store/channel&#x27;</span><br><span class="line">const counterStore = useCounterStore()</span><br><span class="line">const channelStore = useChannelStore()</span><br><span class="line"></span><br><span class="line">// 此时，直接解构，不处理，数据会丢失响应式</span><br><span class="line">//const &#123; count, msg &#125; = counterStore</span><br><span class="line">const &#123; count, msg &#125; = storeToRefs(counterStore)</span><br><span class="line">const &#123; channelList &#125; = storeToRefs(channelStore)</span><br><span class="line">const &#123; getList &#125; = channelStore</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;</span><br><span class="line">      App.vue根组件 </span><br><span class="line">//    - &#123;&#123; counterStore.count &#125;&#125;</span><br><span class="line">//    - &#123;&#123; counterStore.msg &#125;&#125;</span><br><span class="line">      - &#123;&#123; count &#125;&#125;</span><br><span class="line">      - &#123;&#123; msg &#125;&#125;</span><br><span class="line"></span><br><span class="line">    &lt;/h3&gt;</span><br><span class="line">    &lt;Son1Com&gt;&lt;/Son1Com&gt;</span><br><span class="line">    &lt;Son2Com&gt;&lt;/Son2Com&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">&lt;!--    &lt;button @click=&quot;channelStore.getList&quot;&gt;获取频道数据&lt;/button&gt;--&gt;</span><br><span class="line">    &lt;button @click=&quot;getList&quot;&gt;获取频道数据&lt;/button&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;item in channelList&quot; :key=&quot;item.id&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="Pinia持久化插件"><a href="#Pinia持久化插件" class="headerlink" title="Pinia持久化插件"></a>Pinia持久化插件</h4><p>官方文档：<a target="_blank" rel="noopener" href="https://prazdevs.github.io/pinia-plugin-persistedstate/zh/">https://prazdevs.github.io/pinia-plugin-persistedstate/zh/</a></p>
<ol>
<li>安装插件 pinia-plugin-persistedstate<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i pinia-plugin-persistedstate</span><br></pre></td></tr></table></figure></li>
<li>main.js 使用<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import persist from &#x27;pinia-plugin-persistedstate&#x27;</span><br><span class="line">...</span><br><span class="line">app.use(createPinia().use(persist))</span><br></pre></td></tr></table></figure></li>
<li>store仓库中，persist: true 开启</li>
</ol>
<h4 id="Pinia-仓库统一管理"><a href="#Pinia-仓库统一管理" class="headerlink" title="Pinia 仓库统一管理"></a>Pinia 仓库统一管理</h4><p>pinia 独立维护</p>
<ul>
<li>现在：初始化代码在 main.js 中，仓库代码在 stores 中，代码分散职能不单一</li>
<li>优化：由 stores 统一维护，在 stores/index.js 中完成 pinia 初始化，交付 main.js 使用</li>
</ul>
<p>仓库 统一导出</p>
<ul>
<li>现在：使用一个仓库 import { useUserStore } from <code>./stores/user.js</code> 不同仓库路径不一致</li>
<li>优化：由 stores/index.js 统一导出，导入路径统一 <code>./stores</code>，而且仓库维护在 stores/modules 中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/stores/modules/user.js</span></span><br><span class="line"><span class="comment">// src/stores/modules/counter.js</span></span><br><span class="line"><span class="comment">// src/stores/index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> persist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(persist)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia</span><br><span class="line"></span><br><span class="line"><span class="comment">// import &#123; useUserStore &#125; from &#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="comment">// export &#123; useUserStore &#125;</span></span><br><span class="line"><span class="comment">// import &#123; useCountStore &#125; from &#x27;./modules/counter&#x27;</span></span><br><span class="line"><span class="comment">// export &#123; useCountStore &#125;</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./modules/counter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// src/main.js</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/stores/index&#x27;</span></span><br><span class="line">...</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="comment">// import &#123; useUserStore &#125; from &#x27;@/store/modules/user&#x27;</span></span><br><span class="line"><span class="comment">// import &#123; useCountStore &#125; from &#x27;./store/modules/counter&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useUserStore,useCountStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br></pre></td></tr></table></figure>





<h3 id="pnpm-包管理器-创建项目⭐"><a href="#pnpm-包管理器-创建项目⭐" class="headerlink" title="pnpm 包管理器 - 创建项目⭐"></a>pnpm 包管理器 - 创建项目⭐</h3><p>一些优势：比同类工具快2倍左右、节省磁盘空间... <a target="_blank" rel="noopener" href="https://www.pnpm.cn/">https://www.pnpm.cn/</a></p>
<p>安装方式：<strong>npm install -g pnpm</strong></p>
<p>创建项目：<strong>pnpm create vue</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm 						yarn 					pnpm</span><br><span class="line">npm install 				yarn 					pnpm install</span><br><span class="line">npm install axios 			yarn add axios 			pnpm add axios</span><br><span class="line">npm install axios -D 		yarn add axios -D 		pnpm add axios -D</span><br><span class="line">npm uninstall axios 		yarn remove axios 		pnpm remove axios</span><br><span class="line">npm run dev 				yarn dev 				pnpm dev</span><br></pre></td></tr></table></figure>

<p>Yes：Vue Router、Pinia、ESLint、Prettier</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在vscode终端中输入（需要以管理员身份运行）：</span><br><span class="line">get-executionpolicy</span><br><span class="line">如果返回的状态是“Restricted”,则说明是受限制的，脚本不能运行（默认状态），此时需要更改设置，输入：</span><br><span class="line">set-executionpolicy RemoteSigned</span><br><span class="line">此设置会更改为允许本地创建的脚本运行。</span><br></pre></td></tr></table></figure>



<h3 id="Eslint-配置代码风格"><a href="#Eslint-配置代码风格" class="headerlink" title="Eslint 配置代码风格"></a>Eslint 配置代码风格</h3><ol>
<li><p>prettier 风格配置 <a target="_blank" rel="noopener" href="https://prettier.io/">https://prettier.io</a></p>
<ol>
<li>单引号</li>
<li>不使用分号</li>
<li>宽度80字符</li>
<li>不加对象|数组最后逗号</li>
<li>换行符号不限制（win mac 不一致）</li>
</ol>
</li>
<li><p>vue组件名称多单词组成（忽略index.vue）</p>
</li>
<li><p>props解构（关闭）</p>
</li>
</ol>
<blockquote>
<p>提示：安装Eslint且配置保存修复，不 要开启默认的自动保存格式化</p>
</blockquote>
<p>.eslintrc.cjs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">root: true,</span><br><span class="line">extends: [</span><br><span class="line">&#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">&#x27;eslint:recommended&#x27;,</span><br><span class="line">&#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span><br><span class="line">],</span><br><span class="line">parserOptions: &#123;</span><br><span class="line">ecmaVersion: &#x27;latest&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">  rules: &#123;</span><br><span class="line">    // prettier专注于代码的美观度 (格式化工具)</span><br><span class="line">    // 前置：</span><br><span class="line">    // 1. 禁用格式化插件 prettier  format on save 关闭</span><br><span class="line">    // 2. 安装Eslint插件, 并配置保存时自动修复</span><br><span class="line">    &#x27;prettier/prettier&#x27;: [</span><br><span class="line">      &#x27;warn&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        singleQuote: true, // 单引号</span><br><span class="line">        semi: false, // 无分号</span><br><span class="line">        printWidth: 80, // 每行宽度至多80字符</span><br><span class="line">        trailingComma: &#x27;none&#x27;, // 不加对象|数组最后逗号</span><br><span class="line">        endOfLine: &#x27;auto&#x27; // 换行符号不限制（win mac 不一致）</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    // ESLint关注于规范, 如果不符合规范，报错</span><br><span class="line">    &#x27;vue/multi-word-component-names&#x27;: [</span><br><span class="line">      &#x27;warn&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        ignores: [&#x27;index&#x27;] // vue组件名称多单词组成（忽略index.vue）</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &#x27;vue/no-setup-props-destructure&#x27;: [&#x27;off&#x27;], // 关闭 props 解构的校验 (props解构丢失响应式)</span><br><span class="line">    // 添加未定义变量错误提示，create-vue@3.6.3 关闭，这里加上是为了支持下一个章节演示。</span><br><span class="line">    &#x27;no-undef&#x27;: &#x27;error&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  globals: &#123;</span><br><span class="line">    ElMessage: &#x27;readonly&#x27;,</span><br><span class="line">    ElMessageBox: &#x27;readonly&#x27;,</span><br><span class="line">    ElLoading: &#x27;readonly&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="配置代码检查工作流"><a href="#配置代码检查工作流" class="headerlink" title="配置代码检查工作流"></a>配置代码检查工作流</h3><p>husky 是一个 git hooks 工具  ( git的钩子工具，可以在特定时机执行特定的命令 )</p>
<p><strong>husky 配置</strong></p>
<p>提交前做代码检查</p>
<ol>
<li><p>初始化 git 仓库，执行 <strong>git init</strong> 即可</p>
</li>
<li><p>初始化 husky 工具配置，执行 <strong>pnpm dlx husky-init && pnpm install</strong> 即可</p>
<p><a target="_blank" rel="noopener" href="https://typicode.github.io/husky/">https://typicode.github.io/husky/</a></p>
</li>
<li><p>修改 .husky/pre-commit 文件</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-npm test</span><br><span class="line">+pnpm lint</span><br></pre></td></tr></table></figure>

<blockquote>
<p>问题：pnpm lint 是全量检查，耗时问题，历史问题。</p>
</blockquote>
<p><strong>lint-staged 配置</strong></p>
<p>暂存区 eslint 校验</p>
<ol>
<li><p>安装 lint-staged 包 <strong>pnpm i lint-staged -D</strong></p>
</li>
<li><p>package.json 配置 lint-staged 命令</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // ... 省略 ...</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    // ... 省略 ...</span><br><span class="line">    &quot;lint-staged&quot;: &quot;lint-staged&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;lint-staged&quot;: &#123;</span><br><span class="line">    &quot;*.&#123;js,ts,vue&#125;&quot;: [</span><br><span class="line">      &quot;eslint --fix&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>.husky/pre-commit 文件修改</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-pnpm lint</span><br><span class="line">+pnpm lint-staged</span><br></pre></td></tr></table></figure>

<h3 id="目录调整"><a href="#目录调整" class="headerlink" title="目录调整"></a>目录调整</h3><p>默认生成的目录结构不满足我们的开发需求，所以这里需要做一些自定义改动。 主要是以下工作：</p>
<ol>
<li>删除一些初始化的默认文件</li>
<li>修改剩余代码内容</li>
<li>新增调整我们需要的目录结构</li>
<li>拷贝全局样式和图片，安装预处理器支持</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">安装 sass 预处理器</span><br><span class="line">pnpm add sass -D</span><br><span class="line">导入 main.js 作为全局样式</span><br><span class="line">import &#x27;./assets/main.scss&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="vue-router4-路由代码解析"><a href="#vue-router4-路由代码解析" class="headerlink" title="vue-router4 路由代码解析"></a>vue-router4 路由代码解析</h3><p>路由初始化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">// 初始化 vue-router3.x(Vue2)</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  <span class="attr">routes</span>: [],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>创建一个路由实例，路由模式是history模式，路由的基础地址是 vite.config.js中的 base 配置的值， 默认是 / , 环境变量地址： <a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/env-and-mode.html">https://cn.vitejs.dev/guide/env-and-mode.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useUserStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// createRouter 创建路由实例</span></span><br><span class="line"><span class="comment">// 配置 history 模式</span></span><br><span class="line"><span class="comment">// 1. history模式：createWebHistory     地址栏不带 #</span></span><br><span class="line"><span class="comment">// 2. hash模式：   createWebHashHistory 地址栏带 #</span></span><br><span class="line"><span class="comment">// console.log(import.meta.env.DEV)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// vite 中的环境变量 import.meta.env.BASE_URL  就是 vite.config.js 中的 base 配置项</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/LoginPage.vue&#x27;</span>) &#125;, <span class="comment">// 登录页</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/layout/LayoutContainer.vue&#x27;</span>),</span><br><span class="line">      <span class="attr">redirect</span>: <span class="string">&#x27;/article/manage&#x27;</span>,</span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/article/manage&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/article/ArticleManage.vue&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/article/channel&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/article/ArticleChannel.vue&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/user/profile&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/user/UserProfile.vue&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/user/avatar&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/user/UserAvatar.vue&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;/user/password&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/user/UserPassword.vue&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录访问拦截 =&gt; 默认是直接放行的</span></span><br><span class="line"><span class="comment">// 根据返回值决定，是放行还是拦截</span></span><br><span class="line"><span class="comment">// 返回值：</span></span><br><span class="line"><span class="comment">// 1. undefined / true  直接放行</span></span><br><span class="line"><span class="comment">// 2. false 拦回from的地址页面</span></span><br><span class="line"><span class="comment">// 3. 具体路径 或 路径对象  拦截到对应的地址</span></span><br><span class="line"><span class="comment">//    &#x27;/login&#x27;   &#123; name: &#x27;login&#x27; &#125;</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 如果没有token, 且访问的是非登录页，拦截到登录，其他情况正常放行</span></span><br><span class="line">  <span class="keyword">const</span> useStore = <span class="title function_">useUserStore</span>()</span><br><span class="line">  <span class="keyword">if</span> (!useStore.<span class="property">token</span> &amp;&amp; to.<span class="property">path</span> !== <span class="string">&#x27;/login&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;/login&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">/* 这是按vue2的写法，但是是行不通的</span><br><span class="line">const goList = () =&gt; &#123;this.$router.push(&#x27;/list&#x27;)&#125;</span><br><span class="line">*/</span><br><span class="line">// 在 Vue3 CompositionAPI 中</span><br><span class="line">// 1. 获取路由对象 router useRouter</span><br><span class="line">//    const router = useRouter()</span><br><span class="line">// 2. 获取路由参数 route  useRoute</span><br><span class="line">//    const route = useRoute()</span><br><span class="line">import&#123;useRoute, useRouter&#125; from &#x27;vue-router&#x27;</span><br><span class="line">const router = useRouter()</span><br><span class="line">const route = useRoute()</span><br><span class="line">const goList = () =&gt; &#123;</span><br><span class="line">  console.log(router,route)</span><br><span class="line">  router.push(&#x27;/list&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">我是App</span><br><span class="line">&lt;button @click=&quot;$router.push(&#x27;/home&#x27;)&quot;&gt;跳首页&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;goList&quot;&gt;跳首页&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>src/main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./assets/main.scss&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">createPinia</span>())</span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="引入-Element-Plus-组件库"><a href="#引入-Element-Plus-组件库" class="headerlink" title="引入 Element Plus 组件库"></a>引入 Element Plus 组件库</h3><p>按需引入 Element Plus</p>
<ol>
<li><p>安装： <strong>pnpm add element-plus</strong></p>
</li>
<li><p>配置按需导入：<a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/guide/quickstart.html">https://element-plus.org/zh-CN/guide/quickstart.html</a></p>
</li>
<li><p>直接使用组件，不需要 use 和 导入</p>
</li>
<li><p>彩蛋：默认 components 下的文件也会被 自动注册~</p>
</li>
</ol>
<h3 id="数据交互-请求工具设计"><a href="#数据交互-请求工具设计" class="headerlink" title="数据交互 - 请求工具设计"></a>数据交互 - 请求工具设计</h3><ol>
<li>创建 axios 实例</li>
</ol>
<p>我们会使用 axios 来请求后端接口, 一般都会对 axios 进行一些配置 (比如: 配置基础地址等)</p>
<p>一般项目开发中, 都会对 axios 进行基本的二次封装, 单独封装到一个模块中, 便于使用</p>
<p>安装 axios</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add axios</span><br></pre></td></tr></table></figure>

<p>新建 <code>utils/request.js</code> 封装 axios 模块。利用 axios.create 创建一个自定义的 axios 来使用</p>
<p><a target="_blank" rel="noopener" href="http://www.axios-js.com/zh-cn/docs/#axios-create-config">http://www.axios-js.com/zh-cn/docs/#axios-create-config</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;http://big-event-vue-api-t.itheima.net&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="comment">// TODO 1. 基础地址，超时时间</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// TODO 2. 携带token</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// TODO 3. 处理业务失败</span></span><br><span class="line">    <span class="comment">// TODO 4. 摘取核心响应数据</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// TODO 5. 处理401错误</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>完成 axios 基本配置</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useUserStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/user&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;http://big-event-vue-api-t.itheima.net&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  baseURL,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">100000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userStore = <span class="title function_">useUserStore</span>()</span><br><span class="line">    <span class="keyword">if</span> (userStore.<span class="property">token</span>) &#123;</span><br><span class="line">      config.<span class="property">headers</span>.<span class="property">Authorization</span> = userStore.<span class="property">token</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">ElMessage</span>(&#123; <span class="attr">message</span>: res.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;服务异常&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">data</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>(&#123; <span class="attr">message</span>: err.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;服务异常&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span> &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    <span class="keyword">if</span> (err.<span class="property">response</span>?.<span class="property">status</span> === <span class="number">401</span>) &#123;</span><br><span class="line">      router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance</span><br><span class="line"><span class="keyword">export</span> &#123; baseURL &#125;</span><br></pre></td></tr></table></figure>

<h4 id="封装-api-实现注册功能"><a href="#封装-api-实现注册功能" class="headerlink" title="封装 api 实现注册功能"></a>封装 api 实现注册功能</h4><p>需求：封装注册api，进行注册，注册成功切换到登录</p>
<ol>
<li>新建 api/user.js 封装</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userRegisterService</span> = (<span class="params">&#123; username, password, repassword &#125;</span>) =&gt;</span><br><span class="line">  request.<span class="title function_">post</span>(<span class="string">&#x27;/api/reg&#x27;</span>, &#123; username, password, repassword &#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>页面中调用</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">register</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> form.<span class="property">value</span>.<span class="title function_">validate</span>()</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">userRegisterService</span>(formModel.<span class="property">value</span>)</span><br><span class="line">  <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;注册成功&#x27;</span>)</span><br><span class="line">  <span class="comment">// 切换到登录</span></span><br><span class="line">  isRegister.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>eslintrc 中声明全局变量名,  解决 ElMessage 报错问题</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">globals</span>: &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="title class_">ElMessageBox</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="title class_">ElLoading</span>: <span class="string">&#x27;readonly&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="页面访问拦截"><a href="#页面访问拦截" class="headerlink" title="页面访问拦截"></a>页面访问拦截</h3><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p>
<h3 id="v-model在vue2与vue3中的区别"><a href="#v-model在vue2与vue3中的区别" class="headerlink" title="v-model在vue2与vue3中的区别"></a>v-model在vue2与vue3中的区别</h3><p>自己百度看看</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Vue/" rel="tag"># Vue</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/12/06/%E5%89%8D%E7%AB%AF/" rel="prev" title="前端">
                  <i class="fa fa-angle-left"></i> 前端
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">John Doe</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
